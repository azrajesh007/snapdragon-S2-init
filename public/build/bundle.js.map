{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/style-inject/dist/style-inject.es.js","../../node_modules/swheel/src/Router/links.js","../../node_modules/svelte/store/index.mjs","../../node_modules/swheel/src/Router/utils/protection.js","../../node_modules/swheel/src/Router/utils/history/browserHistory.js","../../node_modules/swheel/src/Router/utils/history/baseHistory.js","../../node_modules/swheel/src/Router/utils/history/index.js","../../node_modules/path-to-regexp/index.js","../../node_modules/swheel/src/Router/utils/matchPath.js","../../node_modules/swheel/src/Router/utils/basePath.js","../../node_modules/swheel/src/Router/utils/register.js","../../node_modules/swheel/src/Router/utils/fragment.js","../../node_modules/swheel/src/Router/BaseRouter.svelte","../../node_modules/swheel/src/Router/BrowserRouter.svelte","../../node_modules/swheel/src/Router/utils/lazyCache.js","../../node_modules/swheel/src/Router/Lazy.svelte","../../node_modules/swheel/src/Router/Route.svelte","../../node_modules/swheel/src/Router/Fallback.svelte","../../node_modules/notyf/notyf.es.js","../../src/utils/toast.js","../../node_modules/file-saver/FileSaver.js","../../node_modules/moment/moment.js","../../src/utils/modal.js","../../src/models/team.js","../../src/utils/rest.js","../../src/models/user.js","../../src/layouts/partials/Header.svelte","../../src/layouts/partials/Footer.svelte","../../src/components/Video.svelte","../../src/layouts/partials/Insider.svelte","../../src/pages/Home.svelte","../../node_modules/tslib/tslib.es6.js","../../node_modules/preact/dist/preact.module.js","../../node_modules/preact/hooks/dist/hooks.module.js","../../node_modules/preact/compat/dist/compat.module.js","../../node_modules/@fullcalendar/core/vdom.js","../../node_modules/@fullcalendar/common/vdom.js","../../node_modules/@fullcalendar/common/main.js","../../node_modules/@fullcalendar/core/main.js","../../node_modules/@fullcalendar/daygrid/main.js","../../src/pages/Videos.svelte","../../src/pages/PrivacyPolicy.svelte","../../src/pages/Cookies.svelte","../../src/pages/TermsOfUse.svelte","../../node_modules/body-scroll-lock/lib/bodyScrollLock.esm.js","../../src/components/ModalRenderer.svelte","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root.host) {\n        return root;\n    }\n    return document;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentElement !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => svg ? svg_element(name) : element(name));\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration();\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, bubbles = false) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor() {\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes) {\n        super();\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = append_empty_stylesheet(node).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction escape_attribute_value(value) {\n    return typeof value === 'string' ? escape(value) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : context || []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : options.context || []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.41.0' }, detail), true));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_html_tag, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, src_url_equal, start_hydrating, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","export function links(node, { history }) {\n  function onClick(e) {\n    e.stopPropagation();\n    let current = e.target;\n\n    while (current && current.tagName !== 'A') {\n      current = current.parentElement;\n    }\n\n    if (\n      current &&\n      !['_self', '_blank', '_top', '_parent'].includes(\n        current.getAttribute('target'),\n      )\n    ) {\n      const action = current.getAttribute('replace') ? 'replace' : 'push';\n      const href = current.getAttribute('href');\n      if (!['//', 'http'].find(rule => href.startsWith(rule))) {\n        e.preventDefault();\n        history[action](href);\n      }\n    }\n  }\n\n  node.addEventListener('click', onClick);\n\n  return {\n    destroy() {\n      node.removeEventListener('click', onClick);\n    },\n  };\n}\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","import { setContext, getContext } from 'svelte';\nimport { derived, writable } from 'svelte/store';\n\nconst CONTEXT_KEY = '_protection';\n\nexport function createProtection() {\n  setContext(CONTEXT_KEY, []);\n}\n\nexport function createLocalProtection(initial) {\n  const localProtection = writable(initial);\n  setContext(CONTEXT_KEY, [...getContext(CONTEXT_KEY), localProtection]);\n  return localProtection;\n}\n\nexport function getProtected() {\n  return derived(getContext(CONTEXT_KEY), protections =>\n    protections.reduce((acc, next) => acc && next, true),\n  );\n}\n","import { onDestroy } from 'svelte';\nimport { createBaseHistory } from './baseHistory.js';\nconst globalHistory = window.history;\n\nexport function createBrowserHistory() {\n  const {\n    currentPath,\n    setPath,\n    block,\n    unblock,\n    isBlocked,\n    acceptLeave,\n    cancelLeave,\n    onLeave,\n    offLeave,\n    wasTriedToLeave,\n  } = createBaseHistory(getCurrentPath());\n\n  let isStateChangedFromUI = false;\n  let pendingAction = null;\n  let currentState = globalHistory.state || 0;\n\n  globalHistory.replaceState(currentState, '', getCurrentPath());\n\n  function push(to) {\n    if (isBlocked()) return [push, [to]];\n    globalHistory.pushState(++currentState, null, to);\n    setCurrentPath();\n  }\n\n  function back() {\n    if (isBlocked()) return [back, []];\n    isStateChangedFromUI = true;\n    globalHistory.back();\n    currentState--;\n  }\n\n  function forward() {\n    if (isBlocked()) return [forward, []];\n    isStateChangedFromUI = true;\n    globalHistory.forward();\n    currentState++;\n  }\n\n  function replace(to) {\n    if (isBlocked()) return [replace, [to]];\n    globalHistory.replaceState(currentState, null, to);\n    setCurrentPath();\n  }\n\n  function onStateChange(e) {\n    if (isStateChangedFromUI) {\n      setCurrentPath();\n      isStateChangedFromUI = false;\n      return;\n    }\n\n    if (isBlocked()) {\n      globalHistory[e.state < currentState ? 'forward' : 'back']();\n      isStateChangedFromUI = true;\n      return [e.state < currentState ? back : forward, []];\n    }\n    currentState = e.state;\n    setCurrentPath();\n  }\n\n  function wrapAfterAction(action) {\n    return (...args) => {\n      const presentedPendingAction = action(...args);\n      if (presentedPendingAction) {\n        pendingAction = presentedPendingAction;\n        wasTriedToLeave();\n      }\n    };\n  }\n\n  function onAcceptLeave() {\n    acceptLeave();\n    const [fn, args] = pendingAction;\n    fn(...args);\n  }\n\n  function onPageUnload(e) {\n    if (isBlocked()) {\n      e.returnValue = '';\n      return 'Are you sure?';\n    }\n  }\n\n  function getCurrentPath() {\n    return `${location.pathname}${location.search}${location.hash}`;\n  }\n\n  function setCurrentPath() {\n    setPath(getCurrentPath());\n  }\n\n  const wrappedOnStateChange = wrapAfterAction(onStateChange);\n\n  window.addEventListener('popstate', wrappedOnStateChange);\n  window.addEventListener('beforeunload', onPageUnload);\n\n  onDestroy(() => {\n    pendingAction = null;\n    window.removeEventListener('popstate', wrappedOnStateChange);\n    window.removeEventListener('beforeunload', onPageUnload);\n  });\n\n  return {\n    currentPath,\n    push: wrapAfterAction(push),\n    back: wrapAfterAction(back),\n    forward: wrapAfterAction(forward),\n    replace: wrapAfterAction(replace),\n    block,\n    unblock,\n    acceptLeave: onAcceptLeave,\n    cancelLeave,\n    onLeave,\n    offLeave,\n  };\n}\n","import { writable } from 'svelte/store';\n\nexport function createBaseHistory(initialPath) {\n  let _isBlocked = false;\n  let _isLeaving = false;\n  let _leaveListeners = [];\n  let currentPath = writable(initialPath);\n\n  function setPath(path) {\n    currentPath.set(path);\n  }\n\n  function block() {\n    _isBlocked = true;\n  }\n\n  function unblock() {\n    _isBlocked = false;\n    _isLeaving = false;\n  }\n\n  function isBlocked() {\n    return _isBlocked;\n  }\n\n  function wasTriedToLeave() {\n    if (!_isLeaving) {\n      _isLeaving = true;\n      _leaveListeners.forEach(listener => listener(_isLeaving));\n    }\n  }\n\n  function acceptLeave() {\n    unblock();\n  }\n\n  function cancelLeave() {\n    _isLeaving = false;\n    _leaveListeners.forEach(listener => listener(_isLeaving));\n  }\n\n  function onLeave(callback) {\n    _leaveListeners.push(callback);\n  }\n\n  function offLeave(callback) {\n    _leaveListeners = _leaveListeners.filter(listener => listener !== callback);\n  }\n\n  return {\n    setPath,\n    block,\n    unblock,\n    isBlocked,\n    acceptLeave,\n    cancelLeave,\n    onLeave,\n    offLeave,\n    wasTriedToLeave,\n    currentPath: { subscribe: currentPath.subscribe },\n  };\n}\n","import { setContext, getContext } from 'svelte';\nimport { createMemoryHistory as createBaseMemoryHistory } from './memoryHistory.js';\nimport { createBrowserHistory as createBaseBrowserHistory } from './browserHistory.js';\n\nexport const HISTORY_KEY = '__history';\n\nfunction createHistory(baseHistory) {\n  setContext(HISTORY_KEY, baseHistory);\n  return baseHistory;\n}\n\nexport function getHistory() {\n  return getContext(HISTORY_KEY);\n}\n\nexport function createBrowserHistory() {\n  return createHistory(createBaseBrowserHistory());\n}\n\nexport function createMemoryHistory() {\n  return createHistory(createBaseMemoryHistory());\n}\n","/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.match = match\nmodule.exports.regexpToFunction = regexpToFunction\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * Default configs.\n */\nvar DEFAULT_DELIMITER = '/'\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \":test(\\\\d+)?\" => [\"test\", \"\\d+\", undefined, \"?\"]\n  // \"(\\\\d+)\"  => [undefined, undefined, \"\\d+\", undefined]\n  '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER\n  var whitelist = (options && options.whitelist) || undefined\n  var pathEscaped = false\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      pathEscaped = true\n      continue\n    }\n\n    var prev = ''\n    var name = res[2]\n    var capture = res[3]\n    var group = res[4]\n    var modifier = res[5]\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1\n      var c = path[k]\n      var matches = whitelist ? whitelist.indexOf(c) > -1 : true\n\n      if (matches) {\n        prev = c\n        path = path.slice(0, k)\n      }\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n      pathEscaped = false\n    }\n\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var pattern = capture || group\n    var delimiter = prev || defaultDelimiter\n\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      pattern: pattern\n        ? escapeGroup(pattern)\n        : '[^' + escapeString(delimiter === defaultDelimiter ? delimiter : (delimiter + defaultDelimiter)) + ']+?'\n    })\n  }\n\n  // Push any remaining characters.\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index))\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options), options)\n}\n\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nfunction match (str, options) {\n  var keys = []\n  var re = pathToRegexp(str, keys, options)\n  return regexpToFunction(re, keys)\n}\n\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nfunction regexpToFunction (re, keys) {\n  return function (pathname, options) {\n    var m = re.exec(pathname)\n    if (!m) return false\n\n    var path = m[0]\n    var index = m.index\n    var params = {}\n    var decode = (options && options.decode) || decodeURIComponent\n\n    for (var i = 1; i < m.length; i++) {\n      if (m[i] === undefined) continue\n\n      var key = keys[i - 1]\n\n      if (key.repeat) {\n        params[key.name] = m[i].split(key.delimiter).map(function (value) {\n          return decode(value, key)\n        })\n      } else {\n        params[key.name] = decode(m[i], key)\n      }\n    }\n\n    return { path: path, index: index, params: params }\n  }\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens, options) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$', flags(options))\n    }\n  }\n\n  return function (data, options) {\n    var path = ''\n    var encode = (options && options.encode) || encodeURIComponent\n    var validate = options ? options.validate !== false : true\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n        continue\n      }\n\n      var value = data ? data[token.name] : undefined\n      var segment\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue\n\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j], token)\n\n          if (validate && !matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value), token)\n\n        if (validate && !matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"')\n        }\n\n        path += token.prefix + segment\n        continue\n      }\n\n      if (token.optional) continue\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'))\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1')\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  if (!keys) return path\n\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        pattern: null\n      })\n    }\n  }\n\n  return path\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options))\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  options = options || {}\n\n  var strict = options.strict\n  var start = options.start !== false\n  var end = options.end !== false\n  var delimiter = options.delimiter || DEFAULT_DELIMITER\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|')\n  var route = start ? '^' : ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var capture = token.repeat\n        ? '(?:' + token.pattern + ')(?:' + escapeString(token.delimiter) + '(?:' + token.pattern + '))*'\n        : token.pattern\n\n      if (keys) keys.push(token)\n\n      if (token.optional) {\n        if (!token.prefix) {\n          route += '(' + capture + ')?'\n        } else {\n          route += '(?:' + escapeString(token.prefix) + '(' + capture + '))?'\n        }\n      } else {\n        route += escapeString(token.prefix) + '(' + capture + ')'\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + escapeString(delimiter) + ')?'\n\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')'\n  } else {\n    var endToken = tokens[tokens.length - 1]\n    var isEndDelimited = typeof endToken === 'string'\n      ? endToken[endToken.length - 1] === delimiter\n      : endToken === undefined\n\n    if (!strict) route += '(?:' + escapeString(delimiter) + '(?=' + endsWith + '))?'\n    if (!isEndDelimited) route += '(?=' + escapeString(delimiter) + '|' + endsWith + ')'\n  }\n\n  return new RegExp(route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys)\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), keys, options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), keys, options)\n}\n","import pathToRegexp from 'path-to-regexp';\n\nconst patternCache = {};\nconst cacheLimit = 10000;\nlet cacheCount = 0;\n\nfunction compilePath(pattern, options) {\n  const cacheKey = `${options.end}${options.strict}${options.sensitive}`;\n  const cache = patternCache[cacheKey] || (patternCache[cacheKey] = {});\n\n  if (cache[pattern]) {\n    return cache[pattern];\n  }\n\n  const keys = [];\n  const re = pathToRegexp(pattern, keys, options);\n  const compiledPattern = { re, keys };\n\n  if (cacheCount < cacheLimit) {\n    cache[pattern] = compiledPattern;\n    cacheCount++;\n  }\n\n  return compiledPattern;\n}\n\nexport function matchPath(pathname, options = {}) {\n  if (typeof options === 'string') {\n    options = { path: options };\n  }\n\n  if (options.path === '*') {\n    return true;\n  }\n\n  pathname = pathname.split('#')[0];\n\n  const {\n    path = '/',\n    exact = false,\n    strict = false,\n    sensitive = false,\n  } = options;\n  const { re, keys } = compilePath(path, { end: exact, strict, sensitive });\n  const match = re.exec(pathname);\n\n  if (!match) {\n    return null;\n  }\n\n  const [url, ...values] = match;\n  const isExact = pathname === url;\n\n  if (exact && !isExact) {\n    return null;\n  }\n\n  return {\n    path,\n    url: path === '/' && url === '' ? '/' : url,\n    isExact,\n    params: keys.reduce((memo, key, index) => {\n      memo[key.name] = values[index];\n      return memo;\n    }, {}),\n  };\n}\n","import { getContext, setContext } from 'svelte';\n\nconst CONTEXT_KEY = '_base_path';\n\nexport function createBasePath(basePath) {\n  setContext(CONTEXT_KEY, basePath);\n}\n\nexport function getBasePath() {\n  return (getContext(CONTEXT_KEY) || '').replace(/\\/$/, '');\n}\n","import { tick, setContext, getContext, onDestroy } from 'svelte';\nimport { get, derived, writable, readable } from 'svelte/store';\nimport { getProtected } from './protection.js';\nimport { getHistory } from './history/index.js';\nimport { matchPath } from './matchPath.js';\nimport { createBasePath } from './basePath.js';\nimport { dynamicDerived } from './dynamicDerived.js';\n\nconst identity = _ => _;\n\nconst CONTEXT_ROUTER_KEY = '__router';\nconst CONTEXT_DEPTH_KEY = '__router_depth';\nconst CONTEXT_RENDER_UNLOCKED = '__render_unlocked';\n\nexport function createRouter(basePath = '/') {\n  let routes = [];\n\n  createBasePath(basePath);\n  setContext(CONTEXT_DEPTH_KEY, 0);\n  setContext(CONTEXT_ROUTER_KEY, {\n    getRoutes: () => routes,\n    add(route) {\n      routes = [...routes, route];\n    },\n    remove(route) {\n      routes = routes.filter(({ path }) => path !== route.path);\n    },\n  });\n  setContext(CONTEXT_RENDER_UNLOCKED, readable(true));\n}\n\nexport function createLayout() {\n  const parentContext = getContext(CONTEXT_ROUTER_KEY);\n  let isAnyMatch = writable(false);\n  const dynamicSubjects = dynamicDerived($subjects =>\n    $subjects.reduce((acc, next) => acc || !!next, false),\n  );\n\n  const unsubscribe = dynamicSubjects.subscribe(_isAnyMatch => {\n    isAnyMatch.set(_isAnyMatch);\n  });\n\n  setContext(CONTEXT_ROUTER_KEY, {\n    getRoutes: parentContext.getRoutes,\n    add(route) {\n      parentContext.add(route);\n      dynamicSubjects.push(route.subject);\n    },\n    remove(route) {\n      parentContext.remove(route);\n      dynamicSubjects.remove(route.subject);\n    },\n  });\n\n  setContext(CONTEXT_RENDER_UNLOCKED, isAnyMatch);\n\n  onDestroy(() => unsubscribe());\n\n  return isAnyMatch;\n}\n\nexport function getDepth() {\n  const currentDepth = getContext(CONTEXT_DEPTH_KEY) + 1;\n  setContext(CONTEXT_DEPTH_KEY, currentDepth);\n  return currentDepth;\n}\n\nexport function createRoute({ path, exact, depth }) {\n  const isProtected = getProtected();\n  const isRenderUnlocked = getContext(CONTEXT_RENDER_UNLOCKED);\n  const context = getContext(CONTEXT_ROUTER_KEY);\n  const { currentPath } = getHistory();\n\n  const subject = derived(\n    [isProtected, currentPath],\n    ([$isProtected, $currentPath]) =>\n      $isProtected && matchPath($currentPath, { path, exact }),\n  );\n\n  const routeData = { path, exact, isProtected, depth, subject };\n\n  context.add(routeData);\n  onDestroy(() => context.remove(routeData));\n\n  return [subject, isRenderUnlocked];\n}\n\nexport function createRedirect({ from, to, exact, depth }) {\n  const isProtected = getProtected();\n  const context = getContext(CONTEXT_ROUTER_KEY);\n  const { push, replace, currentPath } = getHistory();\n\n  const unsubscribe = derived([isProtected, currentPath], identity).subscribe(\n    async ([$isProtected, $currentPath]) => {\n      await tick();\n      const routes = context.getRoutes();\n      const isFromMatch = matchPath($currentPath, { path: from, exact });\n      const isSomeMatch = routes.some(route => {\n        return (\n          get(route.isProtected) &&\n          matchPath($currentPath, route) &&\n          route.depth === depth\n        );\n      });\n\n      if ($isProtected && !isSomeMatch && isFromMatch) {\n        (from !== '*' ? replace : push)(to);\n      }\n    },\n  );\n\n  onDestroy(unsubscribe);\n}\n\nexport function createFallback() {\n  const context = getContext(CONTEXT_ROUTER_KEY);\n  const isFallback = writable(false);\n  const { currentPath } = getHistory();\n\n  const unsubscribe = currentPath.subscribe(async $history => {\n    await tick();\n    const routes = context.getRoutes();\n    const nextFallback = !routes.some(\n      route => get(route.isProtected) && matchPath($history, route),\n    );\n    isFallback.set(nextFallback);\n  });\n\n  onDestroy(unsubscribe);\n  return isFallback;\n}\n","export function fragment(node) {\n  node.parentElement.appendChild(node.content);\n  node.setAttribute('style', 'display: none;');\n\n  return {\n    destroy() {\n      if (node && node.parentElement) {\n        node.parentElement.removeChild(node.content);\n      }\n    },\n  };\n}\n","<script context=\"module\">\n  let id = 0;\n  const cachedHistory = new Map();\n\n  export function getHistoryById(historyId) {\n    return cachedHistory.get(historyId);\n  }\n</script>\n\n<script>\n  import { onDestroy } from 'svelte';\n  import { links } from './links.js';\n  import { createProtection } from './utils/protection.js';\n  import { createRouter } from './utils/register.js';\n  import { fragment } from './utils/fragment.js';\n\n  export let history;\n\n  createRouter();\n  createProtection();\n\n  const mId = id++;\n  cachedHistory.set(mId, history);\n\n  onDestroy(() => {\n    cachedHistory.delete(mId);\n  });\n</script>\n\n<object aria-label=\"__links_{mId}\" use:links={{ history }}>\n  <slot />\n</object>\n","<script>\n  import BaseRouter from './BaseRouter.svelte';\n  import { createBrowserHistory } from './utils/history/index.js';\n  const history = createBrowserHistory();\n</script>\n\n<BaseRouter {history}>\n  <slot />\n</BaseRouter>\n","const cache = new Map();\n\nfunction createThrottling(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nexport async function getPromiseFromCache(component, throttle) {\n  if (!cache.has(component)) {\n    const promise = Promise.all([component(), createThrottling(throttle)]).then(\n      ([loadedComponent]) => loadedComponent,\n    );\n\n    cache.set(component, promise);\n  }\n\n  return cache.get(component);\n}\n","<script>\n  import { getPromiseFromCache } from './utils/lazyCache.js';\n\n  export let component;\n  export let throttle;\n  export let data = {};\n\n  $: promise = getPromiseFromCache(component, throttle);\n</script>\n\n{#await promise}\n  <slot name=\"pending\" />\n{:then loadedComponent}\n  <svelte:component this={loadedComponent.default} {...data} />\n{:catch}\n  <slot name=\"catch\" />\n{/await}\n","<script>\n  import { getProtected } from './utils/protection.js';\n  import { createRoute, getDepth } from './utils/register.js';\n  import { createBasePath, getBasePath } from './utils/basePath.js';\n  import { fragment } from './utils/fragment.js';\n  import Lazy from './Lazy.svelte';\n\n  export let path;\n  export let lazy = null;\n  export let component = null;\n  export let throttle = 0;\n  export let exact = false;\n  export let when = true;\n\n  const depth = getDepth();\n  const routePath = getBasePath() + path;\n\n  createBasePath(routePath);\n\n  const [match, isRenderUnlocked] = createRoute({\n    path: routePath,\n    exact,\n    depth,\n  });\n</script>\n\n{#if $match && when && $isRenderUnlocked}\n  {#if typeof lazy === 'function'}\n    <Lazy component={lazy} {throttle} data={$match.params}>\n      <template use:fragment slot=\"pending\">\n        <slot name=\"pending\" />\n      </template>\n      <template use:fragment slot=\"catch\">\n        <slot name=\"catch\" />\n      </template>\n    </Lazy>\n  {:else if !!component}\n    <svelte:component this={component} {...$match.params} />\n  {:else}\n    <slot params={$match.params} />\n  {/if}\n{/if}\n","<script>\n  import Route from './Route.svelte';\n  import Lazy from './Lazy.svelte';\n  import { createFallback } from './utils/register.js';\n  import { fragment } from './utils/fragment.js';\n\n  export let lazy = null;\n  export let component = null;\n  export let throttle = 0;\n\n  const isFallback = createFallback();\n</script>\n\n{#if $isFallback}\n  {#if lazy}\n    <Lazy component={lazy} {throttle}>\n      <template use:fragment slot=\"pending\">\n        <slot name=\"pending\" />\n      </template>\n      <template use:fragment slot=\"catch\">\n        <slot name=\"catch\" />\n      </template>\n    </Lazy>\n  {:else if !!component}\n    <svelte:component this={component} />\n  {:else}\n    <slot />\n  {/if}\n{/if}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar NotyfNotification = /** @class */ (function () {\r\n    function NotyfNotification(options) {\r\n        this.options = options;\r\n        this.listeners = {};\r\n    }\r\n    NotyfNotification.prototype.on = function (eventType, cb) {\r\n        var callbacks = this.listeners[eventType] || [];\r\n        this.listeners[eventType] = callbacks.concat([cb]);\r\n    };\r\n    NotyfNotification.prototype.triggerEvent = function (eventType, event) {\r\n        var _this = this;\r\n        var callbacks = this.listeners[eventType] || [];\r\n        callbacks.forEach(function (cb) { return cb({ target: _this, event: event }); });\r\n    };\r\n    return NotyfNotification;\r\n}());\r\nvar NotyfArrayEvent;\r\n(function (NotyfArrayEvent) {\r\n    NotyfArrayEvent[NotyfArrayEvent[\"Add\"] = 0] = \"Add\";\r\n    NotyfArrayEvent[NotyfArrayEvent[\"Remove\"] = 1] = \"Remove\";\r\n})(NotyfArrayEvent || (NotyfArrayEvent = {}));\r\nvar NotyfArray = /** @class */ (function () {\r\n    function NotyfArray() {\r\n        this.notifications = [];\r\n    }\r\n    NotyfArray.prototype.push = function (elem) {\r\n        this.notifications.push(elem);\r\n        this.updateFn(elem, NotyfArrayEvent.Add, this.notifications);\r\n    };\r\n    NotyfArray.prototype.splice = function (index, num) {\r\n        var elem = this.notifications.splice(index, num)[0];\r\n        this.updateFn(elem, NotyfArrayEvent.Remove, this.notifications);\r\n        return elem;\r\n    };\r\n    NotyfArray.prototype.indexOf = function (elem) {\r\n        return this.notifications.indexOf(elem);\r\n    };\r\n    NotyfArray.prototype.onUpdate = function (fn) {\r\n        this.updateFn = fn;\r\n    };\r\n    return NotyfArray;\r\n}());\n\nvar NotyfEvent;\r\n(function (NotyfEvent) {\r\n    NotyfEvent[\"Dismiss\"] = \"dismiss\";\r\n    NotyfEvent[\"Click\"] = \"click\";\r\n})(NotyfEvent || (NotyfEvent = {}));\r\nvar DEFAULT_OPTIONS = {\r\n    types: [\r\n        {\r\n            type: 'success',\r\n            className: 'notyf__toast--success',\r\n            backgroundColor: '#3dc763',\r\n            icon: {\r\n                className: 'notyf__icon--success',\r\n                tagName: 'i',\r\n            },\r\n        },\r\n        {\r\n            type: 'error',\r\n            className: 'notyf__toast--error',\r\n            backgroundColor: '#ed3d3d',\r\n            icon: {\r\n                className: 'notyf__icon--error',\r\n                tagName: 'i',\r\n            },\r\n        },\r\n    ],\r\n    duration: 2000,\r\n    ripple: true,\r\n    position: {\r\n        x: 'right',\r\n        y: 'bottom',\r\n    },\r\n    dismissible: false,\r\n};\n\nvar NotyfView = /** @class */ (function () {\r\n    function NotyfView() {\r\n        this.notifications = [];\r\n        this.events = {};\r\n        this.X_POSITION_FLEX_MAP = {\r\n            left: 'flex-start',\r\n            center: 'center',\r\n            right: 'flex-end',\r\n        };\r\n        this.Y_POSITION_FLEX_MAP = {\r\n            top: 'flex-start',\r\n            center: 'center',\r\n            bottom: 'flex-end',\r\n        };\r\n        // Creates the main notifications container\r\n        var docFrag = document.createDocumentFragment();\r\n        var notyfContainer = this._createHTMLElement({ tagName: 'div', className: 'notyf' });\r\n        docFrag.appendChild(notyfContainer);\r\n        document.body.appendChild(docFrag);\r\n        this.container = notyfContainer;\r\n        // Identifies the main animation end event\r\n        this.animationEndEventName = this._getAnimationEndEventName();\r\n        this._createA11yContainer();\r\n    }\r\n    NotyfView.prototype.on = function (event, cb) {\r\n        var _a;\r\n        this.events = __assign(__assign({}, this.events), (_a = {}, _a[event] = cb, _a));\r\n    };\r\n    NotyfView.prototype.update = function (notification, type) {\r\n        if (type === NotyfArrayEvent.Add) {\r\n            this.addNotification(notification);\r\n        }\r\n        else if (type === NotyfArrayEvent.Remove) {\r\n            this.removeNotification(notification);\r\n        }\r\n    };\r\n    NotyfView.prototype.removeNotification = function (notification) {\r\n        var _this = this;\r\n        var renderedNotification = this._popRenderedNotification(notification);\r\n        var node;\r\n        if (!renderedNotification) {\r\n            return;\r\n        }\r\n        node = renderedNotification.node;\r\n        node.classList.add('notyf__toast--disappear');\r\n        var handleEvent;\r\n        node.addEventListener(this.animationEndEventName, (handleEvent = function (event) {\r\n            if (event.target === node) {\r\n                node.removeEventListener(_this.animationEndEventName, handleEvent);\r\n                _this.container.removeChild(node);\r\n            }\r\n        }));\r\n    };\r\n    NotyfView.prototype.addNotification = function (notification) {\r\n        var node = this._renderNotification(notification);\r\n        this.notifications.push({ notification: notification, node: node });\r\n        // For a11y purposes, we still want to announce that there's a notification in the screen\r\n        // even if it comes with no message.\r\n        this._announce(notification.options.message || 'Notification');\r\n    };\r\n    NotyfView.prototype._renderNotification = function (notification) {\r\n        var _a;\r\n        var card = this._buildNotificationCard(notification);\r\n        var className = notification.options.className;\r\n        if (className) {\r\n            (_a = card.classList).add.apply(_a, className.split(' '));\r\n        }\r\n        this.container.appendChild(card);\r\n        return card;\r\n    };\r\n    NotyfView.prototype._popRenderedNotification = function (notification) {\r\n        var idx = -1;\r\n        for (var i = 0; i < this.notifications.length && idx < 0; i++) {\r\n            if (this.notifications[i].notification === notification) {\r\n                idx = i;\r\n            }\r\n        }\r\n        if (idx !== -1) {\r\n            return this.notifications.splice(idx, 1)[0];\r\n        }\r\n        return;\r\n    };\r\n    NotyfView.prototype.getXPosition = function (options) {\r\n        var _a;\r\n        return ((_a = options === null || options === void 0 ? void 0 : options.position) === null || _a === void 0 ? void 0 : _a.x) || 'right';\r\n    };\r\n    NotyfView.prototype.getYPosition = function (options) {\r\n        var _a;\r\n        return ((_a = options === null || options === void 0 ? void 0 : options.position) === null || _a === void 0 ? void 0 : _a.y) || 'bottom';\r\n    };\r\n    NotyfView.prototype.adjustContainerAlignment = function (options) {\r\n        var align = this.X_POSITION_FLEX_MAP[this.getXPosition(options)];\r\n        var justify = this.Y_POSITION_FLEX_MAP[this.getYPosition(options)];\r\n        var style = this.container.style;\r\n        style.setProperty('justify-content', justify);\r\n        style.setProperty('align-items', align);\r\n    };\r\n    NotyfView.prototype._buildNotificationCard = function (notification) {\r\n        var _this = this;\r\n        var options = notification.options;\r\n        var iconOpts = options.icon;\r\n        // Adjust container according to position (e.g. top-left, bottom-center, etc)\r\n        this.adjustContainerAlignment(options);\r\n        // Create elements\r\n        var notificationElem = this._createHTMLElement({ tagName: 'div', className: 'notyf__toast' });\r\n        var ripple = this._createHTMLElement({ tagName: 'div', className: 'notyf__ripple' });\r\n        var wrapper = this._createHTMLElement({ tagName: 'div', className: 'notyf__wrapper' });\r\n        var message = this._createHTMLElement({ tagName: 'div', className: 'notyf__message' });\r\n        message.innerHTML = options.message || '';\r\n        var mainColor = options.background || options.backgroundColor;\r\n        // Build the icon and append it to the card\r\n        if (iconOpts) {\r\n            var iconContainer = this._createHTMLElement({ tagName: 'div', className: 'notyf__icon' });\r\n            if (typeof iconOpts === 'string' || iconOpts instanceof String)\r\n                iconContainer.innerHTML = new String(iconOpts).valueOf();\r\n            if (typeof iconOpts === 'object') {\r\n                var _a = iconOpts.tagName, tagName = _a === void 0 ? 'i' : _a, className_1 = iconOpts.className, text = iconOpts.text, _b = iconOpts.color, color = _b === void 0 ? mainColor : _b;\r\n                var iconElement = this._createHTMLElement({ tagName: tagName, className: className_1, text: text });\r\n                if (color)\r\n                    iconElement.style.color = color;\r\n                iconContainer.appendChild(iconElement);\r\n            }\r\n            wrapper.appendChild(iconContainer);\r\n        }\r\n        wrapper.appendChild(message);\r\n        notificationElem.appendChild(wrapper);\r\n        // Add ripple if applicable, else just paint the full toast\r\n        if (mainColor) {\r\n            if (options.ripple) {\r\n                ripple.style.background = mainColor;\r\n                notificationElem.appendChild(ripple);\r\n            }\r\n            else {\r\n                notificationElem.style.background = mainColor;\r\n            }\r\n        }\r\n        // Add dismiss button\r\n        if (options.dismissible) {\r\n            var dismissWrapper = this._createHTMLElement({ tagName: 'div', className: 'notyf__dismiss' });\r\n            var dismissButton = this._createHTMLElement({\r\n                tagName: 'button',\r\n                className: 'notyf__dismiss-btn',\r\n            });\r\n            dismissWrapper.appendChild(dismissButton);\r\n            wrapper.appendChild(dismissWrapper);\r\n            notificationElem.classList.add(\"notyf__toast--dismissible\");\r\n            dismissButton.addEventListener('click', function (event) {\r\n                var _a, _b;\r\n                (_b = (_a = _this.events)[NotyfEvent.Dismiss]) === null || _b === void 0 ? void 0 : _b.call(_a, { target: notification, event: event });\r\n                event.stopPropagation();\r\n            });\r\n        }\r\n        notificationElem.addEventListener('click', function (event) { var _a, _b; return (_b = (_a = _this.events)[NotyfEvent.Click]) === null || _b === void 0 ? void 0 : _b.call(_a, { target: notification, event: event }); });\r\n        // Adjust margins depending on whether its an upper or lower notification\r\n        var className = this.getYPosition(options) === 'top' ? 'upper' : 'lower';\r\n        notificationElem.classList.add(\"notyf__toast--\" + className);\r\n        return notificationElem;\r\n    };\r\n    NotyfView.prototype._createHTMLElement = function (_a) {\r\n        var tagName = _a.tagName, className = _a.className, text = _a.text;\r\n        var elem = document.createElement(tagName);\r\n        if (className) {\r\n            elem.className = className;\r\n        }\r\n        elem.textContent = text || null;\r\n        return elem;\r\n    };\r\n    /**\r\n     * Creates an invisible container which will announce the notyfs to\r\n     * screen readers\r\n     */\r\n    NotyfView.prototype._createA11yContainer = function () {\r\n        var a11yContainer = this._createHTMLElement({ tagName: 'div', className: 'notyf-announcer' });\r\n        a11yContainer.setAttribute('aria-atomic', 'true');\r\n        a11yContainer.setAttribute('aria-live', 'polite');\r\n        // Set the a11y container to be visible hidden. Can't use display: none as\r\n        // screen readers won't read it.\r\n        a11yContainer.style.border = '0';\r\n        a11yContainer.style.clip = 'rect(0 0 0 0)';\r\n        a11yContainer.style.height = '1px';\r\n        a11yContainer.style.margin = '-1px';\r\n        a11yContainer.style.overflow = 'hidden';\r\n        a11yContainer.style.padding = '0';\r\n        a11yContainer.style.position = 'absolute';\r\n        a11yContainer.style.width = '1px';\r\n        a11yContainer.style.outline = '0';\r\n        document.body.appendChild(a11yContainer);\r\n        this.a11yContainer = a11yContainer;\r\n    };\r\n    /**\r\n     * Announces a message to screenreaders.\r\n     */\r\n    NotyfView.prototype._announce = function (message) {\r\n        var _this = this;\r\n        this.a11yContainer.textContent = '';\r\n        // This 100ms timeout is necessary for some browser + screen-reader combinations:\r\n        // - Both JAWS and NVDA over IE11 will not announce anything without a non-zero timeout.\r\n        // - With Chrome and IE11 with NVDA or JAWS, a repeated (identical) message won't be read a\r\n        //   second time without clearing and then using a non-zero delay.\r\n        // (using JAWS 17 at time of this writing).\r\n        // https://github.com/angular/material2/blob/master/src/cdk/a11y/live-announcer/live-announcer.ts\r\n        setTimeout(function () {\r\n            _this.a11yContainer.textContent = message;\r\n        }, 100);\r\n    };\r\n    /**\r\n     * Determine which animationend event is supported\r\n     */\r\n    NotyfView.prototype._getAnimationEndEventName = function () {\r\n        var el = document.createElement('_fake');\r\n        var transitions = {\r\n            MozTransition: 'animationend',\r\n            OTransition: 'oAnimationEnd',\r\n            WebkitTransition: 'webkitAnimationEnd',\r\n            transition: 'animationend',\r\n        };\r\n        var t;\r\n        for (t in transitions) {\r\n            if (el.style[t] !== undefined) {\r\n                return transitions[t];\r\n            }\r\n        }\r\n        // No supported animation end event. Using \"animationend\" as a fallback\r\n        return 'animationend';\r\n    };\r\n    return NotyfView;\r\n}());\n\n/**\r\n * Main controller class. Defines the main Notyf API.\r\n */\r\nvar Notyf = /** @class */ (function () {\r\n    function Notyf(opts) {\r\n        var _this = this;\r\n        this.dismiss = this._removeNotification;\r\n        this.notifications = new NotyfArray();\r\n        this.view = new NotyfView();\r\n        var types = this.registerTypes(opts);\r\n        this.options = __assign(__assign({}, DEFAULT_OPTIONS), opts);\r\n        this.options.types = types;\r\n        this.notifications.onUpdate(function (elem, type) { return _this.view.update(elem, type); });\r\n        this.view.on(NotyfEvent.Dismiss, function (_a) {\r\n            var target = _a.target, event = _a.event;\r\n            _this._removeNotification(target);\r\n            // tslint:disable-next-line: no-string-literal\r\n            target['triggerEvent'](NotyfEvent.Dismiss, event);\r\n        });\r\n        // tslint:disable-next-line: no-string-literal\r\n        this.view.on(NotyfEvent.Click, function (_a) {\r\n            var target = _a.target, event = _a.event;\r\n            return target['triggerEvent'](NotyfEvent.Click, event);\r\n        });\r\n    }\r\n    Notyf.prototype.error = function (payload) {\r\n        var options = this.normalizeOptions('error', payload);\r\n        return this.open(options);\r\n    };\r\n    Notyf.prototype.success = function (payload) {\r\n        var options = this.normalizeOptions('success', payload);\r\n        return this.open(options);\r\n    };\r\n    Notyf.prototype.open = function (options) {\r\n        var defaultOpts = this.options.types.find(function (_a) {\r\n            var type = _a.type;\r\n            return type === options.type;\r\n        }) || {};\r\n        var config = __assign(__assign({}, defaultOpts), options);\r\n        this.assignProps(['ripple', 'position', 'dismissible'], config);\r\n        var notification = new NotyfNotification(config);\r\n        this._pushNotification(notification);\r\n        return notification;\r\n    };\r\n    Notyf.prototype.dismissAll = function () {\r\n        while (this.notifications.splice(0, 1))\r\n            ;\r\n    };\r\n    /**\r\n     * Assigns properties to a config object based on two rules:\r\n     * 1. If the config object already sets that prop, leave it as so\r\n     * 2. Otherwise, use the default prop from the global options\r\n     *\r\n     * It's intended to build the final config object to open a notification. e.g. if\r\n     * 'dismissible' is not set, then use the value from the global config.\r\n     *\r\n     * @param props - properties to be assigned to the config object\r\n     * @param config - object whose properties need to be set\r\n     */\r\n    Notyf.prototype.assignProps = function (props, config) {\r\n        var _this = this;\r\n        props.forEach(function (prop) {\r\n            // intentional double equality to check for both null and undefined\r\n            config[prop] = config[prop] == null ? _this.options[prop] : config[prop];\r\n        });\r\n    };\r\n    Notyf.prototype._pushNotification = function (notification) {\r\n        var _this = this;\r\n        this.notifications.push(notification);\r\n        var duration = notification.options.duration !== undefined ? notification.options.duration : this.options.duration;\r\n        if (duration) {\r\n            setTimeout(function () { return _this._removeNotification(notification); }, duration);\r\n        }\r\n    };\r\n    Notyf.prototype._removeNotification = function (notification) {\r\n        var index = this.notifications.indexOf(notification);\r\n        if (index !== -1) {\r\n            this.notifications.splice(index, 1);\r\n        }\r\n    };\r\n    Notyf.prototype.normalizeOptions = function (type, payload) {\r\n        var options = { type: type };\r\n        if (typeof payload === 'string') {\r\n            options.message = payload;\r\n        }\r\n        else if (typeof payload === 'object') {\r\n            options = __assign(__assign({}, options), payload);\r\n        }\r\n        return options;\r\n    };\r\n    Notyf.prototype.registerTypes = function (opts) {\r\n        var incomingTypes = ((opts && opts.types) || []).slice();\r\n        var finalDefaultTypes = DEFAULT_OPTIONS.types.map(function (defaultType) {\r\n            // find if there's a default type within the user input's types, if so, it means the user\r\n            // wants to change some of the default settings\r\n            var userTypeIdx = -1;\r\n            incomingTypes.forEach(function (t, idx) {\r\n                if (t.type === defaultType.type)\r\n                    userTypeIdx = idx;\r\n            });\r\n            var userType = userTypeIdx !== -1 ? incomingTypes.splice(userTypeIdx, 1)[0] : {};\r\n            return __assign(__assign({}, defaultType), userType);\r\n        });\r\n        return finalDefaultTypes.concat(incomingTypes);\r\n    };\r\n    return Notyf;\r\n}());\n\nexport { DEFAULT_OPTIONS, Notyf, NotyfArray, NotyfArrayEvent, NotyfEvent, NotyfNotification, NotyfView };\n","import { Notyf } from 'notyf';\n\nconst notyf = new Notyf({position: {x: 'center', y: 'top'}});\n\nexport default notyf;","/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\n  define(\"FileSaver.js\", function() {\n    return saveAs;\n  });\n}\n","//! moment.js\n//! version : 2.29.1\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, (function () { 'use strict';\n\n    var hookCallback;\n\n    function hooks() {\n        return hookCallback.apply(null, arguments);\n    }\n\n    // This is done to register the method called with moment()\n    // without creating circular dependencies.\n    function setHookCallback(callback) {\n        hookCallback = callback;\n    }\n\n    function isArray(input) {\n        return (\n            input instanceof Array ||\n            Object.prototype.toString.call(input) === '[object Array]'\n        );\n    }\n\n    function isObject(input) {\n        // IE8 will treat undefined and null as object if it wasn't for\n        // input != null\n        return (\n            input != null &&\n            Object.prototype.toString.call(input) === '[object Object]'\n        );\n    }\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    function isObjectEmpty(obj) {\n        if (Object.getOwnPropertyNames) {\n            return Object.getOwnPropertyNames(obj).length === 0;\n        } else {\n            var k;\n            for (k in obj) {\n                if (hasOwnProp(obj, k)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n\n    function isUndefined(input) {\n        return input === void 0;\n    }\n\n    function isNumber(input) {\n        return (\n            typeof input === 'number' ||\n            Object.prototype.toString.call(input) === '[object Number]'\n        );\n    }\n\n    function isDate(input) {\n        return (\n            input instanceof Date ||\n            Object.prototype.toString.call(input) === '[object Date]'\n        );\n    }\n\n    function map(arr, fn) {\n        var res = [],\n            i;\n        for (i = 0; i < arr.length; ++i) {\n            res.push(fn(arr[i], i));\n        }\n        return res;\n    }\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (hasOwnProp(b, i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (hasOwnProp(b, 'toString')) {\n            a.toString = b.toString;\n        }\n\n        if (hasOwnProp(b, 'valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function createUTC(input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, true).utc();\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object.\n        return {\n            empty: false,\n            unusedTokens: [],\n            unusedInput: [],\n            overflow: -2,\n            charsLeftOver: 0,\n            nullInput: false,\n            invalidEra: null,\n            invalidMonth: null,\n            invalidFormat: false,\n            userInvalidated: false,\n            iso: false,\n            parsedDateParts: [],\n            era: null,\n            meridiem: null,\n            rfc2822: false,\n            weekdayMismatch: false,\n        };\n    }\n\n    function getParsingFlags(m) {\n        if (m._pf == null) {\n            m._pf = defaultParsingFlags();\n        }\n        return m._pf;\n    }\n\n    var some;\n    if (Array.prototype.some) {\n        some = Array.prototype.some;\n    } else {\n        some = function (fun) {\n            var t = Object(this),\n                len = t.length >>> 0,\n                i;\n\n            for (i = 0; i < len; i++) {\n                if (i in t && fun.call(this, t[i], i, t)) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n    }\n\n    function isValid(m) {\n        if (m._isValid == null) {\n            var flags = getParsingFlags(m),\n                parsedParts = some.call(flags.parsedDateParts, function (i) {\n                    return i != null;\n                }),\n                isNowValid =\n                    !isNaN(m._d.getTime()) &&\n                    flags.overflow < 0 &&\n                    !flags.empty &&\n                    !flags.invalidEra &&\n                    !flags.invalidMonth &&\n                    !flags.invalidWeekday &&\n                    !flags.weekdayMismatch &&\n                    !flags.nullInput &&\n                    !flags.invalidFormat &&\n                    !flags.userInvalidated &&\n                    (!flags.meridiem || (flags.meridiem && parsedParts));\n\n            if (m._strict) {\n                isNowValid =\n                    isNowValid &&\n                    flags.charsLeftOver === 0 &&\n                    flags.unusedTokens.length === 0 &&\n                    flags.bigHour === undefined;\n            }\n\n            if (Object.isFrozen == null || !Object.isFrozen(m)) {\n                m._isValid = isNowValid;\n            } else {\n                return isNowValid;\n            }\n        }\n        return m._isValid;\n    }\n\n    function createInvalid(flags) {\n        var m = createUTC(NaN);\n        if (flags != null) {\n            extend(getParsingFlags(m), flags);\n        } else {\n            getParsingFlags(m).userInvalidated = true;\n        }\n\n        return m;\n    }\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    var momentProperties = (hooks.momentProperties = []),\n        updateInProgress = false;\n\n    function copyConfig(to, from) {\n        var i, prop, val;\n\n        if (!isUndefined(from._isAMomentObject)) {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (!isUndefined(from._i)) {\n            to._i = from._i;\n        }\n        if (!isUndefined(from._f)) {\n            to._f = from._f;\n        }\n        if (!isUndefined(from._l)) {\n            to._l = from._l;\n        }\n        if (!isUndefined(from._strict)) {\n            to._strict = from._strict;\n        }\n        if (!isUndefined(from._tzm)) {\n            to._tzm = from._tzm;\n        }\n        if (!isUndefined(from._isUTC)) {\n            to._isUTC = from._isUTC;\n        }\n        if (!isUndefined(from._offset)) {\n            to._offset = from._offset;\n        }\n        if (!isUndefined(from._pf)) {\n            to._pf = getParsingFlags(from);\n        }\n        if (!isUndefined(from._locale)) {\n            to._locale = from._locale;\n        }\n\n        if (momentProperties.length > 0) {\n            for (i = 0; i < momentProperties.length; i++) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (!isUndefined(val)) {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    // Moment prototype object\n    function Moment(config) {\n        copyConfig(this, config);\n        this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n        if (!this.isValid()) {\n            this._d = new Date(NaN);\n        }\n        // Prevent infinite loop in case updateOffset creates new moment\n        // objects.\n        if (updateInProgress === false) {\n            updateInProgress = true;\n            hooks.updateOffset(this);\n            updateInProgress = false;\n        }\n    }\n\n    function isMoment(obj) {\n        return (\n            obj instanceof Moment || (obj != null && obj._isAMomentObject != null)\n        );\n    }\n\n    function warn(msg) {\n        if (\n            hooks.suppressDeprecationWarnings === false &&\n            typeof console !== 'undefined' &&\n            console.warn\n        ) {\n            console.warn('Deprecation warning: ' + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n\n        return extend(function () {\n            if (hooks.deprecationHandler != null) {\n                hooks.deprecationHandler(null, msg);\n            }\n            if (firstTime) {\n                var args = [],\n                    arg,\n                    i,\n                    key;\n                for (i = 0; i < arguments.length; i++) {\n                    arg = '';\n                    if (typeof arguments[i] === 'object') {\n                        arg += '\\n[' + i + '] ';\n                        for (key in arguments[0]) {\n                            if (hasOwnProp(arguments[0], key)) {\n                                arg += key + ': ' + arguments[0][key] + ', ';\n                            }\n                        }\n                        arg = arg.slice(0, -2); // Remove trailing comma and space\n                    } else {\n                        arg = arguments[i];\n                    }\n                    args.push(arg);\n                }\n                warn(\n                    msg +\n                        '\\nArguments: ' +\n                        Array.prototype.slice.call(args).join('') +\n                        '\\n' +\n                        new Error().stack\n                );\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    var deprecations = {};\n\n    function deprecateSimple(name, msg) {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(name, msg);\n        }\n        if (!deprecations[name]) {\n            warn(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    hooks.suppressDeprecationWarnings = false;\n    hooks.deprecationHandler = null;\n\n    function isFunction(input) {\n        return (\n            (typeof Function !== 'undefined' && input instanceof Function) ||\n            Object.prototype.toString.call(input) === '[object Function]'\n        );\n    }\n\n    function set(config) {\n        var prop, i;\n        for (i in config) {\n            if (hasOwnProp(config, i)) {\n                prop = config[i];\n                if (isFunction(prop)) {\n                    this[i] = prop;\n                } else {\n                    this['_' + i] = prop;\n                }\n            }\n        }\n        this._config = config;\n        // Lenient ordinal parsing accepts just a number in addition to\n        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        this._dayOfMonthOrdinalParseLenient = new RegExp(\n            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n                '|' +\n                /\\d{1,2}/.source\n        );\n    }\n\n    function mergeConfigs(parentConfig, childConfig) {\n        var res = extend({}, parentConfig),\n            prop;\n        for (prop in childConfig) {\n            if (hasOwnProp(childConfig, prop)) {\n                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                    res[prop] = {};\n                    extend(res[prop], parentConfig[prop]);\n                    extend(res[prop], childConfig[prop]);\n                } else if (childConfig[prop] != null) {\n                    res[prop] = childConfig[prop];\n                } else {\n                    delete res[prop];\n                }\n            }\n        }\n        for (prop in parentConfig) {\n            if (\n                hasOwnProp(parentConfig, prop) &&\n                !hasOwnProp(childConfig, prop) &&\n                isObject(parentConfig[prop])\n            ) {\n                // make sure changes to properties don't modify parent config\n                res[prop] = extend({}, res[prop]);\n            }\n        }\n        return res;\n    }\n\n    function Locale(config) {\n        if (config != null) {\n            this.set(config);\n        }\n    }\n\n    var keys;\n\n    if (Object.keys) {\n        keys = Object.keys;\n    } else {\n        keys = function (obj) {\n            var i,\n                res = [];\n            for (i in obj) {\n                if (hasOwnProp(obj, i)) {\n                    res.push(i);\n                }\n            }\n            return res;\n        };\n    }\n\n    var defaultCalendar = {\n        sameDay: '[Today at] LT',\n        nextDay: '[Tomorrow at] LT',\n        nextWeek: 'dddd [at] LT',\n        lastDay: '[Yesterday at] LT',\n        lastWeek: '[Last] dddd [at] LT',\n        sameElse: 'L',\n    };\n\n    function calendar(key, mom, now) {\n        var output = this._calendar[key] || this._calendar['sameElse'];\n        return isFunction(output) ? output.call(mom, now) : output;\n    }\n\n    function zeroFill(number, targetLength, forceSign) {\n        var absNumber = '' + Math.abs(number),\n            zerosToFill = targetLength - absNumber.length,\n            sign = number >= 0;\n        return (\n            (sign ? (forceSign ? '+' : '') : '-') +\n            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) +\n            absNumber\n        );\n    }\n\n    var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,\n        localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,\n        formatFunctions = {},\n        formatTokenFunctions = {};\n\n    // token:    'M'\n    // padded:   ['MM', 2]\n    // ordinal:  'Mo'\n    // callback: function () { this.month() + 1 }\n    function addFormatToken(token, padded, ordinal, callback) {\n        var func = callback;\n        if (typeof callback === 'string') {\n            func = function () {\n                return this[callback]();\n            };\n        }\n        if (token) {\n            formatTokenFunctions[token] = func;\n        }\n        if (padded) {\n            formatTokenFunctions[padded[0]] = function () {\n                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n            };\n        }\n        if (ordinal) {\n            formatTokenFunctions[ordinal] = function () {\n                return this.localeData().ordinal(\n                    func.apply(this, arguments),\n                    token\n                );\n            };\n        }\n    }\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens),\n            i,\n            length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '',\n                i;\n            for (i = 0; i < length; i++) {\n                output += isFunction(array[i])\n                    ? array[i].call(mom, format)\n                    : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n        formatFunctions[format] =\n            formatFunctions[format] || makeFormatFunction(format);\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(\n                localFormattingTokens,\n                replaceLongDateFormatTokens\n            );\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n    var defaultLongDateFormat = {\n        LTS: 'h:mm:ss A',\n        LT: 'h:mm A',\n        L: 'MM/DD/YYYY',\n        LL: 'MMMM D, YYYY',\n        LLL: 'MMMM D, YYYY h:mm A',\n        LLLL: 'dddd, MMMM D, YYYY h:mm A',\n    };\n\n    function longDateFormat(key) {\n        var format = this._longDateFormat[key],\n            formatUpper = this._longDateFormat[key.toUpperCase()];\n\n        if (format || !formatUpper) {\n            return format;\n        }\n\n        this._longDateFormat[key] = formatUpper\n            .match(formattingTokens)\n            .map(function (tok) {\n                if (\n                    tok === 'MMMM' ||\n                    tok === 'MM' ||\n                    tok === 'DD' ||\n                    tok === 'dddd'\n                ) {\n                    return tok.slice(1);\n                }\n                return tok;\n            })\n            .join('');\n\n        return this._longDateFormat[key];\n    }\n\n    var defaultInvalidDate = 'Invalid date';\n\n    function invalidDate() {\n        return this._invalidDate;\n    }\n\n    var defaultOrdinal = '%d',\n        defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\n    function ordinal(number) {\n        return this._ordinal.replace('%d', number);\n    }\n\n    var defaultRelativeTime = {\n        future: 'in %s',\n        past: '%s ago',\n        s: 'a few seconds',\n        ss: '%d seconds',\n        m: 'a minute',\n        mm: '%d minutes',\n        h: 'an hour',\n        hh: '%d hours',\n        d: 'a day',\n        dd: '%d days',\n        w: 'a week',\n        ww: '%d weeks',\n        M: 'a month',\n        MM: '%d months',\n        y: 'a year',\n        yy: '%d years',\n    };\n\n    function relativeTime(number, withoutSuffix, string, isFuture) {\n        var output = this._relativeTime[string];\n        return isFunction(output)\n            ? output(number, withoutSuffix, string, isFuture)\n            : output.replace(/%d/i, number);\n    }\n\n    function pastFuture(diff, output) {\n        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n        return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n    }\n\n    var aliases = {};\n\n    function addUnitAlias(unit, shorthand) {\n        var lowerCase = unit.toLowerCase();\n        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n    }\n\n    function normalizeUnits(units) {\n        return typeof units === 'string'\n            ? aliases[units] || aliases[units.toLowerCase()]\n            : undefined;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (hasOwnProp(inputObject, prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    var priorities = {};\n\n    function addUnitPriority(unit, priority) {\n        priorities[unit] = priority;\n    }\n\n    function getPrioritizedUnits(unitsObj) {\n        var units = [],\n            u;\n        for (u in unitsObj) {\n            if (hasOwnProp(unitsObj, u)) {\n                units.push({ unit: u, priority: priorities[u] });\n            }\n        }\n        units.sort(function (a, b) {\n            return a.priority - b.priority;\n        });\n        return units;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    function absFloor(number) {\n        if (number < 0) {\n            // -0 -> 0\n            return Math.ceil(number) || 0;\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    function makeGetSet(unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                set$1(this, unit, value);\n                hooks.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return get(this, unit);\n            }\n        };\n    }\n\n    function get(mom, unit) {\n        return mom.isValid()\n            ? mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]()\n            : NaN;\n    }\n\n    function set$1(mom, unit, value) {\n        if (mom.isValid() && !isNaN(value)) {\n            if (\n                unit === 'FullYear' &&\n                isLeapYear(mom.year()) &&\n                mom.month() === 1 &&\n                mom.date() === 29\n            ) {\n                value = toInt(value);\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](\n                    value,\n                    mom.month(),\n                    daysInMonth(value, mom.month())\n                );\n            } else {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function stringGet(units) {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units]();\n        }\n        return this;\n    }\n\n    function stringSet(units, value) {\n        if (typeof units === 'object') {\n            units = normalizeObjectUnits(units);\n            var prioritized = getPrioritizedUnits(units),\n                i;\n            for (i = 0; i < prioritized.length; i++) {\n                this[prioritized[i].unit](units[prioritized[i].unit]);\n            }\n        } else {\n            units = normalizeUnits(units);\n            if (isFunction(this[units])) {\n                return this[units](value);\n            }\n        }\n        return this;\n    }\n\n    var match1 = /\\d/, //       0 - 9\n        match2 = /\\d\\d/, //      00 - 99\n        match3 = /\\d{3}/, //     000 - 999\n        match4 = /\\d{4}/, //    0000 - 9999\n        match6 = /[+-]?\\d{6}/, // -999999 - 999999\n        match1to2 = /\\d\\d?/, //       0 - 99\n        match3to4 = /\\d\\d\\d\\d?/, //     999 - 9999\n        match5to6 = /\\d\\d\\d\\d\\d\\d?/, //   99999 - 999999\n        match1to3 = /\\d{1,3}/, //       0 - 999\n        match1to4 = /\\d{1,4}/, //       0 - 9999\n        match1to6 = /[+-]?\\d{1,6}/, // -999999 - 999999\n        matchUnsigned = /\\d+/, //       0 - inf\n        matchSigned = /[+-]?\\d+/, //    -inf - inf\n        matchOffset = /Z|[+-]\\d\\d:?\\d\\d/gi, // +00:00 -00:00 +0000 -0000 or Z\n        matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi, // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n        matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/, // 123456789 123456789.123\n        // any word (or two) characters or numbers including two/three word month in arabic.\n        // includes scottish gaelic two word and hyphenated months\n        matchWord = /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i,\n        regexes;\n\n    regexes = {};\n\n    function addRegexToken(token, regex, strictRegex) {\n        regexes[token] = isFunction(regex)\n            ? regex\n            : function (isStrict, localeData) {\n                  return isStrict && strictRegex ? strictRegex : regex;\n              };\n    }\n\n    function getParseRegexForToken(token, config) {\n        if (!hasOwnProp(regexes, token)) {\n            return new RegExp(unescapeFormat(token));\n        }\n\n        return regexes[token](config._strict, config._locale);\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function unescapeFormat(s) {\n        return regexEscape(\n            s\n                .replace('\\\\', '')\n                .replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (\n                    matched,\n                    p1,\n                    p2,\n                    p3,\n                    p4\n                ) {\n                    return p1 || p2 || p3 || p4;\n                })\n        );\n    }\n\n    function regexEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    var tokens = {};\n\n    function addParseToken(token, callback) {\n        var i,\n            func = callback;\n        if (typeof token === 'string') {\n            token = [token];\n        }\n        if (isNumber(callback)) {\n            func = function (input, array) {\n                array[callback] = toInt(input);\n            };\n        }\n        for (i = 0; i < token.length; i++) {\n            tokens[token[i]] = func;\n        }\n    }\n\n    function addWeekParseToken(token, callback) {\n        addParseToken(token, function (input, array, config, token) {\n            config._w = config._w || {};\n            callback(input, config._w, config, token);\n        });\n    }\n\n    function addTimeToArrayFromToken(token, input, config) {\n        if (input != null && hasOwnProp(tokens, token)) {\n            tokens[token](input, config._a, config, token);\n        }\n    }\n\n    var YEAR = 0,\n        MONTH = 1,\n        DATE = 2,\n        HOUR = 3,\n        MINUTE = 4,\n        SECOND = 5,\n        MILLISECOND = 6,\n        WEEK = 7,\n        WEEKDAY = 8;\n\n    function mod(n, x) {\n        return ((n % x) + x) % x;\n    }\n\n    var indexOf;\n\n    if (Array.prototype.indexOf) {\n        indexOf = Array.prototype.indexOf;\n    } else {\n        indexOf = function (o) {\n            // I know\n            var i;\n            for (i = 0; i < this.length; ++i) {\n                if (this[i] === o) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n\n    function daysInMonth(year, month) {\n        if (isNaN(year) || isNaN(month)) {\n            return NaN;\n        }\n        var modMonth = mod(month, 12);\n        year += (month - modMonth) / 12;\n        return modMonth === 1\n            ? isLeapYear(year)\n                ? 29\n                : 28\n            : 31 - ((modMonth % 7) % 2);\n    }\n\n    // FORMATTING\n\n    addFormatToken('M', ['MM', 2], 'Mo', function () {\n        return this.month() + 1;\n    });\n\n    addFormatToken('MMM', 0, 0, function (format) {\n        return this.localeData().monthsShort(this, format);\n    });\n\n    addFormatToken('MMMM', 0, 0, function (format) {\n        return this.localeData().months(this, format);\n    });\n\n    // ALIASES\n\n    addUnitAlias('month', 'M');\n\n    // PRIORITY\n\n    addUnitPriority('month', 8);\n\n    // PARSING\n\n    addRegexToken('M', match1to2);\n    addRegexToken('MM', match1to2, match2);\n    addRegexToken('MMM', function (isStrict, locale) {\n        return locale.monthsShortRegex(isStrict);\n    });\n    addRegexToken('MMMM', function (isStrict, locale) {\n        return locale.monthsRegex(isStrict);\n    });\n\n    addParseToken(['M', 'MM'], function (input, array) {\n        array[MONTH] = toInt(input) - 1;\n    });\n\n    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n        var month = config._locale.monthsParse(input, token, config._strict);\n        // if we didn't find a month name, mark the date as invalid.\n        if (month != null) {\n            array[MONTH] = month;\n        } else {\n            getParsingFlags(config).invalidMonth = input;\n        }\n    });\n\n    // LOCALES\n\n    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split(\n            '_'\n        ),\n        defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split(\n            '_'\n        ),\n        MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,\n        defaultMonthsShortRegex = matchWord,\n        defaultMonthsRegex = matchWord;\n\n    function localeMonths(m, format) {\n        if (!m) {\n            return isArray(this._months)\n                ? this._months\n                : this._months['standalone'];\n        }\n        return isArray(this._months)\n            ? this._months[m.month()]\n            : this._months[\n                  (this._months.isFormat || MONTHS_IN_FORMAT).test(format)\n                      ? 'format'\n                      : 'standalone'\n              ][m.month()];\n    }\n\n    function localeMonthsShort(m, format) {\n        if (!m) {\n            return isArray(this._monthsShort)\n                ? this._monthsShort\n                : this._monthsShort['standalone'];\n        }\n        return isArray(this._monthsShort)\n            ? this._monthsShort[m.month()]\n            : this._monthsShort[\n                  MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'\n              ][m.month()];\n    }\n\n    function handleStrictParse(monthName, format, strict) {\n        var i,\n            ii,\n            mom,\n            llc = monthName.toLocaleLowerCase();\n        if (!this._monthsParse) {\n            // this is not used\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n            for (i = 0; i < 12; ++i) {\n                mom = createUTC([2000, i]);\n                this._shortMonthsParse[i] = this.monthsShort(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeMonthsParse(monthName, format, strict) {\n        var i, mom, regex;\n\n        if (this._monthsParseExact) {\n            return handleStrictParse.call(this, monthName, format, strict);\n        }\n\n        if (!this._monthsParse) {\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n        }\n\n        // TODO: add sorting\n        // Sorting makes sure if one month (or abbr) is a prefix of another\n        // see sorting in computeMonthsParse\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            if (strict && !this._longMonthsParse[i]) {\n                this._longMonthsParse[i] = new RegExp(\n                    '^' + this.months(mom, '').replace('.', '') + '$',\n                    'i'\n                );\n                this._shortMonthsParse[i] = new RegExp(\n                    '^' + this.monthsShort(mom, '').replace('.', '') + '$',\n                    'i'\n                );\n            }\n            if (!strict && !this._monthsParse[i]) {\n                regex =\n                    '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (\n                strict &&\n                format === 'MMMM' &&\n                this._longMonthsParse[i].test(monthName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'MMM' &&\n                this._shortMonthsParse[i].test(monthName)\n            ) {\n                return i;\n            } else if (!strict && this._monthsParse[i].test(monthName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function setMonth(mom, value) {\n        var dayOfMonth;\n\n        if (!mom.isValid()) {\n            // No op\n            return mom;\n        }\n\n        if (typeof value === 'string') {\n            if (/^\\d+$/.test(value)) {\n                value = toInt(value);\n            } else {\n                value = mom.localeData().monthsParse(value);\n                // TODO: Another silent failure?\n                if (!isNumber(value)) {\n                    return mom;\n                }\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function getSetMonth(value) {\n        if (value != null) {\n            setMonth(this, value);\n            hooks.updateOffset(this, true);\n            return this;\n        } else {\n            return get(this, 'Month');\n        }\n    }\n\n    function getDaysInMonth() {\n        return daysInMonth(this.year(), this.month());\n    }\n\n    function monthsShortRegex(isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsShortStrictRegex;\n            } else {\n                return this._monthsShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsShortRegex')) {\n                this._monthsShortRegex = defaultMonthsShortRegex;\n            }\n            return this._monthsShortStrictRegex && isStrict\n                ? this._monthsShortStrictRegex\n                : this._monthsShortRegex;\n        }\n    }\n\n    function monthsRegex(isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsStrictRegex;\n            } else {\n                return this._monthsRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                this._monthsRegex = defaultMonthsRegex;\n            }\n            return this._monthsStrictRegex && isStrict\n                ? this._monthsStrictRegex\n                : this._monthsRegex;\n        }\n    }\n\n    function computeMonthsParse() {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var shortPieces = [],\n            longPieces = [],\n            mixedPieces = [],\n            i,\n            mom;\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            shortPieces.push(this.monthsShort(mom, ''));\n            longPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.monthsShort(mom, ''));\n        }\n        // Sorting makes sure if one month (or abbr) is a prefix of another it\n        // will match the longer piece.\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 12; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n        }\n        for (i = 0; i < 24; i++) {\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._monthsShortRegex = this._monthsRegex;\n        this._monthsStrictRegex = new RegExp(\n            '^(' + longPieces.join('|') + ')',\n            'i'\n        );\n        this._monthsShortStrictRegex = new RegExp(\n            '^(' + shortPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    // FORMATTING\n\n    addFormatToken('Y', 0, 0, function () {\n        var y = this.year();\n        return y <= 9999 ? zeroFill(y, 4) : '+' + y;\n    });\n\n    addFormatToken(0, ['YY', 2], 0, function () {\n        return this.year() % 100;\n    });\n\n    addFormatToken(0, ['YYYY', 4], 0, 'year');\n    addFormatToken(0, ['YYYYY', 5], 0, 'year');\n    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n    // ALIASES\n\n    addUnitAlias('year', 'y');\n\n    // PRIORITIES\n\n    addUnitPriority('year', 1);\n\n    // PARSING\n\n    addRegexToken('Y', matchSigned);\n    addRegexToken('YY', match1to2, match2);\n    addRegexToken('YYYY', match1to4, match4);\n    addRegexToken('YYYYY', match1to6, match6);\n    addRegexToken('YYYYYY', match1to6, match6);\n\n    addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n    addParseToken('YYYY', function (input, array) {\n        array[YEAR] =\n            input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n    });\n    addParseToken('YY', function (input, array) {\n        array[YEAR] = hooks.parseTwoDigitYear(input);\n    });\n    addParseToken('Y', function (input, array) {\n        array[YEAR] = parseInt(input, 10);\n    });\n\n    // HELPERS\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    // HOOKS\n\n    hooks.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    // MOMENTS\n\n    var getSetYear = makeGetSet('FullYear', true);\n\n    function getIsLeapYear() {\n        return isLeapYear(this.year());\n    }\n\n    function createDate(y, m, d, h, M, s, ms) {\n        // can't just apply() to create a date:\n        // https://stackoverflow.com/q/181348\n        var date;\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            date = new Date(y + 400, m, d, h, M, s, ms);\n            if (isFinite(date.getFullYear())) {\n                date.setFullYear(y);\n            }\n        } else {\n            date = new Date(y, m, d, h, M, s, ms);\n        }\n\n        return date;\n    }\n\n    function createUTCDate(y) {\n        var date, args;\n        // the Date.UTC function remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            args = Array.prototype.slice.call(arguments);\n            // preserve leap years using a full 400 year cycle, then reset\n            args[0] = y + 400;\n            date = new Date(Date.UTC.apply(null, args));\n            if (isFinite(date.getUTCFullYear())) {\n                date.setUTCFullYear(y);\n            }\n        } else {\n            date = new Date(Date.UTC.apply(null, arguments));\n        }\n\n        return date;\n    }\n\n    // start-of-first-week - start-of-year\n    function firstWeekOffset(year, dow, doy) {\n        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n            fwd = 7 + dow - doy,\n            // first-week day local weekday -- which local weekday is fwd\n            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n        return -fwdlw + fwd - 1;\n    }\n\n    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n        var localWeekday = (7 + weekday - dow) % 7,\n            weekOffset = firstWeekOffset(year, dow, doy),\n            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n            resYear,\n            resDayOfYear;\n\n        if (dayOfYear <= 0) {\n            resYear = year - 1;\n            resDayOfYear = daysInYear(resYear) + dayOfYear;\n        } else if (dayOfYear > daysInYear(year)) {\n            resYear = year + 1;\n            resDayOfYear = dayOfYear - daysInYear(year);\n        } else {\n            resYear = year;\n            resDayOfYear = dayOfYear;\n        }\n\n        return {\n            year: resYear,\n            dayOfYear: resDayOfYear,\n        };\n    }\n\n    function weekOfYear(mom, dow, doy) {\n        var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n            resWeek,\n            resYear;\n\n        if (week < 1) {\n            resYear = mom.year() - 1;\n            resWeek = week + weeksInYear(resYear, dow, doy);\n        } else if (week > weeksInYear(mom.year(), dow, doy)) {\n            resWeek = week - weeksInYear(mom.year(), dow, doy);\n            resYear = mom.year() + 1;\n        } else {\n            resYear = mom.year();\n            resWeek = week;\n        }\n\n        return {\n            week: resWeek,\n            year: resYear,\n        };\n    }\n\n    function weeksInYear(year, dow, doy) {\n        var weekOffset = firstWeekOffset(year, dow, doy),\n            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n    }\n\n    // FORMATTING\n\n    addFormatToken('w', ['ww', 2], 'wo', 'week');\n    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n    // ALIASES\n\n    addUnitAlias('week', 'w');\n    addUnitAlias('isoWeek', 'W');\n\n    // PRIORITIES\n\n    addUnitPriority('week', 5);\n    addUnitPriority('isoWeek', 5);\n\n    // PARSING\n\n    addRegexToken('w', match1to2);\n    addRegexToken('ww', match1to2, match2);\n    addRegexToken('W', match1to2);\n    addRegexToken('WW', match1to2, match2);\n\n    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (\n        input,\n        week,\n        config,\n        token\n    ) {\n        week[token.substr(0, 1)] = toInt(input);\n    });\n\n    // HELPERS\n\n    // LOCALES\n\n    function localeWeek(mom) {\n        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n    }\n\n    var defaultLocaleWeek = {\n        dow: 0, // Sunday is the first day of the week.\n        doy: 6, // The week that contains Jan 6th is the first week of the year.\n    };\n\n    function localeFirstDayOfWeek() {\n        return this._week.dow;\n    }\n\n    function localeFirstDayOfYear() {\n        return this._week.doy;\n    }\n\n    // MOMENTS\n\n    function getSetWeek(input) {\n        var week = this.localeData().week(this);\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    function getSetISOWeek(input) {\n        var week = weekOfYear(this, 1, 4).week;\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('d', 0, 'do', 'day');\n\n    addFormatToken('dd', 0, 0, function (format) {\n        return this.localeData().weekdaysMin(this, format);\n    });\n\n    addFormatToken('ddd', 0, 0, function (format) {\n        return this.localeData().weekdaysShort(this, format);\n    });\n\n    addFormatToken('dddd', 0, 0, function (format) {\n        return this.localeData().weekdays(this, format);\n    });\n\n    addFormatToken('e', 0, 0, 'weekday');\n    addFormatToken('E', 0, 0, 'isoWeekday');\n\n    // ALIASES\n\n    addUnitAlias('day', 'd');\n    addUnitAlias('weekday', 'e');\n    addUnitAlias('isoWeekday', 'E');\n\n    // PRIORITY\n    addUnitPriority('day', 11);\n    addUnitPriority('weekday', 11);\n    addUnitPriority('isoWeekday', 11);\n\n    // PARSING\n\n    addRegexToken('d', match1to2);\n    addRegexToken('e', match1to2);\n    addRegexToken('E', match1to2);\n    addRegexToken('dd', function (isStrict, locale) {\n        return locale.weekdaysMinRegex(isStrict);\n    });\n    addRegexToken('ddd', function (isStrict, locale) {\n        return locale.weekdaysShortRegex(isStrict);\n    });\n    addRegexToken('dddd', function (isStrict, locale) {\n        return locale.weekdaysRegex(isStrict);\n    });\n\n    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n        var weekday = config._locale.weekdaysParse(input, token, config._strict);\n        // if we didn't get a weekday name, mark the date as invalid\n        if (weekday != null) {\n            week.d = weekday;\n        } else {\n            getParsingFlags(config).invalidWeekday = input;\n        }\n    });\n\n    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n        week[token] = toInt(input);\n    });\n\n    // HELPERS\n\n    function parseWeekday(input, locale) {\n        if (typeof input !== 'string') {\n            return input;\n        }\n\n        if (!isNaN(input)) {\n            return parseInt(input, 10);\n        }\n\n        input = locale.weekdaysParse(input);\n        if (typeof input === 'number') {\n            return input;\n        }\n\n        return null;\n    }\n\n    function parseIsoWeekday(input, locale) {\n        if (typeof input === 'string') {\n            return locale.weekdaysParse(input) % 7 || 7;\n        }\n        return isNaN(input) ? null : input;\n    }\n\n    // LOCALES\n    function shiftWeekdays(ws, n) {\n        return ws.slice(n, 7).concat(ws.slice(0, n));\n    }\n\n    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split(\n            '_'\n        ),\n        defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        defaultWeekdaysRegex = matchWord,\n        defaultWeekdaysShortRegex = matchWord,\n        defaultWeekdaysMinRegex = matchWord;\n\n    function localeWeekdays(m, format) {\n        var weekdays = isArray(this._weekdays)\n            ? this._weekdays\n            : this._weekdays[\n                  m && m !== true && this._weekdays.isFormat.test(format)\n                      ? 'format'\n                      : 'standalone'\n              ];\n        return m === true\n            ? shiftWeekdays(weekdays, this._week.dow)\n            : m\n            ? weekdays[m.day()]\n            : weekdays;\n    }\n\n    function localeWeekdaysShort(m) {\n        return m === true\n            ? shiftWeekdays(this._weekdaysShort, this._week.dow)\n            : m\n            ? this._weekdaysShort[m.day()]\n            : this._weekdaysShort;\n    }\n\n    function localeWeekdaysMin(m) {\n        return m === true\n            ? shiftWeekdays(this._weekdaysMin, this._week.dow)\n            : m\n            ? this._weekdaysMin[m.day()]\n            : this._weekdaysMin;\n    }\n\n    function handleStrictParse$1(weekdayName, format, strict) {\n        var i,\n            ii,\n            mom,\n            llc = weekdayName.toLocaleLowerCase();\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._minWeekdaysParse = [];\n\n            for (i = 0; i < 7; ++i) {\n                mom = createUTC([2000, 1]).day(i);\n                this._minWeekdaysParse[i] = this.weekdaysMin(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._shortWeekdaysParse[i] = this.weekdaysShort(\n                    mom,\n                    ''\n                ).toLocaleLowerCase();\n                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeWeekdaysParse(weekdayName, format, strict) {\n        var i, mom, regex;\n\n        if (this._weekdaysParseExact) {\n            return handleStrictParse$1.call(this, weekdayName, format, strict);\n        }\n\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._minWeekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._fullWeekdaysParse = [];\n        }\n\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n\n            mom = createUTC([2000, 1]).day(i);\n            if (strict && !this._fullWeekdaysParse[i]) {\n                this._fullWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdays(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n                this._shortWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdaysShort(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n                this._minWeekdaysParse[i] = new RegExp(\n                    '^' + this.weekdaysMin(mom, '').replace('.', '\\\\.?') + '$',\n                    'i'\n                );\n            }\n            if (!this._weekdaysParse[i]) {\n                regex =\n                    '^' +\n                    this.weekdays(mom, '') +\n                    '|^' +\n                    this.weekdaysShort(mom, '') +\n                    '|^' +\n                    this.weekdaysMin(mom, '');\n                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (\n                strict &&\n                format === 'dddd' &&\n                this._fullWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'ddd' &&\n                this._shortWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (\n                strict &&\n                format === 'dd' &&\n                this._minWeekdaysParse[i].test(weekdayName)\n            ) {\n                return i;\n            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function getSetDayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n        if (input != null) {\n            input = parseWeekday(input, this.localeData());\n            return this.add(input - day, 'd');\n        } else {\n            return day;\n        }\n    }\n\n    function getSetLocaleDayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n        return input == null ? weekday : this.add(input - weekday, 'd');\n    }\n\n    function getSetISODayOfWeek(input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n\n        // behaves the same as moment#day except\n        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n        // as a setter, sunday should belong to the previous week.\n\n        if (input != null) {\n            var weekday = parseIsoWeekday(input, this.localeData());\n            return this.day(this.day() % 7 ? weekday : weekday - 7);\n        } else {\n            return this.day() || 7;\n        }\n    }\n\n    function weekdaysRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysStrictRegex;\n            } else {\n                return this._weekdaysRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                this._weekdaysRegex = defaultWeekdaysRegex;\n            }\n            return this._weekdaysStrictRegex && isStrict\n                ? this._weekdaysStrictRegex\n                : this._weekdaysRegex;\n        }\n    }\n\n    function weekdaysShortRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysShortStrictRegex;\n            } else {\n                return this._weekdaysShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n                this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n            }\n            return this._weekdaysShortStrictRegex && isStrict\n                ? this._weekdaysShortStrictRegex\n                : this._weekdaysShortRegex;\n        }\n    }\n\n    function weekdaysMinRegex(isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysMinStrictRegex;\n            } else {\n                return this._weekdaysMinRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n                this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n            }\n            return this._weekdaysMinStrictRegex && isStrict\n                ? this._weekdaysMinStrictRegex\n                : this._weekdaysMinRegex;\n        }\n    }\n\n    function computeWeekdaysParse() {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var minPieces = [],\n            shortPieces = [],\n            longPieces = [],\n            mixedPieces = [],\n            i,\n            mom,\n            minp,\n            shortp,\n            longp;\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, 1]).day(i);\n            minp = regexEscape(this.weekdaysMin(mom, ''));\n            shortp = regexEscape(this.weekdaysShort(mom, ''));\n            longp = regexEscape(this.weekdays(mom, ''));\n            minPieces.push(minp);\n            shortPieces.push(shortp);\n            longPieces.push(longp);\n            mixedPieces.push(minp);\n            mixedPieces.push(shortp);\n            mixedPieces.push(longp);\n        }\n        // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n        // will match the longer piece.\n        minPieces.sort(cmpLenRev);\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n\n        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._weekdaysShortRegex = this._weekdaysRegex;\n        this._weekdaysMinRegex = this._weekdaysRegex;\n\n        this._weekdaysStrictRegex = new RegExp(\n            '^(' + longPieces.join('|') + ')',\n            'i'\n        );\n        this._weekdaysShortStrictRegex = new RegExp(\n            '^(' + shortPieces.join('|') + ')',\n            'i'\n        );\n        this._weekdaysMinStrictRegex = new RegExp(\n            '^(' + minPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    // FORMATTING\n\n    function hFormat() {\n        return this.hours() % 12 || 12;\n    }\n\n    function kFormat() {\n        return this.hours() || 24;\n    }\n\n    addFormatToken('H', ['HH', 2], 0, 'hour');\n    addFormatToken('h', ['hh', 2], 0, hFormat);\n    addFormatToken('k', ['kk', 2], 0, kFormat);\n\n    addFormatToken('hmm', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('hmmss', 0, 0, function () {\n        return (\n            '' +\n            hFormat.apply(this) +\n            zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2)\n        );\n    });\n\n    addFormatToken('Hmm', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('Hmmss', 0, 0, function () {\n        return (\n            '' +\n            this.hours() +\n            zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2)\n        );\n    });\n\n    function meridiem(token, lowercase) {\n        addFormatToken(token, 0, 0, function () {\n            return this.localeData().meridiem(\n                this.hours(),\n                this.minutes(),\n                lowercase\n            );\n        });\n    }\n\n    meridiem('a', true);\n    meridiem('A', false);\n\n    // ALIASES\n\n    addUnitAlias('hour', 'h');\n\n    // PRIORITY\n    addUnitPriority('hour', 13);\n\n    // PARSING\n\n    function matchMeridiem(isStrict, locale) {\n        return locale._meridiemParse;\n    }\n\n    addRegexToken('a', matchMeridiem);\n    addRegexToken('A', matchMeridiem);\n    addRegexToken('H', match1to2);\n    addRegexToken('h', match1to2);\n    addRegexToken('k', match1to2);\n    addRegexToken('HH', match1to2, match2);\n    addRegexToken('hh', match1to2, match2);\n    addRegexToken('kk', match1to2, match2);\n\n    addRegexToken('hmm', match3to4);\n    addRegexToken('hmmss', match5to6);\n    addRegexToken('Hmm', match3to4);\n    addRegexToken('Hmmss', match5to6);\n\n    addParseToken(['H', 'HH'], HOUR);\n    addParseToken(['k', 'kk'], function (input, array, config) {\n        var kInput = toInt(input);\n        array[HOUR] = kInput === 24 ? 0 : kInput;\n    });\n    addParseToken(['a', 'A'], function (input, array, config) {\n        config._isPm = config._locale.isPM(input);\n        config._meridiem = input;\n    });\n    addParseToken(['h', 'hh'], function (input, array, config) {\n        array[HOUR] = toInt(input);\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmmss', function (input, array, config) {\n        var pos1 = input.length - 4,\n            pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('Hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n    });\n    addParseToken('Hmmss', function (input, array, config) {\n        var pos1 = input.length - 4,\n            pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n    });\n\n    // LOCALES\n\n    function localeIsPM(input) {\n        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n        // Using charAt should be more compatible.\n        return (input + '').toLowerCase().charAt(0) === 'p';\n    }\n\n    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i,\n        // Setting the hour should keep the time, because the user explicitly\n        // specified which hour they want. So trying to maintain the same hour (in\n        // a new timezone) makes sense. Adding/subtracting hours does not follow\n        // this rule.\n        getSetHour = makeGetSet('Hours', true);\n\n    function localeMeridiem(hours, minutes, isLower) {\n        if (hours > 11) {\n            return isLower ? 'pm' : 'PM';\n        } else {\n            return isLower ? 'am' : 'AM';\n        }\n    }\n\n    var baseConfig = {\n        calendar: defaultCalendar,\n        longDateFormat: defaultLongDateFormat,\n        invalidDate: defaultInvalidDate,\n        ordinal: defaultOrdinal,\n        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n        relativeTime: defaultRelativeTime,\n\n        months: defaultLocaleMonths,\n        monthsShort: defaultLocaleMonthsShort,\n\n        week: defaultLocaleWeek,\n\n        weekdays: defaultLocaleWeekdays,\n        weekdaysMin: defaultLocaleWeekdaysMin,\n        weekdaysShort: defaultLocaleWeekdaysShort,\n\n        meridiemParse: defaultLocaleMeridiemParse,\n    };\n\n    // internal storage for locale config files\n    var locales = {},\n        localeFamilies = {},\n        globalLocale;\n\n    function commonPrefix(arr1, arr2) {\n        var i,\n            minl = Math.min(arr1.length, arr2.length);\n        for (i = 0; i < minl; i += 1) {\n            if (arr1[i] !== arr2[i]) {\n                return i;\n            }\n        }\n        return minl;\n    }\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0,\n            j,\n            next,\n            locale,\n            split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (\n                    next &&\n                    next.length >= j &&\n                    commonPrefix(split, next) >= j - 1\n                ) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return globalLocale;\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null,\n            aliasedRequire;\n        // TODO: Find a better way to register and load all the locales in Node\n        if (\n            locales[name] === undefined &&\n            typeof module !== 'undefined' &&\n            module &&\n            module.exports\n        ) {\n            try {\n                oldLocale = globalLocale._abbr;\n                aliasedRequire = require;\n                aliasedRequire('./locale/' + name);\n                getSetGlobalLocale(oldLocale);\n            } catch (e) {\n                // mark as not found to avoid repeating expensive file require call causing high CPU\n                // when trying to find en-US, en_US, en-us for every format call\n                locales[name] = null; // null means not found\n            }\n        }\n        return locales[name];\n    }\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    function getSetGlobalLocale(key, values) {\n        var data;\n        if (key) {\n            if (isUndefined(values)) {\n                data = getLocale(key);\n            } else {\n                data = defineLocale(key, values);\n            }\n\n            if (data) {\n                // moment.duration._locale = moment._locale = data;\n                globalLocale = data;\n            } else {\n                if (typeof console !== 'undefined' && console.warn) {\n                    //warn user if arguments are passed but the locale could not be set\n                    console.warn(\n                        'Locale ' + key + ' not found. Did you forget to load it?'\n                    );\n                }\n            }\n        }\n\n        return globalLocale._abbr;\n    }\n\n    function defineLocale(name, config) {\n        if (config !== null) {\n            var locale,\n                parentConfig = baseConfig;\n            config.abbr = name;\n            if (locales[name] != null) {\n                deprecateSimple(\n                    'defineLocaleOverride',\n                    'use moment.updateLocale(localeName, config) to change ' +\n                        'an existing locale. moment.defineLocale(localeName, ' +\n                        'config) should only be used for creating a new locale ' +\n                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.'\n                );\n                parentConfig = locales[name]._config;\n            } else if (config.parentLocale != null) {\n                if (locales[config.parentLocale] != null) {\n                    parentConfig = locales[config.parentLocale]._config;\n                } else {\n                    locale = loadLocale(config.parentLocale);\n                    if (locale != null) {\n                        parentConfig = locale._config;\n                    } else {\n                        if (!localeFamilies[config.parentLocale]) {\n                            localeFamilies[config.parentLocale] = [];\n                        }\n                        localeFamilies[config.parentLocale].push({\n                            name: name,\n                            config: config,\n                        });\n                        return null;\n                    }\n                }\n            }\n            locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n            if (localeFamilies[name]) {\n                localeFamilies[name].forEach(function (x) {\n                    defineLocale(x.name, x.config);\n                });\n            }\n\n            // backwards compat for now: also set the locale\n            // make sure we set the locale AFTER all child locales have been\n            // created, so we won't end up with the child locale set.\n            getSetGlobalLocale(name);\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    }\n\n    function updateLocale(name, config) {\n        if (config != null) {\n            var locale,\n                tmpLocale,\n                parentConfig = baseConfig;\n\n            if (locales[name] != null && locales[name].parentLocale != null) {\n                // Update existing child locale in-place to avoid memory-leaks\n                locales[name].set(mergeConfigs(locales[name]._config, config));\n            } else {\n                // MERGE\n                tmpLocale = loadLocale(name);\n                if (tmpLocale != null) {\n                    parentConfig = tmpLocale._config;\n                }\n                config = mergeConfigs(parentConfig, config);\n                if (tmpLocale == null) {\n                    // updateLocale is called for creating a new locale\n                    // Set abbr so it will have a name (getters return\n                    // undefined otherwise).\n                    config.abbr = name;\n                }\n                locale = new Locale(config);\n                locale.parentLocale = locales[name];\n                locales[name] = locale;\n            }\n\n            // backwards compat for now: also set the locale\n            getSetGlobalLocale(name);\n        } else {\n            // pass null for config to unupdate, useful for tests\n            if (locales[name] != null) {\n                if (locales[name].parentLocale != null) {\n                    locales[name] = locales[name].parentLocale;\n                    if (name === getSetGlobalLocale()) {\n                        getSetGlobalLocale(name);\n                    }\n                } else if (locales[name] != null) {\n                    delete locales[name];\n                }\n            }\n        }\n        return locales[name];\n    }\n\n    // returns locale data\n    function getLocale(key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return globalLocale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    }\n\n    function listLocales() {\n        return keys(locales);\n    }\n\n    function checkOverflow(m) {\n        var overflow,\n            a = m._a;\n\n        if (a && getParsingFlags(m).overflow === -2) {\n            overflow =\n                a[MONTH] < 0 || a[MONTH] > 11\n                    ? MONTH\n                    : a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR], a[MONTH])\n                    ? DATE\n                    : a[HOUR] < 0 ||\n                      a[HOUR] > 24 ||\n                      (a[HOUR] === 24 &&\n                          (a[MINUTE] !== 0 ||\n                              a[SECOND] !== 0 ||\n                              a[MILLISECOND] !== 0))\n                    ? HOUR\n                    : a[MINUTE] < 0 || a[MINUTE] > 59\n                    ? MINUTE\n                    : a[SECOND] < 0 || a[SECOND] > 59\n                    ? SECOND\n                    : a[MILLISECOND] < 0 || a[MILLISECOND] > 999\n                    ? MILLISECOND\n                    : -1;\n\n            if (\n                getParsingFlags(m)._overflowDayOfYear &&\n                (overflow < YEAR || overflow > DATE)\n            ) {\n                overflow = DATE;\n            }\n            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n                overflow = WEEK;\n            }\n            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n                overflow = WEEKDAY;\n            }\n\n            getParsingFlags(m).overflow = overflow;\n        }\n\n        return m;\n    }\n\n    // iso 8601 regex\n    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n    var extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\n        basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d|))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\n        tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/,\n        isoDates = [\n            ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n            ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n            ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n            ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n            ['YYYY-DDD', /\\d{4}-\\d{3}/],\n            ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n            ['YYYYYYMMDD', /[+-]\\d{10}/],\n            ['YYYYMMDD', /\\d{8}/],\n            ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n            ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n            ['YYYYDDD', /\\d{7}/],\n            ['YYYYMM', /\\d{6}/, false],\n            ['YYYY', /\\d{4}/, false],\n        ],\n        // iso time formats and regexes\n        isoTimes = [\n            ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n            ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n            ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n            ['HH:mm', /\\d\\d:\\d\\d/],\n            ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n            ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n            ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n            ['HHmm', /\\d\\d\\d\\d/],\n            ['HH', /\\d\\d/],\n        ],\n        aspNetJsonRegex = /^\\/?Date\\((-?\\d+)/i,\n        // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\n        rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/,\n        obsOffsets = {\n            UT: 0,\n            GMT: 0,\n            EDT: -4 * 60,\n            EST: -5 * 60,\n            CDT: -5 * 60,\n            CST: -6 * 60,\n            MDT: -6 * 60,\n            MST: -7 * 60,\n            PDT: -7 * 60,\n            PST: -8 * 60,\n        };\n\n    // date from iso format\n    function configFromISO(config) {\n        var i,\n            l,\n            string = config._i,\n            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n            allowTime,\n            dateFormat,\n            timeFormat,\n            tzFormat;\n\n        if (match) {\n            getParsingFlags(config).iso = true;\n\n            for (i = 0, l = isoDates.length; i < l; i++) {\n                if (isoDates[i][1].exec(match[1])) {\n                    dateFormat = isoDates[i][0];\n                    allowTime = isoDates[i][2] !== false;\n                    break;\n                }\n            }\n            if (dateFormat == null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[3]) {\n                for (i = 0, l = isoTimes.length; i < l; i++) {\n                    if (isoTimes[i][1].exec(match[3])) {\n                        // match[2] should be 'T' or space\n                        timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                        break;\n                    }\n                }\n                if (timeFormat == null) {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            if (!allowTime && timeFormat != null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[4]) {\n                if (tzRegex.exec(match[4])) {\n                    tzFormat = 'Z';\n                } else {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n            configFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    function extractFromRFC2822Strings(\n        yearStr,\n        monthStr,\n        dayStr,\n        hourStr,\n        minuteStr,\n        secondStr\n    ) {\n        var result = [\n            untruncateYear(yearStr),\n            defaultLocaleMonthsShort.indexOf(monthStr),\n            parseInt(dayStr, 10),\n            parseInt(hourStr, 10),\n            parseInt(minuteStr, 10),\n        ];\n\n        if (secondStr) {\n            result.push(parseInt(secondStr, 10));\n        }\n\n        return result;\n    }\n\n    function untruncateYear(yearStr) {\n        var year = parseInt(yearStr, 10);\n        if (year <= 49) {\n            return 2000 + year;\n        } else if (year <= 999) {\n            return 1900 + year;\n        }\n        return year;\n    }\n\n    function preprocessRFC2822(s) {\n        // Remove comments and folding whitespace and replace multiple-spaces with a single space\n        return s\n            .replace(/\\([^)]*\\)|[\\n\\t]/g, ' ')\n            .replace(/(\\s\\s+)/g, ' ')\n            .replace(/^\\s\\s*/, '')\n            .replace(/\\s\\s*$/, '');\n    }\n\n    function checkWeekday(weekdayStr, parsedInput, config) {\n        if (weekdayStr) {\n            // TODO: Replace the vanilla JS Date object with an independent day-of-week check.\n            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\n                weekdayActual = new Date(\n                    parsedInput[0],\n                    parsedInput[1],\n                    parsedInput[2]\n                ).getDay();\n            if (weekdayProvided !== weekdayActual) {\n                getParsingFlags(config).weekdayMismatch = true;\n                config._isValid = false;\n                return false;\n            }\n        }\n        return true;\n    }\n\n    function calculateOffset(obsOffset, militaryOffset, numOffset) {\n        if (obsOffset) {\n            return obsOffsets[obsOffset];\n        } else if (militaryOffset) {\n            // the only allowed military tz is Z\n            return 0;\n        } else {\n            var hm = parseInt(numOffset, 10),\n                m = hm % 100,\n                h = (hm - m) / 100;\n            return h * 60 + m;\n        }\n    }\n\n    // date and time from ref 2822 format\n    function configFromRFC2822(config) {\n        var match = rfc2822.exec(preprocessRFC2822(config._i)),\n            parsedArray;\n        if (match) {\n            parsedArray = extractFromRFC2822Strings(\n                match[4],\n                match[3],\n                match[2],\n                match[5],\n                match[6],\n                match[7]\n            );\n            if (!checkWeekday(match[1], parsedArray, config)) {\n                return;\n            }\n\n            config._a = parsedArray;\n            config._tzm = calculateOffset(match[8], match[9], match[10]);\n\n            config._d = createUTCDate.apply(null, config._a);\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\n            getParsingFlags(config).rfc2822 = true;\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from 1) ASP.NET, 2) ISO, 3) RFC 2822 formats, or 4) optional fallback if parsing isn't strict\n    function configFromString(config) {\n        var matched = aspNetJsonRegex.exec(config._i);\n        if (matched !== null) {\n            config._d = new Date(+matched[1]);\n            return;\n        }\n\n        configFromISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        configFromRFC2822(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        if (config._strict) {\n            config._isValid = false;\n        } else {\n            // Final attempt, use Input Fallback\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    hooks.createFromInputFallback = deprecate(\n        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n            'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n            'discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n        function (config) {\n            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n        }\n    );\n\n    // Pick the first defined of two or three arguments.\n    function defaults(a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (b != null) {\n            return b;\n        }\n        return c;\n    }\n\n    function currentDateArray(config) {\n        // hooks is actually the exported moment object\n        var nowValue = new Date(hooks.now());\n        if (config._useUTC) {\n            return [\n                nowValue.getUTCFullYear(),\n                nowValue.getUTCMonth(),\n                nowValue.getUTCDate(),\n            ];\n        }\n        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function configFromArray(config) {\n        var i,\n            date,\n            input = [],\n            currentDate,\n            expectedWeekday,\n            yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear != null) {\n            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n            if (\n                config._dayOfYear > daysInYear(yearToUse) ||\n                config._dayOfYear === 0\n            ) {\n                getParsingFlags(config)._overflowDayOfYear = true;\n            }\n\n            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] =\n                config._a[i] == null ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // Check for 24:00:00.000\n        if (\n            config._a[HOUR] === 24 &&\n            config._a[MINUTE] === 0 &&\n            config._a[SECOND] === 0 &&\n            config._a[MILLISECOND] === 0\n        ) {\n            config._nextDay = true;\n            config._a[HOUR] = 0;\n        }\n\n        config._d = (config._useUTC ? createUTCDate : createDate).apply(\n            null,\n            input\n        );\n        expectedWeekday = config._useUTC\n            ? config._d.getUTCDay()\n            : config._d.getDay();\n\n        // Apply timezone offset from input. The actual utcOffset can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n        }\n\n        if (config._nextDay) {\n            config._a[HOUR] = 24;\n        }\n\n        // check for mismatching day of week\n        if (\n            config._w &&\n            typeof config._w.d !== 'undefined' &&\n            config._w.d !== expectedWeekday\n        ) {\n            getParsingFlags(config).weekdayMismatch = true;\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow, curWeek;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = defaults(\n                w.GG,\n                config._a[YEAR],\n                weekOfYear(createLocal(), 1, 4).year\n            );\n            week = defaults(w.W, 1);\n            weekday = defaults(w.E, 1);\n            if (weekday < 1 || weekday > 7) {\n                weekdayOverflow = true;\n            }\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            curWeek = weekOfYear(createLocal(), dow, doy);\n\n            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n            // Default to current week.\n            week = defaults(w.w, curWeek.week);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < 0 || weekday > 6) {\n                    weekdayOverflow = true;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from beginning of week\n                weekday = w.e + dow;\n                if (w.e < 0 || w.e > 6) {\n                    weekdayOverflow = true;\n                }\n            } else {\n                // default to beginning of week\n                weekday = dow;\n            }\n        }\n        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n            getParsingFlags(config)._overflowWeeks = true;\n        } else if (weekdayOverflow != null) {\n            getParsingFlags(config)._overflowWeekday = true;\n        } else {\n            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n            config._a[YEAR] = temp.year;\n            config._dayOfYear = temp.dayOfYear;\n        }\n    }\n\n    // constant that refers to the ISO standard\n    hooks.ISO_8601 = function () {};\n\n    // constant that refers to the RFC 2822 form\n    hooks.RFC_2822 = function () {};\n\n    // date from string and format string\n    function configFromStringAndFormat(config) {\n        // TODO: Move this to another part of the creation flow to prevent circular deps\n        if (config._f === hooks.ISO_8601) {\n            configFromISO(config);\n            return;\n        }\n        if (config._f === hooks.RFC_2822) {\n            configFromRFC2822(config);\n            return;\n        }\n        config._a = [];\n        getParsingFlags(config).empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i,\n            parsedInput,\n            tokens,\n            token,\n            skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0,\n            era;\n\n        tokens =\n            expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n        for (i = 0; i < tokens.length; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) ||\n                [])[0];\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    getParsingFlags(config).unusedInput.push(skipped);\n                }\n                string = string.slice(\n                    string.indexOf(parsedInput) + parsedInput.length\n                );\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    getParsingFlags(config).empty = false;\n                } else {\n                    getParsingFlags(config).unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            } else if (config._strict && !parsedInput) {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        getParsingFlags(config).charsLeftOver =\n            stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            getParsingFlags(config).unusedInput.push(string);\n        }\n\n        // clear _12h flag if hour is <= 12\n        if (\n            config._a[HOUR] <= 12 &&\n            getParsingFlags(config).bigHour === true &&\n            config._a[HOUR] > 0\n        ) {\n            getParsingFlags(config).bigHour = undefined;\n        }\n\n        getParsingFlags(config).parsedDateParts = config._a.slice(0);\n        getParsingFlags(config).meridiem = config._meridiem;\n        // handle meridiem\n        config._a[HOUR] = meridiemFixWrap(\n            config._locale,\n            config._a[HOUR],\n            config._meridiem\n        );\n\n        // handle era\n        era = getParsingFlags(config).era;\n        if (era !== null) {\n            config._a[YEAR] = config._locale.erasConvertYear(era, config._a[YEAR]);\n        }\n\n        configFromArray(config);\n        checkOverflow(config);\n    }\n\n    function meridiemFixWrap(locale, hour, meridiem) {\n        var isPm;\n\n        if (meridiem == null) {\n            // nothing to do\n            return hour;\n        }\n        if (locale.meridiemHour != null) {\n            return locale.meridiemHour(hour, meridiem);\n        } else if (locale.isPM != null) {\n            // Fallback\n            isPm = locale.isPM(meridiem);\n            if (isPm && hour < 12) {\n                hour += 12;\n            }\n            if (!isPm && hour === 12) {\n                hour = 0;\n            }\n            return hour;\n        } else {\n            // this is not supposed to happen\n            return hour;\n        }\n    }\n\n    // date from string and array of format strings\n    function configFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n            scoreToBeat,\n            i,\n            currentScore,\n            validFormatFound,\n            bestFormatIsValid = false;\n\n        if (config._f.length === 0) {\n            getParsingFlags(config).invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < config._f.length; i++) {\n            currentScore = 0;\n            validFormatFound = false;\n            tempConfig = copyConfig({}, config);\n            if (config._useUTC != null) {\n                tempConfig._useUTC = config._useUTC;\n            }\n            tempConfig._f = config._f[i];\n            configFromStringAndFormat(tempConfig);\n\n            if (isValid(tempConfig)) {\n                validFormatFound = true;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n            //or tokens\n            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n            getParsingFlags(tempConfig).score = currentScore;\n\n            if (!bestFormatIsValid) {\n                if (\n                    scoreToBeat == null ||\n                    currentScore < scoreToBeat ||\n                    validFormatFound\n                ) {\n                    scoreToBeat = currentScore;\n                    bestMoment = tempConfig;\n                    if (validFormatFound) {\n                        bestFormatIsValid = true;\n                    }\n                }\n            } else {\n                if (currentScore < scoreToBeat) {\n                    scoreToBeat = currentScore;\n                    bestMoment = tempConfig;\n                }\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    function configFromObject(config) {\n        if (config._d) {\n            return;\n        }\n\n        var i = normalizeObjectUnits(config._i),\n            dayOrDate = i.day === undefined ? i.date : i.day;\n        config._a = map(\n            [i.year, i.month, dayOrDate, i.hour, i.minute, i.second, i.millisecond],\n            function (obj) {\n                return obj && parseInt(obj, 10);\n            }\n        );\n\n        configFromArray(config);\n    }\n\n    function createFromConfig(config) {\n        var res = new Moment(checkOverflow(prepareConfig(config)));\n        if (res._nextDay) {\n            // Adding is smart enough around DST\n            res.add(1, 'd');\n            res._nextDay = undefined;\n        }\n\n        return res;\n    }\n\n    function prepareConfig(config) {\n        var input = config._i,\n            format = config._f;\n\n        config._locale = config._locale || getLocale(config._l);\n\n        if (input === null || (format === undefined && input === '')) {\n            return createInvalid({ nullInput: true });\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (isMoment(input)) {\n            return new Moment(checkOverflow(input));\n        } else if (isDate(input)) {\n            config._d = input;\n        } else if (isArray(format)) {\n            configFromStringAndArray(config);\n        } else if (format) {\n            configFromStringAndFormat(config);\n        } else {\n            configFromInput(config);\n        }\n\n        if (!isValid(config)) {\n            config._d = null;\n        }\n\n        return config;\n    }\n\n    function configFromInput(config) {\n        var input = config._i;\n        if (isUndefined(input)) {\n            config._d = new Date(hooks.now());\n        } else if (isDate(input)) {\n            config._d = new Date(input.valueOf());\n        } else if (typeof input === 'string') {\n            configFromString(config);\n        } else if (isArray(input)) {\n            config._a = map(input.slice(0), function (obj) {\n                return parseInt(obj, 10);\n            });\n            configFromArray(config);\n        } else if (isObject(input)) {\n            configFromObject(config);\n        } else if (isNumber(input)) {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    function createLocalOrUTC(input, format, locale, strict, isUTC) {\n        var c = {};\n\n        if (format === true || format === false) {\n            strict = format;\n            format = undefined;\n        }\n\n        if (locale === true || locale === false) {\n            strict = locale;\n            locale = undefined;\n        }\n\n        if (\n            (isObject(input) && isObjectEmpty(input)) ||\n            (isArray(input) && input.length === 0)\n        ) {\n            input = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c._isAMomentObject = true;\n        c._useUTC = c._isUTC = isUTC;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n\n        return createFromConfig(c);\n    }\n\n    function createLocal(input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, false);\n    }\n\n    var prototypeMin = deprecate(\n            'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n            function () {\n                var other = createLocal.apply(null, arguments);\n                if (this.isValid() && other.isValid()) {\n                    return other < this ? this : other;\n                } else {\n                    return createInvalid();\n                }\n            }\n        ),\n        prototypeMax = deprecate(\n            'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n            function () {\n                var other = createLocal.apply(null, arguments);\n                if (this.isValid() && other.isValid()) {\n                    return other > this ? this : other;\n                } else {\n                    return createInvalid();\n                }\n            }\n        );\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return createLocal();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (!moments[i].isValid() || moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    // TODO: Use [].sort instead?\n    function min() {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    }\n\n    function max() {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    }\n\n    var now = function () {\n        return Date.now ? Date.now() : +new Date();\n    };\n\n    var ordering = [\n        'year',\n        'quarter',\n        'month',\n        'week',\n        'day',\n        'hour',\n        'minute',\n        'second',\n        'millisecond',\n    ];\n\n    function isDurationValid(m) {\n        var key,\n            unitHasDecimal = false,\n            i;\n        for (key in m) {\n            if (\n                hasOwnProp(m, key) &&\n                !(\n                    indexOf.call(ordering, key) !== -1 &&\n                    (m[key] == null || !isNaN(m[key]))\n                )\n            ) {\n                return false;\n            }\n        }\n\n        for (i = 0; i < ordering.length; ++i) {\n            if (m[ordering[i]]) {\n                if (unitHasDecimal) {\n                    return false; // only allow non-integers for smallest unit\n                }\n                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                    unitHasDecimal = true;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    function isValid$1() {\n        return this._isValid;\n    }\n\n    function createInvalid$1() {\n        return createDuration(NaN);\n    }\n\n    function Duration(duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        this._isValid = isDurationValid(normalizedInput);\n\n        // representation for dateAddRemove\n        this._milliseconds =\n            +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days + weeks * 7;\n        // It is impossible to translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months + quarters * 3 + years * 12;\n\n        this._data = {};\n\n        this._locale = getLocale();\n\n        this._bubble();\n    }\n\n    function isDuration(obj) {\n        return obj instanceof Duration;\n    }\n\n    function absRound(number) {\n        if (number < 0) {\n            return Math.round(-1 * number) * -1;\n        } else {\n            return Math.round(number);\n        }\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if (\n                (dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))\n            ) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    // FORMATTING\n\n    function offset(token, separator) {\n        addFormatToken(token, 0, 0, function () {\n            var offset = this.utcOffset(),\n                sign = '+';\n            if (offset < 0) {\n                offset = -offset;\n                sign = '-';\n            }\n            return (\n                sign +\n                zeroFill(~~(offset / 60), 2) +\n                separator +\n                zeroFill(~~offset % 60, 2)\n            );\n        });\n    }\n\n    offset('Z', ':');\n    offset('ZZ', '');\n\n    // PARSING\n\n    addRegexToken('Z', matchShortOffset);\n    addRegexToken('ZZ', matchShortOffset);\n    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n        config._useUTC = true;\n        config._tzm = offsetFromString(matchShortOffset, input);\n    });\n\n    // HELPERS\n\n    // timezone chunker\n    // '+10:00' > ['10',  '00']\n    // '-1530'  > ['-15', '30']\n    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n    function offsetFromString(matcher, string) {\n        var matches = (string || '').match(matcher),\n            chunk,\n            parts,\n            minutes;\n\n        if (matches === null) {\n            return null;\n        }\n\n        chunk = matches[matches.length - 1] || [];\n        parts = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n        minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return minutes === 0 ? 0 : parts[0] === '+' ? minutes : -minutes;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function cloneWithOffset(input, model) {\n        var res, diff;\n        if (model._isUTC) {\n            res = model.clone();\n            diff =\n                (isMoment(input) || isDate(input)\n                    ? input.valueOf()\n                    : createLocal(input).valueOf()) - res.valueOf();\n            // Use low-level api, because this fn is low-level api.\n            res._d.setTime(res._d.valueOf() + diff);\n            hooks.updateOffset(res, false);\n            return res;\n        } else {\n            return createLocal(input).local();\n        }\n    }\n\n    function getDateOffset(m) {\n        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n        // https://github.com/moment/moment/pull/1871\n        return -Math.round(m._d.getTimezoneOffset());\n    }\n\n    // HOOKS\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    hooks.updateOffset = function () {};\n\n    // MOMENTS\n\n    // keepLocalTime = true means only change the timezone, without\n    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n    // +0200, so we adjust the time as needed, to be valid.\n    //\n    // Keeping the time actually adds/subtracts (one hour)\n    // from the actual represented time. That is why we call updateOffset\n    // a second time. In case it wants us to change the offset again\n    // _changeInProgress == true case, then we have to adjust, because\n    // there is no such time in the given timezone.\n    function getSetOffset(input, keepLocalTime, keepMinutes) {\n        var offset = this._offset || 0,\n            localAdjust;\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        if (input != null) {\n            if (typeof input === 'string') {\n                input = offsetFromString(matchShortOffset, input);\n                if (input === null) {\n                    return this;\n                }\n            } else if (Math.abs(input) < 16 && !keepMinutes) {\n                input = input * 60;\n            }\n            if (!this._isUTC && keepLocalTime) {\n                localAdjust = getDateOffset(this);\n            }\n            this._offset = input;\n            this._isUTC = true;\n            if (localAdjust != null) {\n                this.add(localAdjust, 'm');\n            }\n            if (offset !== input) {\n                if (!keepLocalTime || this._changeInProgress) {\n                    addSubtract(\n                        this,\n                        createDuration(input - offset, 'm'),\n                        1,\n                        false\n                    );\n                } else if (!this._changeInProgress) {\n                    this._changeInProgress = true;\n                    hooks.updateOffset(this, true);\n                    this._changeInProgress = null;\n                }\n            }\n            return this;\n        } else {\n            return this._isUTC ? offset : getDateOffset(this);\n        }\n    }\n\n    function getSetZone(input, keepLocalTime) {\n        if (input != null) {\n            if (typeof input !== 'string') {\n                input = -input;\n            }\n\n            this.utcOffset(input, keepLocalTime);\n\n            return this;\n        } else {\n            return -this.utcOffset();\n        }\n    }\n\n    function setOffsetToUTC(keepLocalTime) {\n        return this.utcOffset(0, keepLocalTime);\n    }\n\n    function setOffsetToLocal(keepLocalTime) {\n        if (this._isUTC) {\n            this.utcOffset(0, keepLocalTime);\n            this._isUTC = false;\n\n            if (keepLocalTime) {\n                this.subtract(getDateOffset(this), 'm');\n            }\n        }\n        return this;\n    }\n\n    function setOffsetToParsedOffset() {\n        if (this._tzm != null) {\n            this.utcOffset(this._tzm, false, true);\n        } else if (typeof this._i === 'string') {\n            var tZone = offsetFromString(matchOffset, this._i);\n            if (tZone != null) {\n                this.utcOffset(tZone);\n            } else {\n                this.utcOffset(0, true);\n            }\n        }\n        return this;\n    }\n\n    function hasAlignedHourOffset(input) {\n        if (!this.isValid()) {\n            return false;\n        }\n        input = input ? createLocal(input).utcOffset() : 0;\n\n        return (this.utcOffset() - input) % 60 === 0;\n    }\n\n    function isDaylightSavingTime() {\n        return (\n            this.utcOffset() > this.clone().month(0).utcOffset() ||\n            this.utcOffset() > this.clone().month(5).utcOffset()\n        );\n    }\n\n    function isDaylightSavingTimeShifted() {\n        if (!isUndefined(this._isDSTShifted)) {\n            return this._isDSTShifted;\n        }\n\n        var c = {},\n            other;\n\n        copyConfig(c, this);\n        c = prepareConfig(c);\n\n        if (c._a) {\n            other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n            this._isDSTShifted =\n                this.isValid() && compareArrays(c._a, other.toArray()) > 0;\n        } else {\n            this._isDSTShifted = false;\n        }\n\n        return this._isDSTShifted;\n    }\n\n    function isLocal() {\n        return this.isValid() ? !this._isUTC : false;\n    }\n\n    function isUtcOffset() {\n        return this.isValid() ? this._isUTC : false;\n    }\n\n    function isUtc() {\n        return this.isValid() ? this._isUTC && this._offset === 0 : false;\n    }\n\n    // ASP.NET json date format regex\n    var aspNetRegex = /^(-|\\+)?(?:(\\d*)[. ])?(\\d+):(\\d+)(?::(\\d+)(\\.\\d*)?)?$/,\n        // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n        // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n        // and further modified to allow for strings containing both week and day\n        isoRegex = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\n    function createDuration(input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            diffRes;\n\n        if (isDuration(input)) {\n            duration = {\n                ms: input._milliseconds,\n                d: input._days,\n                M: input._months,\n            };\n        } else if (isNumber(input) || !isNaN(+input)) {\n            duration = {};\n            if (key) {\n                duration[key] = +input;\n            } else {\n                duration.milliseconds = +input;\n            }\n        } else if ((match = aspNetRegex.exec(input))) {\n            sign = match[1] === '-' ? -1 : 1;\n            duration = {\n                y: 0,\n                d: toInt(match[DATE]) * sign,\n                h: toInt(match[HOUR]) * sign,\n                m: toInt(match[MINUTE]) * sign,\n                s: toInt(match[SECOND]) * sign,\n                ms: toInt(absRound(match[MILLISECOND] * 1000)) * sign, // the millisecond decimal point is included in the match\n            };\n        } else if ((match = isoRegex.exec(input))) {\n            sign = match[1] === '-' ? -1 : 1;\n            duration = {\n                y: parseIso(match[2], sign),\n                M: parseIso(match[3], sign),\n                w: parseIso(match[4], sign),\n                d: parseIso(match[5], sign),\n                h: parseIso(match[6], sign),\n                m: parseIso(match[7], sign),\n                s: parseIso(match[8], sign),\n            };\n        } else if (duration == null) {\n            // checks for null or undefined\n            duration = {};\n        } else if (\n            typeof duration === 'object' &&\n            ('from' in duration || 'to' in duration)\n        ) {\n            diffRes = momentsDifference(\n                createLocal(duration.from),\n                createLocal(duration.to)\n            );\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n            ret._locale = input._locale;\n        }\n\n        if (isDuration(input) && hasOwnProp(input, '_isValid')) {\n            ret._isValid = input._isValid;\n        }\n\n        return ret;\n    }\n\n    createDuration.fn = Duration.prototype;\n    createDuration.invalid = createInvalid$1;\n\n    function parseIso(inp, sign) {\n        // We'd normally use ~~inp for this, but unfortunately it also\n        // converts floats to ints.\n        // inp may be undefined, so careful calling replace on it.\n        var res = inp && parseFloat(inp.replace(',', '.'));\n        // apply sign while we're at it\n        return (isNaN(res) ? 0 : res) * sign;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = {};\n\n        res.months =\n            other.month() - base.month() + (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +base.clone().add(res.months, 'M');\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        if (!(base.isValid() && other.isValid())) {\n            return { milliseconds: 0, months: 0 };\n        }\n\n        other = cloneWithOffset(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    // TODO: remove 'name' arg after deprecation is removed\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(\n                    name,\n                    'moment().' +\n                        name +\n                        '(period, number) is deprecated. Please use moment().' +\n                        name +\n                        '(number, period). ' +\n                        'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.'\n                );\n                tmp = val;\n                val = period;\n                period = tmp;\n            }\n\n            dur = createDuration(val, period);\n            addSubtract(this, dur, direction);\n            return this;\n        };\n    }\n\n    function addSubtract(mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = absRound(duration._days),\n            months = absRound(duration._months);\n\n        if (!mom.isValid()) {\n            // No op\n            return;\n        }\n\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (months) {\n            setMonth(mom, get(mom, 'Month') + months * isAdding);\n        }\n        if (days) {\n            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n        }\n        if (milliseconds) {\n            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n        }\n        if (updateOffset) {\n            hooks.updateOffset(mom, days || months);\n        }\n    }\n\n    var add = createAdder(1, 'add'),\n        subtract = createAdder(-1, 'subtract');\n\n    function isString(input) {\n        return typeof input === 'string' || input instanceof String;\n    }\n\n    // type MomentInput = Moment | Date | string | number | (number | string)[] | MomentInputObject | void; // null | undefined\n    function isMomentInput(input) {\n        return (\n            isMoment(input) ||\n            isDate(input) ||\n            isString(input) ||\n            isNumber(input) ||\n            isNumberOrStringArray(input) ||\n            isMomentInputObject(input) ||\n            input === null ||\n            input === undefined\n        );\n    }\n\n    function isMomentInputObject(input) {\n        var objectTest = isObject(input) && !isObjectEmpty(input),\n            propertyTest = false,\n            properties = [\n                'years',\n                'year',\n                'y',\n                'months',\n                'month',\n                'M',\n                'days',\n                'day',\n                'd',\n                'dates',\n                'date',\n                'D',\n                'hours',\n                'hour',\n                'h',\n                'minutes',\n                'minute',\n                'm',\n                'seconds',\n                'second',\n                's',\n                'milliseconds',\n                'millisecond',\n                'ms',\n            ],\n            i,\n            property;\n\n        for (i = 0; i < properties.length; i += 1) {\n            property = properties[i];\n            propertyTest = propertyTest || hasOwnProp(input, property);\n        }\n\n        return objectTest && propertyTest;\n    }\n\n    function isNumberOrStringArray(input) {\n        var arrayTest = isArray(input),\n            dataTypeTest = false;\n        if (arrayTest) {\n            dataTypeTest =\n                input.filter(function (item) {\n                    return !isNumber(item) && isString(input);\n                }).length === 0;\n        }\n        return arrayTest && dataTypeTest;\n    }\n\n    function isCalendarSpec(input) {\n        var objectTest = isObject(input) && !isObjectEmpty(input),\n            propertyTest = false,\n            properties = [\n                'sameDay',\n                'nextDay',\n                'lastDay',\n                'nextWeek',\n                'lastWeek',\n                'sameElse',\n            ],\n            i,\n            property;\n\n        for (i = 0; i < properties.length; i += 1) {\n            property = properties[i];\n            propertyTest = propertyTest || hasOwnProp(input, property);\n        }\n\n        return objectTest && propertyTest;\n    }\n\n    function getCalendarFormat(myMoment, now) {\n        var diff = myMoment.diff(now, 'days', true);\n        return diff < -6\n            ? 'sameElse'\n            : diff < -1\n            ? 'lastWeek'\n            : diff < 0\n            ? 'lastDay'\n            : diff < 1\n            ? 'sameDay'\n            : diff < 2\n            ? 'nextDay'\n            : diff < 7\n            ? 'nextWeek'\n            : 'sameElse';\n    }\n\n    function calendar$1(time, formats) {\n        // Support for single parameter, formats only overload to the calendar function\n        if (arguments.length === 1) {\n            if (!arguments[0]) {\n                time = undefined;\n                formats = undefined;\n            } else if (isMomentInput(arguments[0])) {\n                time = arguments[0];\n                formats = undefined;\n            } else if (isCalendarSpec(arguments[0])) {\n                formats = arguments[0];\n                time = undefined;\n            }\n        }\n        // We want to compare the start of today, vs this.\n        // Getting start-of-today depends on whether we're local/utc/offset or not.\n        var now = time || createLocal(),\n            sod = cloneWithOffset(now, this).startOf('day'),\n            format = hooks.calendarFormat(this, sod) || 'sameElse',\n            output =\n                formats &&\n                (isFunction(formats[format])\n                    ? formats[format].call(this, now)\n                    : formats[format]);\n\n        return this.format(\n            output || this.localeData().calendar(format, this, createLocal(now))\n        );\n    }\n\n    function clone() {\n        return new Moment(this);\n    }\n\n    function isAfter(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() > localInput.valueOf();\n        } else {\n            return localInput.valueOf() < this.clone().startOf(units).valueOf();\n        }\n    }\n\n    function isBefore(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() < localInput.valueOf();\n        } else {\n            return this.clone().endOf(units).valueOf() < localInput.valueOf();\n        }\n    }\n\n    function isBetween(from, to, units, inclusivity) {\n        var localFrom = isMoment(from) ? from : createLocal(from),\n            localTo = isMoment(to) ? to : createLocal(to);\n        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {\n            return false;\n        }\n        inclusivity = inclusivity || '()';\n        return (\n            (inclusivity[0] === '('\n                ? this.isAfter(localFrom, units)\n                : !this.isBefore(localFrom, units)) &&\n            (inclusivity[1] === ')'\n                ? this.isBefore(localTo, units)\n                : !this.isAfter(localTo, units))\n        );\n    }\n\n    function isSame(input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input),\n            inputMs;\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() === localInput.valueOf();\n        } else {\n            inputMs = localInput.valueOf();\n            return (\n                this.clone().startOf(units).valueOf() <= inputMs &&\n                inputMs <= this.clone().endOf(units).valueOf()\n            );\n        }\n    }\n\n    function isSameOrAfter(input, units) {\n        return this.isSame(input, units) || this.isAfter(input, units);\n    }\n\n    function isSameOrBefore(input, units) {\n        return this.isSame(input, units) || this.isBefore(input, units);\n    }\n\n    function diff(input, units, asFloat) {\n        var that, zoneDelta, output;\n\n        if (!this.isValid()) {\n            return NaN;\n        }\n\n        that = cloneWithOffset(input, this);\n\n        if (!that.isValid()) {\n            return NaN;\n        }\n\n        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n        units = normalizeUnits(units);\n\n        switch (units) {\n            case 'year':\n                output = monthDiff(this, that) / 12;\n                break;\n            case 'month':\n                output = monthDiff(this, that);\n                break;\n            case 'quarter':\n                output = monthDiff(this, that) / 3;\n                break;\n            case 'second':\n                output = (this - that) / 1e3;\n                break; // 1000\n            case 'minute':\n                output = (this - that) / 6e4;\n                break; // 1000 * 60\n            case 'hour':\n                output = (this - that) / 36e5;\n                break; // 1000 * 60 * 60\n            case 'day':\n                output = (this - that - zoneDelta) / 864e5;\n                break; // 1000 * 60 * 60 * 24, negate dst\n            case 'week':\n                output = (this - that - zoneDelta) / 6048e5;\n                break; // 1000 * 60 * 60 * 24 * 7, negate dst\n            default:\n                output = this - that;\n        }\n\n        return asFloat ? output : absFloor(output);\n    }\n\n    function monthDiff(a, b) {\n        if (a.date() < b.date()) {\n            // end-of-month calculations work correct when the start month has more\n            // days than the end month.\n            return -monthDiff(b, a);\n        }\n        // difference in months\n        var wholeMonthDiff = (b.year() - a.year()) * 12 + (b.month() - a.month()),\n            // b is in (anchor - 1 month, anchor + 1 month)\n            anchor = a.clone().add(wholeMonthDiff, 'months'),\n            anchor2,\n            adjust;\n\n        if (b - anchor < 0) {\n            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor - anchor2);\n        } else {\n            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor2 - anchor);\n        }\n\n        //check for negative zero, return zero if negative zero\n        return -(wholeMonthDiff + adjust) || 0;\n    }\n\n    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\n    function toString() {\n        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n    }\n\n    function toISOString(keepOffset) {\n        if (!this.isValid()) {\n            return null;\n        }\n        var utc = keepOffset !== true,\n            m = utc ? this.clone().utc() : this;\n        if (m.year() < 0 || m.year() > 9999) {\n            return formatMoment(\n                m,\n                utc\n                    ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]'\n                    : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ'\n            );\n        }\n        if (isFunction(Date.prototype.toISOString)) {\n            // native implementation is ~50x faster, use it when we can\n            if (utc) {\n                return this.toDate().toISOString();\n            } else {\n                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000)\n                    .toISOString()\n                    .replace('Z', formatMoment(m, 'Z'));\n            }\n        }\n        return formatMoment(\n            m,\n            utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ'\n        );\n    }\n\n    /**\n     * Return a human readable representation of a moment that can\n     * also be evaluated to get a new moment which is the same\n     *\n     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n     */\n    function inspect() {\n        if (!this.isValid()) {\n            return 'moment.invalid(/* ' + this._i + ' */)';\n        }\n        var func = 'moment',\n            zone = '',\n            prefix,\n            year,\n            datetime,\n            suffix;\n        if (!this.isLocal()) {\n            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n            zone = 'Z';\n        }\n        prefix = '[' + func + '(\"]';\n        year = 0 <= this.year() && this.year() <= 9999 ? 'YYYY' : 'YYYYYY';\n        datetime = '-MM-DD[T]HH:mm:ss.SSS';\n        suffix = zone + '[\")]';\n\n        return this.format(prefix + year + datetime + suffix);\n    }\n\n    function format(inputString) {\n        if (!inputString) {\n            inputString = this.isUtc()\n                ? hooks.defaultFormatUtc\n                : hooks.defaultFormat;\n        }\n        var output = formatMoment(this, inputString);\n        return this.localeData().postformat(output);\n    }\n\n    function from(time, withoutSuffix) {\n        if (\n            this.isValid() &&\n            ((isMoment(time) && time.isValid()) || createLocal(time).isValid())\n        ) {\n            return createDuration({ to: this, from: time })\n                .locale(this.locale())\n                .humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function fromNow(withoutSuffix) {\n        return this.from(createLocal(), withoutSuffix);\n    }\n\n    function to(time, withoutSuffix) {\n        if (\n            this.isValid() &&\n            ((isMoment(time) && time.isValid()) || createLocal(time).isValid())\n        ) {\n            return createDuration({ from: this, to: time })\n                .locale(this.locale())\n                .humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function toNow(withoutSuffix) {\n        return this.to(createLocal(), withoutSuffix);\n    }\n\n    // If passed a locale key, it will set the locale for this\n    // instance.  Otherwise, it will return the locale configuration\n    // variables for this instance.\n    function locale(key) {\n        var newLocaleData;\n\n        if (key === undefined) {\n            return this._locale._abbr;\n        } else {\n            newLocaleData = getLocale(key);\n            if (newLocaleData != null) {\n                this._locale = newLocaleData;\n            }\n            return this;\n        }\n    }\n\n    var lang = deprecate(\n        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n        function (key) {\n            if (key === undefined) {\n                return this.localeData();\n            } else {\n                return this.locale(key);\n            }\n        }\n    );\n\n    function localeData() {\n        return this._locale;\n    }\n\n    var MS_PER_SECOND = 1000,\n        MS_PER_MINUTE = 60 * MS_PER_SECOND,\n        MS_PER_HOUR = 60 * MS_PER_MINUTE,\n        MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;\n\n    // actual modulo - handles negative numbers (for dates before 1970):\n    function mod$1(dividend, divisor) {\n        return ((dividend % divisor) + divisor) % divisor;\n    }\n\n    function localStartOfDate(y, m, d) {\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return new Date(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return new Date(y, m, d).valueOf();\n        }\n    }\n\n    function utcStartOfDate(y, m, d) {\n        // Date.UTC remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return Date.UTC(y, m, d);\n        }\n    }\n\n    function startOf(units) {\n        var time, startOfDate;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year(), 0, 1);\n                break;\n            case 'quarter':\n                time = startOfDate(\n                    this.year(),\n                    this.month() - (this.month() % 3),\n                    1\n                );\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month(), 1);\n                break;\n            case 'week':\n                time = startOfDate(\n                    this.year(),\n                    this.month(),\n                    this.date() - this.weekday()\n                );\n                break;\n            case 'isoWeek':\n                time = startOfDate(\n                    this.year(),\n                    this.month(),\n                    this.date() - (this.isoWeekday() - 1)\n                );\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date());\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time -= mod$1(\n                    time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),\n                    MS_PER_HOUR\n                );\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_MINUTE);\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_SECOND);\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function endOf(units) {\n        var time, startOfDate;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year() + 1, 0, 1) - 1;\n                break;\n            case 'quarter':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month() - (this.month() % 3) + 3,\n                        1\n                    ) - 1;\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month() + 1, 1) - 1;\n                break;\n            case 'week':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month(),\n                        this.date() - this.weekday() + 7\n                    ) - 1;\n                break;\n            case 'isoWeek':\n                time =\n                    startOfDate(\n                        this.year(),\n                        this.month(),\n                        this.date() - (this.isoWeekday() - 1) + 7\n                    ) - 1;\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time +=\n                    MS_PER_HOUR -\n                    mod$1(\n                        time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),\n                        MS_PER_HOUR\n                    ) -\n                    1;\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function valueOf() {\n        return this._d.valueOf() - (this._offset || 0) * 60000;\n    }\n\n    function unix() {\n        return Math.floor(this.valueOf() / 1000);\n    }\n\n    function toDate() {\n        return new Date(this.valueOf());\n    }\n\n    function toArray() {\n        var m = this;\n        return [\n            m.year(),\n            m.month(),\n            m.date(),\n            m.hour(),\n            m.minute(),\n            m.second(),\n            m.millisecond(),\n        ];\n    }\n\n    function toObject() {\n        var m = this;\n        return {\n            years: m.year(),\n            months: m.month(),\n            date: m.date(),\n            hours: m.hours(),\n            minutes: m.minutes(),\n            seconds: m.seconds(),\n            milliseconds: m.milliseconds(),\n        };\n    }\n\n    function toJSON() {\n        // new Date(NaN).toJSON() === null\n        return this.isValid() ? this.toISOString() : null;\n    }\n\n    function isValid$2() {\n        return isValid(this);\n    }\n\n    function parsingFlags() {\n        return extend({}, getParsingFlags(this));\n    }\n\n    function invalidAt() {\n        return getParsingFlags(this).overflow;\n    }\n\n    function creationData() {\n        return {\n            input: this._i,\n            format: this._f,\n            locale: this._locale,\n            isUTC: this._isUTC,\n            strict: this._strict,\n        };\n    }\n\n    addFormatToken('N', 0, 0, 'eraAbbr');\n    addFormatToken('NN', 0, 0, 'eraAbbr');\n    addFormatToken('NNN', 0, 0, 'eraAbbr');\n    addFormatToken('NNNN', 0, 0, 'eraName');\n    addFormatToken('NNNNN', 0, 0, 'eraNarrow');\n\n    addFormatToken('y', ['y', 1], 'yo', 'eraYear');\n    addFormatToken('y', ['yy', 2], 0, 'eraYear');\n    addFormatToken('y', ['yyy', 3], 0, 'eraYear');\n    addFormatToken('y', ['yyyy', 4], 0, 'eraYear');\n\n    addRegexToken('N', matchEraAbbr);\n    addRegexToken('NN', matchEraAbbr);\n    addRegexToken('NNN', matchEraAbbr);\n    addRegexToken('NNNN', matchEraName);\n    addRegexToken('NNNNN', matchEraNarrow);\n\n    addParseToken(['N', 'NN', 'NNN', 'NNNN', 'NNNNN'], function (\n        input,\n        array,\n        config,\n        token\n    ) {\n        var era = config._locale.erasParse(input, token, config._strict);\n        if (era) {\n            getParsingFlags(config).era = era;\n        } else {\n            getParsingFlags(config).invalidEra = input;\n        }\n    });\n\n    addRegexToken('y', matchUnsigned);\n    addRegexToken('yy', matchUnsigned);\n    addRegexToken('yyy', matchUnsigned);\n    addRegexToken('yyyy', matchUnsigned);\n    addRegexToken('yo', matchEraYearOrdinal);\n\n    addParseToken(['y', 'yy', 'yyy', 'yyyy'], YEAR);\n    addParseToken(['yo'], function (input, array, config, token) {\n        var match;\n        if (config._locale._eraYearOrdinalRegex) {\n            match = input.match(config._locale._eraYearOrdinalRegex);\n        }\n\n        if (config._locale.eraYearOrdinalParse) {\n            array[YEAR] = config._locale.eraYearOrdinalParse(input, match);\n        } else {\n            array[YEAR] = parseInt(input, 10);\n        }\n    });\n\n    function localeEras(m, format) {\n        var i,\n            l,\n            date,\n            eras = this._eras || getLocale('en')._eras;\n        for (i = 0, l = eras.length; i < l; ++i) {\n            switch (typeof eras[i].since) {\n                case 'string':\n                    // truncate time\n                    date = hooks(eras[i].since).startOf('day');\n                    eras[i].since = date.valueOf();\n                    break;\n            }\n\n            switch (typeof eras[i].until) {\n                case 'undefined':\n                    eras[i].until = +Infinity;\n                    break;\n                case 'string':\n                    // truncate time\n                    date = hooks(eras[i].until).startOf('day').valueOf();\n                    eras[i].until = date.valueOf();\n                    break;\n            }\n        }\n        return eras;\n    }\n\n    function localeErasParse(eraName, format, strict) {\n        var i,\n            l,\n            eras = this.eras(),\n            name,\n            abbr,\n            narrow;\n        eraName = eraName.toUpperCase();\n\n        for (i = 0, l = eras.length; i < l; ++i) {\n            name = eras[i].name.toUpperCase();\n            abbr = eras[i].abbr.toUpperCase();\n            narrow = eras[i].narrow.toUpperCase();\n\n            if (strict) {\n                switch (format) {\n                    case 'N':\n                    case 'NN':\n                    case 'NNN':\n                        if (abbr === eraName) {\n                            return eras[i];\n                        }\n                        break;\n\n                    case 'NNNN':\n                        if (name === eraName) {\n                            return eras[i];\n                        }\n                        break;\n\n                    case 'NNNNN':\n                        if (narrow === eraName) {\n                            return eras[i];\n                        }\n                        break;\n                }\n            } else if ([name, abbr, narrow].indexOf(eraName) >= 0) {\n                return eras[i];\n            }\n        }\n    }\n\n    function localeErasConvertYear(era, year) {\n        var dir = era.since <= era.until ? +1 : -1;\n        if (year === undefined) {\n            return hooks(era.since).year();\n        } else {\n            return hooks(era.since).year() + (year - era.offset) * dir;\n        }\n    }\n\n    function getEraName() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].name;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].name;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraNarrow() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].narrow;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].narrow;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraAbbr() {\n        var i,\n            l,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (eras[i].since <= val && val <= eras[i].until) {\n                return eras[i].abbr;\n            }\n            if (eras[i].until <= val && val <= eras[i].since) {\n                return eras[i].abbr;\n            }\n        }\n\n        return '';\n    }\n\n    function getEraYear() {\n        var i,\n            l,\n            dir,\n            val,\n            eras = this.localeData().eras();\n        for (i = 0, l = eras.length; i < l; ++i) {\n            dir = eras[i].since <= eras[i].until ? +1 : -1;\n\n            // truncate time\n            val = this.clone().startOf('day').valueOf();\n\n            if (\n                (eras[i].since <= val && val <= eras[i].until) ||\n                (eras[i].until <= val && val <= eras[i].since)\n            ) {\n                return (\n                    (this.year() - hooks(eras[i].since).year()) * dir +\n                    eras[i].offset\n                );\n            }\n        }\n\n        return this.year();\n    }\n\n    function erasNameRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasNameRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasNameRegex : this._erasRegex;\n    }\n\n    function erasAbbrRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasAbbrRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasAbbrRegex : this._erasRegex;\n    }\n\n    function erasNarrowRegex(isStrict) {\n        if (!hasOwnProp(this, '_erasNarrowRegex')) {\n            computeErasParse.call(this);\n        }\n        return isStrict ? this._erasNarrowRegex : this._erasRegex;\n    }\n\n    function matchEraAbbr(isStrict, locale) {\n        return locale.erasAbbrRegex(isStrict);\n    }\n\n    function matchEraName(isStrict, locale) {\n        return locale.erasNameRegex(isStrict);\n    }\n\n    function matchEraNarrow(isStrict, locale) {\n        return locale.erasNarrowRegex(isStrict);\n    }\n\n    function matchEraYearOrdinal(isStrict, locale) {\n        return locale._eraYearOrdinalRegex || matchUnsigned;\n    }\n\n    function computeErasParse() {\n        var abbrPieces = [],\n            namePieces = [],\n            narrowPieces = [],\n            mixedPieces = [],\n            i,\n            l,\n            eras = this.eras();\n\n        for (i = 0, l = eras.length; i < l; ++i) {\n            namePieces.push(regexEscape(eras[i].name));\n            abbrPieces.push(regexEscape(eras[i].abbr));\n            narrowPieces.push(regexEscape(eras[i].narrow));\n\n            mixedPieces.push(regexEscape(eras[i].name));\n            mixedPieces.push(regexEscape(eras[i].abbr));\n            mixedPieces.push(regexEscape(eras[i].narrow));\n        }\n\n        this._erasRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._erasNameRegex = new RegExp('^(' + namePieces.join('|') + ')', 'i');\n        this._erasAbbrRegex = new RegExp('^(' + abbrPieces.join('|') + ')', 'i');\n        this._erasNarrowRegex = new RegExp(\n            '^(' + narrowPieces.join('|') + ')',\n            'i'\n        );\n    }\n\n    // FORMATTING\n\n    addFormatToken(0, ['gg', 2], 0, function () {\n        return this.weekYear() % 100;\n    });\n\n    addFormatToken(0, ['GG', 2], 0, function () {\n        return this.isoWeekYear() % 100;\n    });\n\n    function addWeekYearFormatToken(token, getter) {\n        addFormatToken(0, [token, token.length], 0, getter);\n    }\n\n    addWeekYearFormatToken('gggg', 'weekYear');\n    addWeekYearFormatToken('ggggg', 'weekYear');\n    addWeekYearFormatToken('GGGG', 'isoWeekYear');\n    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n    // ALIASES\n\n    addUnitAlias('weekYear', 'gg');\n    addUnitAlias('isoWeekYear', 'GG');\n\n    // PRIORITY\n\n    addUnitPriority('weekYear', 1);\n    addUnitPriority('isoWeekYear', 1);\n\n    // PARSING\n\n    addRegexToken('G', matchSigned);\n    addRegexToken('g', matchSigned);\n    addRegexToken('GG', match1to2, match2);\n    addRegexToken('gg', match1to2, match2);\n    addRegexToken('GGGG', match1to4, match4);\n    addRegexToken('gggg', match1to4, match4);\n    addRegexToken('GGGGG', match1to6, match6);\n    addRegexToken('ggggg', match1to6, match6);\n\n    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (\n        input,\n        week,\n        config,\n        token\n    ) {\n        week[token.substr(0, 2)] = toInt(input);\n    });\n\n    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n        week[token] = hooks.parseTwoDigitYear(input);\n    });\n\n    // MOMENTS\n\n    function getSetWeekYear(input) {\n        return getSetWeekYearHelper.call(\n            this,\n            input,\n            this.week(),\n            this.weekday(),\n            this.localeData()._week.dow,\n            this.localeData()._week.doy\n        );\n    }\n\n    function getSetISOWeekYear(input) {\n        return getSetWeekYearHelper.call(\n            this,\n            input,\n            this.isoWeek(),\n            this.isoWeekday(),\n            1,\n            4\n        );\n    }\n\n    function getISOWeeksInYear() {\n        return weeksInYear(this.year(), 1, 4);\n    }\n\n    function getISOWeeksInISOWeekYear() {\n        return weeksInYear(this.isoWeekYear(), 1, 4);\n    }\n\n    function getWeeksInYear() {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getWeeksInWeekYear() {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.weekYear(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getSetWeekYearHelper(input, week, weekday, dow, doy) {\n        var weeksTarget;\n        if (input == null) {\n            return weekOfYear(this, dow, doy).year;\n        } else {\n            weeksTarget = weeksInYear(input, dow, doy);\n            if (week > weeksTarget) {\n                week = weeksTarget;\n            }\n            return setWeekAll.call(this, input, week, weekday, dow, doy);\n        }\n    }\n\n    function setWeekAll(weekYear, week, weekday, dow, doy) {\n        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n        this.year(date.getUTCFullYear());\n        this.month(date.getUTCMonth());\n        this.date(date.getUTCDate());\n        return this;\n    }\n\n    // FORMATTING\n\n    addFormatToken('Q', 0, 'Qo', 'quarter');\n\n    // ALIASES\n\n    addUnitAlias('quarter', 'Q');\n\n    // PRIORITY\n\n    addUnitPriority('quarter', 7);\n\n    // PARSING\n\n    addRegexToken('Q', match1);\n    addParseToken('Q', function (input, array) {\n        array[MONTH] = (toInt(input) - 1) * 3;\n    });\n\n    // MOMENTS\n\n    function getSetQuarter(input) {\n        return input == null\n            ? Math.ceil((this.month() + 1) / 3)\n            : this.month((input - 1) * 3 + (this.month() % 3));\n    }\n\n    // FORMATTING\n\n    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n    // ALIASES\n\n    addUnitAlias('date', 'D');\n\n    // PRIORITY\n    addUnitPriority('date', 9);\n\n    // PARSING\n\n    addRegexToken('D', match1to2);\n    addRegexToken('DD', match1to2, match2);\n    addRegexToken('Do', function (isStrict, locale) {\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        return isStrict\n            ? locale._dayOfMonthOrdinalParse || locale._ordinalParse\n            : locale._dayOfMonthOrdinalParseLenient;\n    });\n\n    addParseToken(['D', 'DD'], DATE);\n    addParseToken('Do', function (input, array) {\n        array[DATE] = toInt(input.match(match1to2)[0]);\n    });\n\n    // MOMENTS\n\n    var getSetDayOfMonth = makeGetSet('Date', true);\n\n    // FORMATTING\n\n    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n    // ALIASES\n\n    addUnitAlias('dayOfYear', 'DDD');\n\n    // PRIORITY\n    addUnitPriority('dayOfYear', 4);\n\n    // PARSING\n\n    addRegexToken('DDD', match1to3);\n    addRegexToken('DDDD', match3);\n    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n        config._dayOfYear = toInt(input);\n    });\n\n    // HELPERS\n\n    // MOMENTS\n\n    function getSetDayOfYear(input) {\n        var dayOfYear =\n            Math.round(\n                (this.clone().startOf('day') - this.clone().startOf('year')) / 864e5\n            ) + 1;\n        return input == null ? dayOfYear : this.add(input - dayOfYear, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('m', ['mm', 2], 0, 'minute');\n\n    // ALIASES\n\n    addUnitAlias('minute', 'm');\n\n    // PRIORITY\n\n    addUnitPriority('minute', 14);\n\n    // PARSING\n\n    addRegexToken('m', match1to2);\n    addRegexToken('mm', match1to2, match2);\n    addParseToken(['m', 'mm'], MINUTE);\n\n    // MOMENTS\n\n    var getSetMinute = makeGetSet('Minutes', false);\n\n    // FORMATTING\n\n    addFormatToken('s', ['ss', 2], 0, 'second');\n\n    // ALIASES\n\n    addUnitAlias('second', 's');\n\n    // PRIORITY\n\n    addUnitPriority('second', 15);\n\n    // PARSING\n\n    addRegexToken('s', match1to2);\n    addRegexToken('ss', match1to2, match2);\n    addParseToken(['s', 'ss'], SECOND);\n\n    // MOMENTS\n\n    var getSetSecond = makeGetSet('Seconds', false);\n\n    // FORMATTING\n\n    addFormatToken('S', 0, 0, function () {\n        return ~~(this.millisecond() / 100);\n    });\n\n    addFormatToken(0, ['SS', 2], 0, function () {\n        return ~~(this.millisecond() / 10);\n    });\n\n    addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n    addFormatToken(0, ['SSSS', 4], 0, function () {\n        return this.millisecond() * 10;\n    });\n    addFormatToken(0, ['SSSSS', 5], 0, function () {\n        return this.millisecond() * 100;\n    });\n    addFormatToken(0, ['SSSSSS', 6], 0, function () {\n        return this.millisecond() * 1000;\n    });\n    addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n        return this.millisecond() * 10000;\n    });\n    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n        return this.millisecond() * 100000;\n    });\n    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n        return this.millisecond() * 1000000;\n    });\n\n    // ALIASES\n\n    addUnitAlias('millisecond', 'ms');\n\n    // PRIORITY\n\n    addUnitPriority('millisecond', 16);\n\n    // PARSING\n\n    addRegexToken('S', match1to3, match1);\n    addRegexToken('SS', match1to3, match2);\n    addRegexToken('SSS', match1to3, match3);\n\n    var token, getSetMillisecond;\n    for (token = 'SSSS'; token.length <= 9; token += 'S') {\n        addRegexToken(token, matchUnsigned);\n    }\n\n    function parseMs(input, array) {\n        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n    }\n\n    for (token = 'S'; token.length <= 9; token += 'S') {\n        addParseToken(token, parseMs);\n    }\n\n    getSetMillisecond = makeGetSet('Milliseconds', false);\n\n    // FORMATTING\n\n    addFormatToken('z', 0, 0, 'zoneAbbr');\n    addFormatToken('zz', 0, 0, 'zoneName');\n\n    // MOMENTS\n\n    function getZoneAbbr() {\n        return this._isUTC ? 'UTC' : '';\n    }\n\n    function getZoneName() {\n        return this._isUTC ? 'Coordinated Universal Time' : '';\n    }\n\n    var proto = Moment.prototype;\n\n    proto.add = add;\n    proto.calendar = calendar$1;\n    proto.clone = clone;\n    proto.diff = diff;\n    proto.endOf = endOf;\n    proto.format = format;\n    proto.from = from;\n    proto.fromNow = fromNow;\n    proto.to = to;\n    proto.toNow = toNow;\n    proto.get = stringGet;\n    proto.invalidAt = invalidAt;\n    proto.isAfter = isAfter;\n    proto.isBefore = isBefore;\n    proto.isBetween = isBetween;\n    proto.isSame = isSame;\n    proto.isSameOrAfter = isSameOrAfter;\n    proto.isSameOrBefore = isSameOrBefore;\n    proto.isValid = isValid$2;\n    proto.lang = lang;\n    proto.locale = locale;\n    proto.localeData = localeData;\n    proto.max = prototypeMax;\n    proto.min = prototypeMin;\n    proto.parsingFlags = parsingFlags;\n    proto.set = stringSet;\n    proto.startOf = startOf;\n    proto.subtract = subtract;\n    proto.toArray = toArray;\n    proto.toObject = toObject;\n    proto.toDate = toDate;\n    proto.toISOString = toISOString;\n    proto.inspect = inspect;\n    if (typeof Symbol !== 'undefined' && Symbol.for != null) {\n        proto[Symbol.for('nodejs.util.inspect.custom')] = function () {\n            return 'Moment<' + this.format() + '>';\n        };\n    }\n    proto.toJSON = toJSON;\n    proto.toString = toString;\n    proto.unix = unix;\n    proto.valueOf = valueOf;\n    proto.creationData = creationData;\n    proto.eraName = getEraName;\n    proto.eraNarrow = getEraNarrow;\n    proto.eraAbbr = getEraAbbr;\n    proto.eraYear = getEraYear;\n    proto.year = getSetYear;\n    proto.isLeapYear = getIsLeapYear;\n    proto.weekYear = getSetWeekYear;\n    proto.isoWeekYear = getSetISOWeekYear;\n    proto.quarter = proto.quarters = getSetQuarter;\n    proto.month = getSetMonth;\n    proto.daysInMonth = getDaysInMonth;\n    proto.week = proto.weeks = getSetWeek;\n    proto.isoWeek = proto.isoWeeks = getSetISOWeek;\n    proto.weeksInYear = getWeeksInYear;\n    proto.weeksInWeekYear = getWeeksInWeekYear;\n    proto.isoWeeksInYear = getISOWeeksInYear;\n    proto.isoWeeksInISOWeekYear = getISOWeeksInISOWeekYear;\n    proto.date = getSetDayOfMonth;\n    proto.day = proto.days = getSetDayOfWeek;\n    proto.weekday = getSetLocaleDayOfWeek;\n    proto.isoWeekday = getSetISODayOfWeek;\n    proto.dayOfYear = getSetDayOfYear;\n    proto.hour = proto.hours = getSetHour;\n    proto.minute = proto.minutes = getSetMinute;\n    proto.second = proto.seconds = getSetSecond;\n    proto.millisecond = proto.milliseconds = getSetMillisecond;\n    proto.utcOffset = getSetOffset;\n    proto.utc = setOffsetToUTC;\n    proto.local = setOffsetToLocal;\n    proto.parseZone = setOffsetToParsedOffset;\n    proto.hasAlignedHourOffset = hasAlignedHourOffset;\n    proto.isDST = isDaylightSavingTime;\n    proto.isLocal = isLocal;\n    proto.isUtcOffset = isUtcOffset;\n    proto.isUtc = isUtc;\n    proto.isUTC = isUtc;\n    proto.zoneAbbr = getZoneAbbr;\n    proto.zoneName = getZoneName;\n    proto.dates = deprecate(\n        'dates accessor is deprecated. Use date instead.',\n        getSetDayOfMonth\n    );\n    proto.months = deprecate(\n        'months accessor is deprecated. Use month instead',\n        getSetMonth\n    );\n    proto.years = deprecate(\n        'years accessor is deprecated. Use year instead',\n        getSetYear\n    );\n    proto.zone = deprecate(\n        'moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/',\n        getSetZone\n    );\n    proto.isDSTShifted = deprecate(\n        'isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information',\n        isDaylightSavingTimeShifted\n    );\n\n    function createUnix(input) {\n        return createLocal(input * 1000);\n    }\n\n    function createInZone() {\n        return createLocal.apply(null, arguments).parseZone();\n    }\n\n    function preParsePostFormat(string) {\n        return string;\n    }\n\n    var proto$1 = Locale.prototype;\n\n    proto$1.calendar = calendar;\n    proto$1.longDateFormat = longDateFormat;\n    proto$1.invalidDate = invalidDate;\n    proto$1.ordinal = ordinal;\n    proto$1.preparse = preParsePostFormat;\n    proto$1.postformat = preParsePostFormat;\n    proto$1.relativeTime = relativeTime;\n    proto$1.pastFuture = pastFuture;\n    proto$1.set = set;\n    proto$1.eras = localeEras;\n    proto$1.erasParse = localeErasParse;\n    proto$1.erasConvertYear = localeErasConvertYear;\n    proto$1.erasAbbrRegex = erasAbbrRegex;\n    proto$1.erasNameRegex = erasNameRegex;\n    proto$1.erasNarrowRegex = erasNarrowRegex;\n\n    proto$1.months = localeMonths;\n    proto$1.monthsShort = localeMonthsShort;\n    proto$1.monthsParse = localeMonthsParse;\n    proto$1.monthsRegex = monthsRegex;\n    proto$1.monthsShortRegex = monthsShortRegex;\n    proto$1.week = localeWeek;\n    proto$1.firstDayOfYear = localeFirstDayOfYear;\n    proto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n    proto$1.weekdays = localeWeekdays;\n    proto$1.weekdaysMin = localeWeekdaysMin;\n    proto$1.weekdaysShort = localeWeekdaysShort;\n    proto$1.weekdaysParse = localeWeekdaysParse;\n\n    proto$1.weekdaysRegex = weekdaysRegex;\n    proto$1.weekdaysShortRegex = weekdaysShortRegex;\n    proto$1.weekdaysMinRegex = weekdaysMinRegex;\n\n    proto$1.isPM = localeIsPM;\n    proto$1.meridiem = localeMeridiem;\n\n    function get$1(format, index, field, setter) {\n        var locale = getLocale(),\n            utc = createUTC().set(setter, index);\n        return locale[field](utc, format);\n    }\n\n    function listMonthsImpl(format, index, field) {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n\n        if (index != null) {\n            return get$1(format, index, field, 'month');\n        }\n\n        var i,\n            out = [];\n        for (i = 0; i < 12; i++) {\n            out[i] = get$1(format, i, field, 'month');\n        }\n        return out;\n    }\n\n    // ()\n    // (5)\n    // (fmt, 5)\n    // (fmt)\n    // (true)\n    // (true, 5)\n    // (true, fmt, 5)\n    // (true, fmt)\n    function listWeekdaysImpl(localeSorted, format, index, field) {\n        if (typeof localeSorted === 'boolean') {\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        } else {\n            format = localeSorted;\n            index = format;\n            localeSorted = false;\n\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        }\n\n        var locale = getLocale(),\n            shift = localeSorted ? locale._week.dow : 0,\n            i,\n            out = [];\n\n        if (index != null) {\n            return get$1(format, (index + shift) % 7, field, 'day');\n        }\n\n        for (i = 0; i < 7; i++) {\n            out[i] = get$1(format, (i + shift) % 7, field, 'day');\n        }\n        return out;\n    }\n\n    function listMonths(format, index) {\n        return listMonthsImpl(format, index, 'months');\n    }\n\n    function listMonthsShort(format, index) {\n        return listMonthsImpl(format, index, 'monthsShort');\n    }\n\n    function listWeekdays(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n    }\n\n    function listWeekdaysShort(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n    }\n\n    function listWeekdaysMin(localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n    }\n\n    getSetGlobalLocale('en', {\n        eras: [\n            {\n                since: '0001-01-01',\n                until: +Infinity,\n                offset: 1,\n                name: 'Anno Domini',\n                narrow: 'AD',\n                abbr: 'AD',\n            },\n            {\n                since: '0000-12-31',\n                until: -Infinity,\n                offset: 1,\n                name: 'Before Christ',\n                narrow: 'BC',\n                abbr: 'BC',\n            },\n        ],\n        dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal: function (number) {\n            var b = number % 10,\n                output =\n                    toInt((number % 100) / 10) === 1\n                        ? 'th'\n                        : b === 1\n                        ? 'st'\n                        : b === 2\n                        ? 'nd'\n                        : b === 3\n                        ? 'rd'\n                        : 'th';\n            return number + output;\n        },\n    });\n\n    // Side effect imports\n\n    hooks.lang = deprecate(\n        'moment.lang is deprecated. Use moment.locale instead.',\n        getSetGlobalLocale\n    );\n    hooks.langData = deprecate(\n        'moment.langData is deprecated. Use moment.localeData instead.',\n        getLocale\n    );\n\n    var mathAbs = Math.abs;\n\n    function abs() {\n        var data = this._data;\n\n        this._milliseconds = mathAbs(this._milliseconds);\n        this._days = mathAbs(this._days);\n        this._months = mathAbs(this._months);\n\n        data.milliseconds = mathAbs(data.milliseconds);\n        data.seconds = mathAbs(data.seconds);\n        data.minutes = mathAbs(data.minutes);\n        data.hours = mathAbs(data.hours);\n        data.months = mathAbs(data.months);\n        data.years = mathAbs(data.years);\n\n        return this;\n    }\n\n    function addSubtract$1(duration, input, value, direction) {\n        var other = createDuration(input, value);\n\n        duration._milliseconds += direction * other._milliseconds;\n        duration._days += direction * other._days;\n        duration._months += direction * other._months;\n\n        return duration._bubble();\n    }\n\n    // supports only 2.0-style add(1, 's') or add(duration)\n    function add$1(input, value) {\n        return addSubtract$1(this, input, value, 1);\n    }\n\n    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n    function subtract$1(input, value) {\n        return addSubtract$1(this, input, value, -1);\n    }\n\n    function absCeil(number) {\n        if (number < 0) {\n            return Math.floor(number);\n        } else {\n            return Math.ceil(number);\n        }\n    }\n\n    function bubble() {\n        var milliseconds = this._milliseconds,\n            days = this._days,\n            months = this._months,\n            data = this._data,\n            seconds,\n            minutes,\n            hours,\n            years,\n            monthsFromDays;\n\n        // if we have a mix of positive and negative values, bubble down first\n        // check: https://github.com/moment/moment/issues/2166\n        if (\n            !(\n                (milliseconds >= 0 && days >= 0 && months >= 0) ||\n                (milliseconds <= 0 && days <= 0 && months <= 0)\n            )\n        ) {\n            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n            days = 0;\n            months = 0;\n        }\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n\n        seconds = absFloor(milliseconds / 1000);\n        data.seconds = seconds % 60;\n\n        minutes = absFloor(seconds / 60);\n        data.minutes = minutes % 60;\n\n        hours = absFloor(minutes / 60);\n        data.hours = hours % 24;\n\n        days += absFloor(hours / 24);\n\n        // convert days to months\n        monthsFromDays = absFloor(daysToMonths(days));\n        months += monthsFromDays;\n        days -= absCeil(monthsToDays(monthsFromDays));\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        data.days = days;\n        data.months = months;\n        data.years = years;\n\n        return this;\n    }\n\n    function daysToMonths(days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        // 400 years have 12 months === 4800\n        return (days * 4800) / 146097;\n    }\n\n    function monthsToDays(months) {\n        // the reverse of daysToMonths\n        return (months * 146097) / 4800;\n    }\n\n    function as(units) {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        var days,\n            months,\n            milliseconds = this._milliseconds;\n\n        units = normalizeUnits(units);\n\n        if (units === 'month' || units === 'quarter' || units === 'year') {\n            days = this._days + milliseconds / 864e5;\n            months = this._months + daysToMonths(days);\n            switch (units) {\n                case 'month':\n                    return months;\n                case 'quarter':\n                    return months / 3;\n                case 'year':\n                    return months / 12;\n            }\n        } else {\n            // handle milliseconds separately because of floating point math errors (issue #1867)\n            days = this._days + Math.round(monthsToDays(this._months));\n            switch (units) {\n                case 'week':\n                    return days / 7 + milliseconds / 6048e5;\n                case 'day':\n                    return days + milliseconds / 864e5;\n                case 'hour':\n                    return days * 24 + milliseconds / 36e5;\n                case 'minute':\n                    return days * 1440 + milliseconds / 6e4;\n                case 'second':\n                    return days * 86400 + milliseconds / 1000;\n                // Math.floor prevents floating point math errors here\n                case 'millisecond':\n                    return Math.floor(days * 864e5) + milliseconds;\n                default:\n                    throw new Error('Unknown unit ' + units);\n            }\n        }\n    }\n\n    // TODO: Use this.as('ms')?\n    function valueOf$1() {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        return (\n            this._milliseconds +\n            this._days * 864e5 +\n            (this._months % 12) * 2592e6 +\n            toInt(this._months / 12) * 31536e6\n        );\n    }\n\n    function makeAs(alias) {\n        return function () {\n            return this.as(alias);\n        };\n    }\n\n    var asMilliseconds = makeAs('ms'),\n        asSeconds = makeAs('s'),\n        asMinutes = makeAs('m'),\n        asHours = makeAs('h'),\n        asDays = makeAs('d'),\n        asWeeks = makeAs('w'),\n        asMonths = makeAs('M'),\n        asQuarters = makeAs('Q'),\n        asYears = makeAs('y');\n\n    function clone$1() {\n        return createDuration(this);\n    }\n\n    function get$2(units) {\n        units = normalizeUnits(units);\n        return this.isValid() ? this[units + 's']() : NaN;\n    }\n\n    function makeGetter(name) {\n        return function () {\n            return this.isValid() ? this._data[name] : NaN;\n        };\n    }\n\n    var milliseconds = makeGetter('milliseconds'),\n        seconds = makeGetter('seconds'),\n        minutes = makeGetter('minutes'),\n        hours = makeGetter('hours'),\n        days = makeGetter('days'),\n        months = makeGetter('months'),\n        years = makeGetter('years');\n\n    function weeks() {\n        return absFloor(this.days() / 7);\n    }\n\n    var round = Math.round,\n        thresholds = {\n            ss: 44, // a few seconds to seconds\n            s: 45, // seconds to minute\n            m: 45, // minutes to hour\n            h: 22, // hours to day\n            d: 26, // days to month/week\n            w: null, // weeks to month\n            M: 11, // months to year\n        };\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function relativeTime$1(posNegDuration, withoutSuffix, thresholds, locale) {\n        var duration = createDuration(posNegDuration).abs(),\n            seconds = round(duration.as('s')),\n            minutes = round(duration.as('m')),\n            hours = round(duration.as('h')),\n            days = round(duration.as('d')),\n            months = round(duration.as('M')),\n            weeks = round(duration.as('w')),\n            years = round(duration.as('y')),\n            a =\n                (seconds <= thresholds.ss && ['s', seconds]) ||\n                (seconds < thresholds.s && ['ss', seconds]) ||\n                (minutes <= 1 && ['m']) ||\n                (minutes < thresholds.m && ['mm', minutes]) ||\n                (hours <= 1 && ['h']) ||\n                (hours < thresholds.h && ['hh', hours]) ||\n                (days <= 1 && ['d']) ||\n                (days < thresholds.d && ['dd', days]);\n\n        if (thresholds.w != null) {\n            a =\n                a ||\n                (weeks <= 1 && ['w']) ||\n                (weeks < thresholds.w && ['ww', weeks]);\n        }\n        a = a ||\n            (months <= 1 && ['M']) ||\n            (months < thresholds.M && ['MM', months]) ||\n            (years <= 1 && ['y']) || ['yy', years];\n\n        a[2] = withoutSuffix;\n        a[3] = +posNegDuration > 0;\n        a[4] = locale;\n        return substituteTimeAgo.apply(null, a);\n    }\n\n    // This function allows you to set the rounding function for relative time strings\n    function getSetRelativeTimeRounding(roundingFunction) {\n        if (roundingFunction === undefined) {\n            return round;\n        }\n        if (typeof roundingFunction === 'function') {\n            round = roundingFunction;\n            return true;\n        }\n        return false;\n    }\n\n    // This function allows you to set a threshold for relative time strings\n    function getSetRelativeTimeThreshold(threshold, limit) {\n        if (thresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return thresholds[threshold];\n        }\n        thresholds[threshold] = limit;\n        if (threshold === 's') {\n            thresholds.ss = limit - 1;\n        }\n        return true;\n    }\n\n    function humanize(argWithSuffix, argThresholds) {\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var withSuffix = false,\n            th = thresholds,\n            locale,\n            output;\n\n        if (typeof argWithSuffix === 'object') {\n            argThresholds = argWithSuffix;\n            argWithSuffix = false;\n        }\n        if (typeof argWithSuffix === 'boolean') {\n            withSuffix = argWithSuffix;\n        }\n        if (typeof argThresholds === 'object') {\n            th = Object.assign({}, thresholds, argThresholds);\n            if (argThresholds.s != null && argThresholds.ss == null) {\n                th.ss = argThresholds.s - 1;\n            }\n        }\n\n        locale = this.localeData();\n        output = relativeTime$1(this, !withSuffix, th, locale);\n\n        if (withSuffix) {\n            output = locale.pastFuture(+this, output);\n        }\n\n        return locale.postformat(output);\n    }\n\n    var abs$1 = Math.abs;\n\n    function sign(x) {\n        return (x > 0) - (x < 0) || +x;\n    }\n\n    function toISOString$1() {\n        // for ISO strings we do not use the normal bubbling rules:\n        //  * milliseconds bubble up until they become hours\n        //  * days do not bubble at all\n        //  * months bubble up until they become years\n        // This is because there is no context-free conversion between hours and days\n        // (think of clock changes)\n        // and also not between days and months (28-31 days per month)\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var seconds = abs$1(this._milliseconds) / 1000,\n            days = abs$1(this._days),\n            months = abs$1(this._months),\n            minutes,\n            hours,\n            years,\n            s,\n            total = this.asSeconds(),\n            totalSign,\n            ymSign,\n            daysSign,\n            hmsSign;\n\n        if (!total) {\n            // this is the same as C#'s (Noda) and python (isodate)...\n            // but not other JS (goog.date)\n            return 'P0D';\n        }\n\n        // 3600 seconds -> 60 minutes -> 1 hour\n        minutes = absFloor(seconds / 60);\n        hours = absFloor(minutes / 60);\n        seconds %= 60;\n        minutes %= 60;\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n        s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\n\n        totalSign = total < 0 ? '-' : '';\n        ymSign = sign(this._months) !== sign(total) ? '-' : '';\n        daysSign = sign(this._days) !== sign(total) ? '-' : '';\n        hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\n\n        return (\n            totalSign +\n            'P' +\n            (years ? ymSign + years + 'Y' : '') +\n            (months ? ymSign + months + 'M' : '') +\n            (days ? daysSign + days + 'D' : '') +\n            (hours || minutes || seconds ? 'T' : '') +\n            (hours ? hmsSign + hours + 'H' : '') +\n            (minutes ? hmsSign + minutes + 'M' : '') +\n            (seconds ? hmsSign + s + 'S' : '')\n        );\n    }\n\n    var proto$2 = Duration.prototype;\n\n    proto$2.isValid = isValid$1;\n    proto$2.abs = abs;\n    proto$2.add = add$1;\n    proto$2.subtract = subtract$1;\n    proto$2.as = as;\n    proto$2.asMilliseconds = asMilliseconds;\n    proto$2.asSeconds = asSeconds;\n    proto$2.asMinutes = asMinutes;\n    proto$2.asHours = asHours;\n    proto$2.asDays = asDays;\n    proto$2.asWeeks = asWeeks;\n    proto$2.asMonths = asMonths;\n    proto$2.asQuarters = asQuarters;\n    proto$2.asYears = asYears;\n    proto$2.valueOf = valueOf$1;\n    proto$2._bubble = bubble;\n    proto$2.clone = clone$1;\n    proto$2.get = get$2;\n    proto$2.milliseconds = milliseconds;\n    proto$2.seconds = seconds;\n    proto$2.minutes = minutes;\n    proto$2.hours = hours;\n    proto$2.days = days;\n    proto$2.weeks = weeks;\n    proto$2.months = months;\n    proto$2.years = years;\n    proto$2.humanize = humanize;\n    proto$2.toISOString = toISOString$1;\n    proto$2.toString = toISOString$1;\n    proto$2.toJSON = toISOString$1;\n    proto$2.locale = locale;\n    proto$2.localeData = localeData;\n\n    proto$2.toIsoString = deprecate(\n        'toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',\n        toISOString$1\n    );\n    proto$2.lang = lang;\n\n    // FORMATTING\n\n    addFormatToken('X', 0, 0, 'unix');\n    addFormatToken('x', 0, 0, 'valueOf');\n\n    // PARSING\n\n    addRegexToken('x', matchSigned);\n    addRegexToken('X', matchTimestamp);\n    addParseToken('X', function (input, array, config) {\n        config._d = new Date(parseFloat(input) * 1000);\n    });\n    addParseToken('x', function (input, array, config) {\n        config._d = new Date(toInt(input));\n    });\n\n    //! moment.js\n\n    hooks.version = '2.29.1';\n\n    setHookCallback(createLocal);\n\n    hooks.fn = proto;\n    hooks.min = min;\n    hooks.max = max;\n    hooks.now = now;\n    hooks.utc = createUTC;\n    hooks.unix = createUnix;\n    hooks.months = listMonths;\n    hooks.isDate = isDate;\n    hooks.locale = getSetGlobalLocale;\n    hooks.invalid = createInvalid;\n    hooks.duration = createDuration;\n    hooks.isMoment = isMoment;\n    hooks.weekdays = listWeekdays;\n    hooks.parseZone = createInZone;\n    hooks.localeData = getLocale;\n    hooks.isDuration = isDuration;\n    hooks.monthsShort = listMonthsShort;\n    hooks.weekdaysMin = listWeekdaysMin;\n    hooks.defineLocale = defineLocale;\n    hooks.updateLocale = updateLocale;\n    hooks.locales = listLocales;\n    hooks.weekdaysShort = listWeekdaysShort;\n    hooks.normalizeUnits = normalizeUnits;\n    hooks.relativeTimeRounding = getSetRelativeTimeRounding;\n    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\n    hooks.calendarFormat = getCalendarFormat;\n    hooks.prototype = proto;\n\n    // currently HTML5 input type only supports 24-hour formats\n    hooks.HTML5_FMT = {\n        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm', // <input type=\"datetime-local\" />\n        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss', // <input type=\"datetime-local\" step=\"1\" />\n        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS', // <input type=\"datetime-local\" step=\"0.001\" />\n        DATE: 'YYYY-MM-DD', // <input type=\"date\" />\n        TIME: 'HH:mm', // <input type=\"time\" />\n        TIME_SECONDS: 'HH:mm:ss', // <input type=\"time\" step=\"1\" />\n        TIME_MS: 'HH:mm:ss.SSS', // <input type=\"time\" step=\"0.001\" />\n        WEEK: 'GGGG-[W]WW', // <input type=\"week\" />\n        MONTH: 'YYYY-MM', // <input type=\"month\" />\n    };\n\n    return hooks;\n\n})));\n","import { writable } from 'svelte/store';\n\nfunction createModalStore() {\n\tconst { subscribe, update } = writable({\n        \n    });\n\n\treturn {\n\t\tsubscribe,\n        open: (component, props={}, cb) => {\n            update(u => ({component, props, cb}))\n        },\n        close: () => {\n            update(u => ({}))\n        }\n\t};\n}\n\nexport default createModalStore();","import {RESTClient} from '../utils/rest';\nimport { writable } from 'svelte/store';\nimport {User} from './user';\nimport Modal from '../utils/modal';\nimport InviteModal from '../components/modal/InviteModal.svelte'\n\nexport const TeamStore = writable({\n    name: '',\n    code: ''\n});\n\nlet instance;\nexport class Team extends RESTClient{\n    \n    async createTeam(team){\n        let teamItem = await this.post('team', team);\n        if(teamItem && !teamItem.error){\n            TeamStore.update(u => ({...u, ...teamItem}));\n            //this.getTeam();\n            window.location.href = '/dashboard/team';\n        }\n        return teamItem;\n    }\n\n    async requestToJoin(code){\n        let team = await this.post('team/join-request', {code});\n        TeamStore.update(u => ({...u, ...team}));\n        return team;\n    }\n\n    async sendInvite(emails){\n        return this.post('team/invite', {emails});\n    }\n\n    async cancelRequest(){\n        let res = await this.delete('team/request');\n        await this.getTeam();\n        return res;\n    }\n\n    async leaveTeam(){\n        let res = await this.delete('team/leave');\n        await this.getTeam();\n        return res;\n    }\n\n    async kickPlayer(id){\n        let res = await this.delete('team/kick/'+id);\n        await this.getTeam();\n        return res;\n    }\n    async makeLeader(id){\n        let res = await this.post('team/make-leader/'+id);\n        await this.getTeam();\n        return res;\n    }\n\n    async deleteTeam(){\n        let res = await this.delete('team');\n        await this.getTeam();\n        return res;\n    }\n\n    async showTeam(){\n        let res = await this.post('team/public', {show: true});\n        await this.getTeam();\n        return res;\n    }\n\n    async hideTeam(){\n        let res = await this.post('team/public', {show: false});\n        await this.getTeam();\n        return res;\n    }\n\n    async getRequests(){\n        await this.getTeam();\n        return this.get('team/requests');\n    }\n\n    async approveRequest(request){\n        return this.get(`team/request/${request.id}/approve`);\n    }\n\n    async rejectRequest(request){\n        return this.get(`team/request/${request.id}/reject`);\n    }\n\n    async getStats(){\n        return this.get('team/stats');\n    }\n    async downloadMatch(match){\n        return this.get(`team/download-match/${match}`);\n    }\n    \n    async export(){\n        return this.get('team/export');\n    }\n\n    async getTeam(){\n        let team  = await this.get('my-team');\n        if(team)\n        TeamStore.update(u => ({...u, ...team}));\n        TeamStore.update(t => ({...t, loaded: true}));\n        return team;\n    }\n\n    async getPendingTeams(query='', page=0){\n        return this.get('teams?query='+query+'&page='+page);\n    }\n\n    static getInstance(){\n        if(!instance){\n            instance = new Team();\n            instance.getTeam();\n        }\n        return instance;\n    }\n\n    static restTeam(){\n        TeamStore.update(u => ({\n            name: '',\n            code: ''\n        }));\n    }\n\n}","//const baseURL = 'http://localhost:3000/';\nconst baseURL = '';\n// const baseURL = 'https://api.snapdragonconquest.com/';\n//const baseURL = 'https://api.conquestesports.in/';\n\nimport Toast from './toast';\nimport { saveAs } from 'file-saver';\nimport moment from 'moment';\nexport class RESTClient{\n    async get(url){\n        let result = await fetch(baseURL+url, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                ...this.auth()\n            }\n        })\n        if(result.headers.get('content-type').indexOf('application/json') == 0){\n            result = await result.json();\n            if(!result.error) {\n                return result;\n            }else{\n                Toast.error(result.error);\n            }\n        }else{\n            // result = await result.blob();\n            // saveAs(result, moment().format('YYYY-MM-DD-HH-mm')+'.xlsx');\n            // return true;\n        }\n    }\n\n    async post(url, data){\n        let result = await fetch(baseURL+url, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                ...this.auth()\n            },\n            body: JSON.stringify(data)\n        })\n        result = await result.json();\n        if(!result.error) {\n            return result;\n        }else{\n            if(Array.isArray(result.error))\n            return result;\n            else\n            Toast.error(result.error);\n        }\n    }\n\n    async delete(url){\n        let result = await fetch(baseURL+url, {\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json',\n                ...this.auth()\n            }\n        })\n        result = await result.json();\n        if(!result.error) {\n            return result;\n        }else{\n            if(Array.isArray(result.error))\n            return result;\n            else\n            Toast.error(result.error);\n        }\n    }\n\n    auth(){\n        if(window.localStorage.getItem('token')){\n            return {\n                'Authorization': 'Bearer '+window.localStorage.getItem('token')\n            }\n        }else if(this.authToken){\n            return {\n                'Authorization': 'Bearer '+this.authToken\n            }\n        }else\n        return {};\n    }\n}","import {RESTClient} from '../utils/rest';\nimport { writable, readable } from 'svelte/store';\nimport {Team} from './team';\nconst userInit = {\n    first_name: \"\",\n    last_name: \"\",\n    dob: \"\",\n    mobile: \"\",\n    free_fire_id: \"\",\n    loggedOut: true,\n    role: ''\n};\nconst teamStore = Team.getInstance();\nfunction createUserStore() {\n\tconst { subscribe, update, set } = writable(window.localStorage.getItem('user') ? JSON.parse(atob(window.localStorage.getItem('user'))) : {...userInit});\n\n\treturn {\n        subscribe,\n        set,\n\t\tsave: user => {\n            if(user.token)\n            window.localStorage.setItem('token', user.token);\n            window.localStorage.setItem('user', btoa(JSON.stringify(user)));\n            update(u => user);\n        },\n        logout: () => {\n            window.localStorage.removeItem('user');\n            window.localStorage.removeItem('token');\n            update(u => ({...userInit}))\n            Team.restTeam();\n        }\n\t};\n}\n\nexport const UserStore = createUserStore();\nlet instance;\nexport class User extends RESTClient{\n    async getOTP(email){\n        return this.post('otp', {email})\n    }\n\n    async getToken(email, otp){\n        let data = await this.post('token', {email, otp});\n        if(data){\n            if(data.emailtoken){\n                super.authToken = data.emailtoken;\n                return { register: true};\n            }else{\n                if(window.localStorage.getItem('referral'))\n                window.localStorage.removeItem('referral');\n                UserStore.save(data);\n                if(window.localStorage.getItem('enterContest') && !data.contest){\n                    let res = await User.getInstance().enterContest();\n                    if(!res.error){\n                        window.localStorage.removeItem('enterContest')\n                        window.localStorage.setItem('firstLogin', true)\n                        UserStore.save(res)\n                    }\n                }else{\n                    window.localStorage.removeItem('enterContest')\n                }\n                teamStore.getTeam();\n                //window.localStorage.setItem('token', data.token);\n                //window.localStorage.setItem('user', btoa(JSON.stringify(data)));\n            }\n        }\n        return data;\n    }\n\n    async register(user){\n        let usr = {...user};\n        if(window.localStorage.getItem('referral')){\n            usr.referral = parseInt(window.localStorage.getItem('referral'));\n        }\n        let result = await this.post('register', usr);\n        if(result.token){\n            UserStore.save(result);\n            window.localStorage.removeItem('referral');\n            //window.localStorage.setItem('token', result.token);\n            //window.localStorage.setItem('user', btoa(JSON.stringify(result)));\n        }\n        return result;\n    }\n\n    async update(user){\n        let result = await this.post('user/update', user);\n        if(!result.error){\n            UserStore.save(result);\n            //window.localStorage.setItem('user', btoa(JSON.stringify(result)))\n        }\n        return result;\n    }\n\n    async enterContest(){\n        let result = await this.post('user/contest');\n        if(!result.error){\n            UserStore.save(result);\n            return true;\n        }else{\n            console.log(\"Failed to update\");\n        }\n    }\n\n    static getInstance(){\n        if(!instance){\n            instance = new User();\n        }\n        return instance;\n    }\n\n    static getUser(){\n        return UserStore;\n    }\n\n    static logout(){\n        UserStore.logout();\n    }\n\n}","<script>\n\texport let menuMobile = false;\n\texport let menuDropdown = false;\n\timport {User} from '../../models/user';\n\timport UserMenu from './header/UserMenu.svelte';\n\timport { scrollto } from \"svelte-scrollto\";\n\tlet user = User.getUser();\n</script>\n<svelte:head>\n\t{#if menuMobile}\n\t\t<style>\n\t\t\tbody {\n\t\t\t\toverflow: hidden;\n\t\t\t}\n\t\t</style>\n\t{/if}\n</svelte:head>\n<header>\n\t<div class=\"row no-gutters\">\n\t\t<button class=\"menu-btn\" class:open=\"{menuMobile}\" on:click={()=>{ menuMobile = !menuMobile; return false; }}>\n\t\t\t<svg width=32 height=24>\n\t\t\t\t<line id=\"top\" x1=0 y1=2  x2=32 y2=2/>\n\t\t\t\t<line id=\"middle\" x1=0 y1=12 x2=32 y2=12/>\n\t\t\t\t<line id=\"bottom\" x1=0 y1=22 x2=32 y2=22/>\n\t\t\t</svg>\n\t\t</button>\n\t\t<!-- <div class=\"col-lg-2 col-sm-12 col-xs-11\">\n\t\t\t<a href=\"/\" class=\"brand-logo\">\n\t\t\t\t<img src=\"/images/logo-conquest-small.png\" alt=\"Logo\">\n\t\t\t</a>\n\t\t</div> -->\n\t\t<div class=\"col-lg-12 col-sm-12 col-xs-12 menu-sec\">\n\t\t\t<a href=\"/\" class=\"brand-logo\">\n\t\t\t\t<img src=\"/images/logo-conquest-small.png\" alt=\"Logo\">\n\t\t\t</a>\n\t\t\t<div class=\"menu-block\" class:menuopen=\"{menuMobile}\">\n\t\t\t\t<ul class=\"menu\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"/\">\n\t\t\t\t\t\t\tHome\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<!-- <li>\n\t\t\t\t\t\t<a href=\"/format\">\n\t\t\t\t\t\t\tFormat\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"/schedule\">\n\t\t\t\t\t\t\tSchedule\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"/leaderboard\">\n\t\t\t\t\t\t\tLeaderboard\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li> -->\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"/videos\">\n\t\t\t\t\t\t\tVideos\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<!-- <li>\n\t\t\t\t\t\t<a href=\"#\">\n\t\t\t\t\t\t\tContests\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li> -->\n\t\t\t\t\t<!-- <li>\n\t\t\t\t\t\t<a href=\"/faqs\" target=\"_top\">\n\t\t\t\t\t\t\tFAQs\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li> -->\n\t\t\t\t\t<!-- <li>\n\t\t\t\t\t\t<a href=\"/vote\" > Vote </a>\n\t\t\t\t\t</li> -->\n\t\t\t\t</ul>\n\t\t\t\t<!-- <div class=\"profile-icon enable-in-mobile enable-mobile-menu\" style=\"opacity: 0\">\n\t\t\t\t\t{#if menuMobile}\n\t\t\t\t\t\t{#if !$user.loggedOut}\n\t\t\t\t\t\t\t<a href=\"/\" class=\"profile-btn\" on:click={e => {\n\t\t\t\t\t\t\t\tUser.logout();\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<span class=\"material-icons\">\n\t\t\t\t\t\t\t\t\tperson\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<a href=\"/\" class=\"profile-btn\">\n\t\t\t\t\t\t\t\t<strong class=\"mr-2 ml-0\">\n\t\t\t\t\t\t\t\t\tSign in\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t<span class=\"material-icons\">\n\t\t\t\t\t\t\t\t\tperson\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t{:else}\n\t\t\t\t\t<a href=\"#\" class=\"profile-btn\" class:active={!$user.loggedOut} on:click={()=>{ menuDropdown = !menuDropdown; return false; }}>\n\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t{#if !$user.loggedOut}\n\t\t\t\t\t\t\tHi, {$user.first_name} {$user.last_name}\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\tSign in\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<span class=\"material-icons\">\n\t\t\t\t\t\t\tperson\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</a>\n\t\t\t\t\t{/if}\n\t\t\t\t\t\n\t\t\t\t</div> -->\n\t\t\t</div>\n\t\t\t<!-- <div class=\"profile-icon\" style=\"opacity: 0\">\n\t\t\t\t{#if menuMobile}\n\t\t\t\t\t{#if !$user.loggedOut}\n\t\t\t\t\t\t<a href=\"/\" class=\"profile-btn\" on:click={e => {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tUser.logout();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<span class=\"material-icons\">\n\t\t\t\t\t\t\t\tperson\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<a href=\"/\" class=\"profile-btn\">\n\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\tSign in\n\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t<span class=\"material-icons\">\n\t\t\t\t\t\t\t\tperson\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t{/if}\n\t\t\t\t{:else}\n\t\t\t\t<a href=\"#\" class=\"profile-btn\" class:active={!$user.loggedOut} on:click={()=>{ menuDropdown = !menuDropdown; return false; }}>\n\t\t\t\t\t<strong>\n\t\t\t\t\t\t{#if !$user.loggedOut}\n\t\t\t\t\t\tHi, {$user.first_name} {$user.last_name}\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\tSign in\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</strong>\n\t\t\t\t\t<span class=\"material-icons\">\n\t\t\t\t\t\tperson\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\t\t\t\t{/if}\n\t\t\t\t{#if menuDropdown}\n\t\t\t\t\t{#if $user.loggedOut}\n\t\t\t\t\t\t<div class=\"menu-dropdown\">\n\t\t\t\t\t\t\t <ul>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a href=\"/\" class=\"\">\n\t\t\t\t\t\t\t\t\t\tLog in\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul> \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<div class=\"menu-dropdown\">\n\t\t\t\t\t\t\t <ul>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a href=\"/\" on:click={e => {\n\t\t\t\t\t\t\t\t\t\t\tUser.logout();\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul> \n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t\t<UserMenu onClose={() => { menuDropdown = false }}/>\n\t\t\t\t{/if}\n\t\t\t</div> -->\n\t\t</div>\n\t\t\n\t</div>\n</header>\n\n<style>\n</style>","<div class=\"footer-info\">\n\t<div class=\"container\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-lg-6 col-sm-6 col-xs-12\">\n\t\t\t\t<div class=\"footer-logo\">\n\t\t\t\t\t<img src=\"/images/logo.png\" alt=\"Logo\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"col-lg-6 col-sm-6 col-xs-12\">\n\t\t\t\t<ul class=\"social-icons\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"https://www.facebook.com/snapdragonconquest/\" target=\"_blank\">\n\t\t\t\t\t\t<img src=\"/images/facebook.png\" alt=\"facebook\">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"https://www.instagram.com/snapdragonconquest/\" target=\"_blank\">\n\t\t\t\t\t\t <img src=\"/images/instagram.png\" alt=\"instagram\">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"https://mobile.twitter.com/_ConquestEsport\" target=\"_blank\">\n\t\t\t\t\t\t<img src=\"/images/ic-twitter.png\" alt=\"twitter\">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"https://www.youtube.com/channel/UCqfsjVyKK2_ajIgG_HqR36w\" target=\"_blank\">\n\t\t\t\t\t\t<img src=\"/images/youtube.png\" alt=\"youtube\">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-lg-6 col-sm-6 col-xs-12\">\n\t\t\t\t<ul class=\"footer-menu\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"https://www.qualcomm.com/company/about\" target=\"_blank\">\n\t\t\t\t\t\t\tAbout Qualcomm\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<!-- <li>\n\t\t\t\t\t\t<a href=\"/rulebook.pdf\" target=\"_blank\">\n\t\t\t\t\t\t\tRulebook\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"/ContestTCs.pdf\" target=\"_blank\">\n\t\t\t\t\t\t\tContest T&Cs\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"/faqs\" target=\"_top\">\n\t\t\t\t\t\t\tFAQ’s\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li> -->\n\t\t\t\t\t<!-- <li>\n\t\t\t\t\t\t<a href=\"/faqs\" target=\"_top\">\n\t\t\t\t\t\t\tSupport\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li> -->\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class=\"col-lg-6 col-sm-6 col-xs-12\">\n\t\t\t\t<ul class=\"footer-privacy\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"https://www.qualcomm.com/site/terms-of-use\" target=\"_blank\">\n\t\t\t\t\t\t\tTerms of Use\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"https://www.qualcomm.com/site/privacy\" target=\"_blank\">\n\t\t\t\t\t\t\tPrivacy\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"https://www.qualcomm.com/site/cookies\" target=\"_blank\">\n\t\t\t\t\t\t\tCookies\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col\">\n\t\t\t\t<div class=\"ref-text\">\n\t\t\t\t\t<p>©2021 Qualcomm Technologies, Inc. and/or its affiliated companies.</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tThe Qualcomm Snapdragon Conquest tournament is sponsored by Qualcomm Technologies, Inc. and/or its subsidiaries. Snapdragon is a product of Qualcomm Technologies, Inc. and or its subsidiaries\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>References to \"Qualcomm\" may mean Qualcomm Incorporated, or subsidiaries or business units within the Qualcomm corporate structure, as applicable.</p>\n\t\t\t\t\t<p>Qualcomm Incorporated includes Qualcomm's licensing business, QTL, and the vast majority of its patent portfolio. Qualcomm Technologies, Inc., a wholly-owned subsidiary of Qualcomm Incorporated, operates, along with its subsidiaries, substantially all of Qualcomm's engineering, research and development functions, and substantially all of its products and services businesses. Qualcomm products referenced on this page are products of Qualcomm Technologies, Inc. and/or its subsidiaries.</p>\n\t\t\t\t\t<p>Materials that are as of a specific date, including but not limited to press releases, presentations, blog posts and webcasts, may have been superseded by subsequent events or disclosures.</p>\n\t\t\t\t\t<p>Nothing in these materials is an offer to sell any of the components or devices referenced herein.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col\">\n\t\t\t\t<div class=\"logo-te\">\n\t\t\t\t\t<p><a href=\"https://www.tesseractesports.com\" target=\"_blank\">Executed by \n\t\t\t\t\t\t<img src=\"images/logo-te.png\" alt=\"logo-tesseract\">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n\n<style>\n\n</style>","<script>\n    export let url;\n    export let thumb;\n    export let classes='';\n    export let video;\n\n    let isLive = false;\n    if(video){\n        url = video.url;\n        thumb = `https://snapdragonconquest.com/uploads/originals/${video.filename_disk}`;\n        isLive = video.live == 1;\n    }\n</script>\n<div class=\"video-thumb {classes}\">\n    {#if isLive}\n        <button class=\"btn btn-danger btn-sm live-btn\"> Live now </button>\n    {/if}\n    <div class=\"video-thumbnail\">\n        <a href={url} target=\"_blank\">\n            <!-- <div class=\"shadow-layer\"></div> -->\n            <img src={thumb} alt=\"video\" />\n            <span href=\"#\" class=\"play-btn\">\n                <span class=\"material-icons\"> play_arrow </span>\n            </span>\n            <!-- <div class=\"video-info\">\n                <h6>\n                    Qualcomm Snapdragon® Conquest Season 1\n                    Playoffs Day 3. Hindi\n                </h6>\n                <span class=\"date-txt\"> 12 October 2020. 00:57 sec </span>\n            </div> -->\n        </a>\n    </div>\n</div>\n<style>\n    .play-btn{\n        box-shadow: 0 0 10px 4px rgba(0, 0, 0, 0.5);\n    }\n\n    @media only screen and (max-width: 1200px) and (min-width: 300px){\n        .video-thumb.small {\n            width: 290px !important;\n            height: 170px !important;\n        }\n    }\n</style>","<script>\n\n</script>\n\n<div class=\"insider-container\">\n    <div class=\"top-section\">\n        <div class=\"video-sec\">\n            <!-- svelte-ignore a11y-media-has-caption -->\n            <video width=\"100%\" height=\"100%\" playsinline autoplay loop muted class=\"video-mobile-none insider-pc-video\">\n                <source src=\"https://www.qualcomm.com/sites/ember/files/bg-videos/mp4/snapdragon-insiders-graphic-animation-v2_0.mp4\" type=\"video/mp4\">\n                Your browser does not support the video tag.\n            </video>\n            <video height=\"100%\" autoplay playsinline loop muted class=\"video-pc-none insider-mobile-video\">\n                <source src=\"https://www.qualcomm.com/sites/ember/files/bg-videos/mp4/snapdragon-insiders-graphic-animation-550.mp4\" type=\"video/mp4\">\n                Your browser does not support the video tag.\n            </video>\n        </div>\n        <div class=\"insider-content\">\n            <div class=\"container\">\n                <div class=\"row\">\n                    <div class=\"col\">\n                        <div class=\"insider-main-section\">\n                            <img src=\"images/qc_x5f_sd_x5f_5g_x5f_badge-cmyk-flat_2_.png\" alt=\"home-logo\">\n                            <h1>Mobile Gamers like you deserve to be a Snapdragon Insider</h1>\n                            <!-- <p>\n                                Snapdragon Insiders will get behind-the-scenes access, premium experiences and extra perks that only the Snapdragon Insiders program can deliver. Join our community to get the inside track and help us shape the future of Snapdragon.\n                            <p> -->\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n        </div>\n    </div>\n    <div class=\"insider-bottom-section\">\n        <div class=\"\">\n            <div class=\"container insider-bottom\">\n                <div class=\"row\">\n                    <div class=\"col-md-6 col-sm-12 col-xs-12\">\n                        <p>Sign up for exclusive Snapdragon Insiders emails.</p>\n                        <div class=\"insider-btn\">\n                            <a href=\"https://assets.qualcomm.com/snapdragon-insiders-sign-up.html\" target=\"_blank\" class=\"sign-up-insider-btn\">Sign up</a>\n                        </div>\n                    </div>\n                    <div class=\"col-md-6 col-sm-12 col-xs-12\">\n                        <p>Join the Snapdragon Insiders community.</p>\n                        <section class=\"social-links-top\">\n                            <div class=\"container text-center\">\n                                <ul>\n                                    <li>\n                                        <a href=\"https://www.reddit.com/r/snapdragon/\" target=\"_blank\">\n                                            <img src=\"images/reddit.png\" alt=\"reddit\">\n                                        </a>\n                                    </li>\n                                    <li>\n                                        <a href=\"https://twitter.com/Snapdragon\" target=\"_blank\">\n                                            <img src=\"images/twitter-insider.png\" alt=\"twitter\">\n                                        </a>\n                                    </li>\n                                    <li>\n                                        <a href=\"https://www.instagram.com/snapdragoninsiders/\" target=\"_blank\">\n                                            <img src=\"images/insta-insider.png\" alt=\"insta\">\n                                        </a>\n                                    </li>\n                                    <li>\n                                        <a href=\"https://www.youtube.com/snapdragon\" target=\"_blank\">\n                                            <img src=\"images/youtube-insider.png\" alt=\"Youtube\">\n                                        </a>\n                                    </li>\n                                </ul>\n                            </div>\n                        </section>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","<script>\n\timport Format from '../layouts/partials/Format.svelte';\n\timport {User} from '../models/user';\n\timport Video from '../components/Video.svelte';\n\timport Vote from '../pages/vote.svelte'\n\timport Insider from '../layouts/partials/Insider.svelte';\n\tconst user = User.getUser();\n\n\tconst urlParams = new URLSearchParams(window.location.search);\n\tif(urlParams.get('r') != null){\n\t\twindow.localStorage.setItem('referral', urlParams.get('r'));\n\t}\n</script>\n<section class=\"main-section\">\n\t<div class=\"container-fluid\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-lg-5 col-sm-5 col-xs-12\">\n\t\t\t\t<!-- <div class=\"game-pic\"></div> -->\n\t\t\t\t<div class=\"content-wrapper s2-title-section\">\n\t\t\t\t\t<div class=\"qual-banner-logo\">\n\t\t\t\t\t\t<img src=\"images/home-logo.png\" alt=\"home-logo\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"free-fire-block\">\n\t\t\t\t\t\t<div class=\"winnig-price\">\n\t\t\t\t\t\t\t<div class=\"winner-label pt-3\">\n\t\t\t\t\t\t\t\tSEASON 2\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"price-txt\">\n\t\t\t\t\t\t\t\tCOMING SOON\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div class=\"banner-bttom mt-40\">\n\t\t\t\t\t\t<a href=\"#\" class=\"btn btn-primary register-btn watch-finals-btn\">\n\t\t\t\t\t\t\tWatch Trailer\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"free-fire-logo\">\n\t\t\t\t\t\t<img src=\"images/logos-sponsor.png\" alt=\"FreeFire-Logo\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- <div class=\"game-pic game-pic-right\"></div> -->\n\t\t\t</div>\n\t\t\t<div class=\"col-lg-7 col-sm-7 col-xs-12 p-0\">\n\t\t\t\t<div class=\"hero-image\">\n\t\t\t\t\t<img src=\"images/hero-charector.png\" alt=\"home-logo\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</section>\n<!-- <section class=\"social-links-top\">\n\t<div class=\"container text-center\">\n\t\t<h6>Follow us on</h6>\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t<a href=\"https://www.facebook.com/snapdragonconquest/\" target=\"_blank\">\n\t\t\t\t\t<img src=\"images/ic-facebook.png\" alt=\"Facebook\">\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a href=\"https://www.instagram.com/snapdragonconquest/\" target=\"_blank\">\n\t\t\t\t\t<img src=\"images/ic-instagram.png\" alt=\"Instagram\">\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a href=\"https://mobile.twitter.com/_ConquestEsport\" target=\"_blank\">\n\t\t\t\t\t<img src=\"images/twitter.png\" alt=\"Twitter\">\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a href=\"https://youtube.com/channel/UCqfsjVyKK2_ajIgG_HqR36w\" target=\"_blank\">\n\t\t\t\t\t<img src=\"images/ic-youtube.png\" alt=\"Youtube\">\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</section> -->\n<!-- voting  section -->\n<Insider />\n<!-- voting section -->\n\n<style>\n\t.winnig-price {\n\t\tposition: relative;\n\t\tpadding-bottom: 1em;\n\t}\n\n\t.winnig-price:before, .winnig-price::after  {\n\t\t    content: \"\";\n\t\t\tposition: absolute;\n\t\t\theight: 1px;\n\t\t\twidth: 20%;\n\t\t\tborder-bottom: 1px solid #cecece;\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t\ttop: 0;\n\t\t}\n\n\t\t.winnig-price::after {\n\t\t\tbottom: 0;\n\t\t\ttop: 100%;\n\t\t}\n</style>","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","var n,l,u,i,t,o,r,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function h(n){var l=n.parentNode;l&&l.removeChild(n)}function v(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return y(l,f,t,o,null)}function y(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null!=l.vnode&&l.vnode(f),f}function p(){return{current:null}}function d(n){return n.children}function _(n,l){this.props=n,this.context=l}function k(n,l){if(null==l)return n.__?k(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?k(n):null}function b(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return b(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=a({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?k(t):o,t.__h),z(u,t),t.__e!=o&&b(t)))})}function w(n,l,u,i,t,o,r,f,s,a){var h,v,p,_,b,m,g,w=i&&i.__k||c,A=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||\"boolean\"==typeof _?null:\"string\"==typeof _||\"number\"==typeof _||\"bigint\"==typeof _?y(null,_,null,null,_):Array.isArray(_)?y(d,{children:_},null,null,null):_.__b>0?y(_.type,_.props,_.key,null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(p=w[h])||p&&_.key==p.key&&_.type===p.type)w[h]=void 0;else for(v=0;v<A;v++){if((p=w[v])&&_.key==p.key&&_.type===p.type){w[v]=void 0;break}p=null}j(n,_,p=p||e,t,o,r,f,s,a),b=_.__e,(v=_.ref)&&p.ref!=v&&(g||(g=[]),p.ref&&g.push(p.ref,null,_),g.push(v,_.__c||b,_)),null!=b?(null==m&&(m=b),\"function\"==typeof _.type&&null!=_.__k&&_.__k===p.__k?_.__d=s=x(_,s,n):s=P(n,_,p,w,b,s),a||\"option\"!==u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&p.__e==s&&s.parentNode!=n&&(s=k(p))}for(u.__e=m,h=A;h--;)null!=w[h]&&(\"function\"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=k(i,h+1)),N(w[h],w[h]));if(g)for(h=0;h<g.length;h++)M(g[h],g[++h],g[++h])}function x(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l=\"function\"==typeof t.type?x(t,l,u):P(u,t,t,n.__k,t.__e,l));return l}function A(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){A(n,l)}):l.push(n)),l}function P(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||s.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var s,h,v,y,p,k,b,m,g,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof P){if(m=u.props,g=(s=P.contextType)&&t[s.__c],x=s?g?g.props.value:s.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in P&&P.prototype.render?u.__c=h=new P(m,x):(u.__c=h=new _(m,x),h.constructor=P,h.render=O),g&&g.sub(h),h.props=m,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=P.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=a({},h.__s)),a(h.__s,P.getDerivedStateFromProps(m,h.__s))),y=h.props,p=h.state,v)null==P.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==P.getDerivedStateFromProps&&m!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,x)||u.__v===i.__v){h.props=m,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,p,k)})}h.context=x,h.props=m,h.state=h.__s,(s=l.__r)&&s(u),h.__d=!1,h.__v=u,h.__P=n,s=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(t=a(a({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,p)),A=null!=s&&s.type===d&&null==s.key?s.props.children:s,w(n,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,f,c){var s,a,v,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(o=!0),null!=r)for(;_<r.length;_++)if((s=r[_])&&(s===l||(d?s.localName==d:3==s.nodeType))){l=s,r[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),a=(y=i.props||e).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(v||a)&&(v&&(a&&v.__html==a.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(_=u.props.children,w(l,Array.isArray(_)?_:[_],u,i,t,o&&\"foreignObject\"!==d,r,f,r?r[0]:i.__k&&k(i,0),c),null!=r)for(_=r.length;_--;)null!=r[_]&&h(r[_]);c||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_)&&H(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&H(l,\"checked\",_,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,\"function\"!=typeof n.type);i||null==n.__e||h(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function S(u,i,t){var o,r,f;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],j(i,u=(!o&&t||i).__k=v(d,null,[u]),r||e,e,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,f,!o&&t?t:r?r.__e:i.firstChild,o),z(f,u)}function q(n,l){S(n,l,q)}function B(l,u,i){var t,o,r,f=a({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),y(l.type,f,t||l.key,o||l.ref,null)}function D(n,l){var u={__c:l=\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(m)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=c.slice,l={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},_.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(a({},u),this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),m(this))},_.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},_.prototype.render=d,t=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,f=0;export{S as render,q as hydrate,v as createElement,v as h,d as Fragment,p as createRef,i as isValidElement,_ as Component,B as cloneElement,D as createContext,A as toChildArray,l as options};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__b,f=n.__r,e=n.diffed,a=n.__c,v=n.unmount;function m(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function l(n){return o=1,p(w,n)}function p(n,r,o){var i=m(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):w(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(r,o){var i=m(t++,3);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function h(r,o){var i=m(t++,4);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function s(n){return o=5,d(function(){return{current:n}},[])}function _(n,t,u){o=6,h(function(){\"function\"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))}function d(n,u){var r=m(t++,7);return k(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function A(n,t){return o=8,d(function(){return n},t)}function F(n){var r=u.context[n.__c],o=m(t++,9);return o.c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function T(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function q(n){var r=m(t++,10),o=l();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function x(){i.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(g),t.__H.__h.forEach(j),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}),i=[]}n.__b=function(n){u=null,c&&c(n)},n.__r=function(n){f&&f(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j),r.__h=[])},n.diffed=function(t){e&&e(t);var o=t.__c;o&&o.__H&&o.__H.__h.length&&(1!==i.push(o)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u))})(x)),u=void 0},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(g),t.__h=t.__h.filter(function(n){return!n.__||j(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),a&&a(t,u)},n.unmount=function(t){v&&v(t);var u=t.__c;if(u&&u.__H)try{u.__H.__.forEach(g)}catch(t){n.__e(t,u.__v)}};var b=\"function\"==typeof requestAnimationFrame;function g(n){var t=u;\"function\"==typeof n.__c&&n.__c(),u=t}function j(n){var t=u;n.__c=n.__(),u=t}function k(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function w(n,t){return\"function\"==typeof t?t(n):t}export{l as useState,p as useReducer,y as useEffect,h as useLayoutEffect,s as useRef,_ as useImperativeHandle,d as useMemo,A as useCallback,F as useContext,T as useDebugValue,q as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","import{useState as n,useReducer as t,useEffect as e,useLayoutEffect as r,useRef as u,useImperativeHandle as o,useMemo as i,useCallback as l,useContext as f,useDebugValue as c}from\"preact/hooks\";export*from\"preact/hooks\";import{Component as a,createElement as s,options as h,toChildArray as v,Fragment as d,render as p,hydrate as m,cloneElement as y,createRef as b,createContext as _}from\"preact\";export{createElement,createContext,createRef,Fragment,Component}from\"preact\";function S(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function g(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:C(this.props,n)}function r(t){return this.shouldComponentUpdate=e,s(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(E.prototype=new a).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var w=h.__b;h.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function x(n){function t(t,e){var r=S({},t);return delete r.ref,n(r,(e=t.ref||e)&&(\"object\"!=typeof e||\"current\"in e)?e:null)}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var N=function(n,t){return null==n?null:v(v(n).map(t))},k={map:N,forEach:N,count:function(n){return n?v(n).length:0},only:function(n){var t=v(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:v},A=h.__e;h.__e=function(n,t,e){if(n.then)for(var r,u=t;u=u.__;)if((r=u.__c)&&r.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),r.__c(n,t);A(n,t,e)};var O=h.unmount;function L(){this.__u=0,this.t=null,this.__b=null}function U(n){var t=n.__.__c;return t&&t.__e&&t.__e(n)}function F(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return s(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function M(){this.u=null,this.o=null}h.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n)},(L.prototype=new a).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__e){var n=r.state.__e;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},f=!0===t.__h;r.__u++||f||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(i,i)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),t.__c.__H=null),null!=(t=S({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P)}this.__b=null}var u=t.__e&&s(d,null,n.fallback);return u&&(u.__h=null),[s(d,null,t.__e?null:n.children),u]};var T=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function D(n){return this.getChildContext=function(){return n.context},n.children}function I(n){var t=this,e=n.i;t.componentWillUnmount=function(){p(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),p(s(D,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount()}function W(n,t){return s(I,{__v:n,i:t})}(M.prototype=new a).__e=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),T(t,n,r)):u()};e?e(o):o()}},M.prototype.render=function(n){this.u=null,this.o=new Map;var t=v(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){T(n,e,t)})};var j=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,V=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function z(n,t,e){return null==t.__k&&(t.textContent=\"\"),p(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function B(n,t,e){return m(n,t),\"function\"==typeof e&&e(),n?n.__c:null}a.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(a.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var H=h.event;function Z(){}function Y(){return this.cancelBubble}function $(){return this.defaultPrevented}h.event=function(n){return H&&(n=H(n)),n.persist=Z,n.isPropagationStopped=Y,n.isDefaultPrevented=$,n.nativeEvent=n};var q,G={configurable:!0,get:function(){return this.class}},J=h.vnode;h.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){for(var u in r={},e){var o=e[u];\"value\"===u&&\"defaultValue\"in e&&null==o||(\"defaultValue\"===u&&\"value\"in e&&null==e.value?u=\"value\":\"download\"===u&&!0===o?o=\"\":/ondoubleclick/i.test(u)?u=\"ondblclick\":/^onchange(textarea|input)/i.test(u+t)&&!V(e.type)?u=\"oninput\":/^on(Ani|Tra|Tou|BeforeInp)/.test(u)?u=u.toLowerCase():P.test(u)?u=u.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===o&&(o=void 0),r[u]=o)}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=v(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),\"select\"==t&&null!=r.defaultValue&&(r.value=v(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value})),n.props=r}t&&e.class!=e.className&&(G.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",G)),n.$$typeof=j,J&&J(n)};var K=h.__r;h.__r=function(n){K&&K(n),q=n.__c};var Q={ReactCurrentDispatcher:{current:{readContext:function(n){return q.__n[n.__c].props.value}}}},X=\"17.0.2\";function nn(n){return s.bind(null,n)}function tn(n){return!!n&&n.$$typeof===j}function en(n){return tn(n)?y.apply(null,arguments):n}function rn(n){return!!n.__k&&(p(null,n),!0)}function un(n){return n&&(n.base||1===n.nodeType&&n)||null}var on=function(n,t){return n(t)},ln=function(n,t){return n(t)},fn=d;export default{useState:n,useReducer:t,useEffect:e,useLayoutEffect:r,useRef:u,useImperativeHandle:o,useMemo:i,useCallback:l,useContext:f,useDebugValue:c,version:\"17.0.2\",Children:k,render:z,hydrate:B,unmountComponentAtNode:rn,createPortal:W,createElement:s,createContext:_,createFactory:nn,cloneElement:en,createRef:b,Fragment:d,isValidElement:tn,findDOMNode:un,Component:a,PureComponent:E,memo:g,forwardRef:x,flushSync:ln,unstable_batchedUpdates:on,StrictMode:d,Suspense:L,SuspenseList:M,lazy:F,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Q};export{X as version,k as Children,z as render,B as hydrate,rn as unmountComponentAtNode,W as createPortal,nn as createFactory,en as cloneElement,tn as isValidElement,un as findDOMNode,E as PureComponent,g as memo,x as forwardRef,ln as flushSync,on as unstable_batchedUpdates,fn as StrictMode,L as Suspense,M as SuspenseList,F as lazy,Q as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED};\n//# sourceMappingURL=compat.module.js.map\n","import { __extends } from 'tslib';\nimport * as preact from 'preact';\nimport * as preactCompat from 'preact/compat';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: preact.Component,\n        createElement: preact.createElement,\n        render: preact.render,\n        createRef: preact.createRef,\n        Fragment: preact.Fragment,\n        createContext: createContext,\n        createPortal: preactCompat.createPortal,\n        flushToDom: flushToDom,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushToDom() {\n    var oldDebounceRendering = preact.options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return preact.createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(preact.Component));\nfunction createContext(defaultValue) {\n    var ContextType = preact.createContext(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    preact.render(null, node);\n}\n","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar createPortal = FullCalendarVDom.createPortal;\nvar flushToDom = FullCalendarVDom.flushToDom;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n/* eslint-enable */\n\nexport { Component, Fragment, createContext, createElement, createPortal, createRef, flushToDom, render, unmountComponentAtNode };\n","/*!\nFullCalendar v5.9.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArray, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment, createPortal } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Shadow DOM consuderations\n// ----------------------------------------------------------------------------------------------------------------\nfunction getElRoot(el) {\n    return el.getRootNode ? el.getRootNode() : document;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(// used?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, locale, display) {\n    var parts = [];\n    if (display === 'narrow') {\n        parts.push(weekText);\n    }\n    else if (display === 'short') {\n        parts.push(weekText, ' ');\n    }\n    // otherwise, considered 'numeric'\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isBoolComplexEqual,\n    footerToolbar: isBoolComplexEqual,\n    buttonText: isBoolComplexEqual,\n    buttonIcons: isBoolComplexEqual,\n};\nfunction isBoolComplexEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    var wholeEventStart = eventInstance.range.start;\n    var wholeEventEnd = eventInstance.range.end;\n    var segStart = startOverride || seg.start || seg.eventRange.range.start;\n    var segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    var isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    var isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArray([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.viewsWithButtons);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE, // necessary?\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv$1(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nfunction buildNavLinkData(date, type) {\n    if (type === void 0) { type = 'day'; }\n    return JSON.stringify({\n        date: formatDayString(date),\n        type: type,\n    });\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    var clippingParents = getClippingParents(el);\n    var rect = el.getBoundingClientRect();\n    for (var _i = 0, clippingParents_1 = clippingParents; _i < clippingParents_1.length; _i++) {\n        var clippingParent = clippingParents_1[_i];\n        var intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return (this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]);\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime, scrollTimeReset) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var customContentInfo = this.customContentInfo; // only populated if using non-[p]react node(s)\n        var innerContent = this.getInnerContent();\n        var meta = this.getContentMeta(innerContent);\n        // initial run, or content-type changing? (from vue -> react for example)\n        if (!customContentInfo || customContentInfo.contentKey !== meta.contentKey) {\n            // clearing old value\n            if (customContentInfo) {\n                if (customContentInfo.destroy) {\n                    customContentInfo.destroy();\n                }\n                customContentInfo = this.customContentInfo = null;\n            }\n            // assigning new value\n            if (meta.contentKey) {\n                customContentInfo = this.customContentInfo = __assign({ contentKey: meta.contentKey, contentVal: innerContent[meta.contentKey] }, meta.buildLifecycleFuncs());\n            }\n            // updating\n        }\n        else if (customContentInfo) {\n            customContentInfo.contentVal = innerContent[meta.contentKey];\n        }\n        return customContentInfo\n            ? [] // signal that something was specified\n            : innerContent; // assume a [p]react vdom node. use it\n    };\n    ContentHookInner.prototype.getInnerContent = function () {\n        var props = this.props;\n        var innerContent = normalizeContent(props.content, props.hookProps);\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        return innerContent == null ? null : innerContent; // convert undefined to null (better for React)\n    };\n    ContentHookInner.prototype.getContentMeta = function (innerContent) {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var contentKey = '';\n        var buildLifecycleFuncs = null;\n        if (innerContent) { // allowed to be null, for convenience to caller\n            for (var searchKey in contentTypeHandlers) {\n                if (innerContent[searchKey] !== undefined) {\n                    contentKey = searchKey;\n                    buildLifecycleFuncs = contentTypeHandlers[searchKey];\n                    break;\n                }\n            }\n        }\n        return { contentKey: contentKey, buildLifecycleFuncs: buildLifecycleFuncs };\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) { // for non-[p]react\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type, // fall back to given view name\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        isRefetch: isRefetch,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var viewsWithButtons = [];\n    var headerToolbar = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    var footerToolbar = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    return { headerToolbar: headerToolbar, footerToolbar: footerToolbar, viewsWithButtons: viewsWithButtons };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    return mapHash(sectionStrHash, function (sectionStr) { return parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons); });\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    return sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]);\n            //            ^ everything else is considered default\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText };\n    })); });\n}\n\nvar eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: function () { return ({ render: injectHtml }); },\n            domNodes: function () { return ({ render: injectDomNodes }); },\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction injectHtml(el, html) {\n    el.innerHTML = html;\n}\nfunction injectDomNodes(el, domNodes) {\n    var oldNodes = Array.prototype.slice.call(el.childNodes); // TODO: use array util\n    var newNodes = Array.prototype.slice.call(domNodes); // TODO: use array util\n    if (!isArraysEqual(oldNodes, newNodes)) {\n        for (var _i = 0, newNodes_1 = newNodes; _i < newNodes_1.length; _i++) {\n            var newNode = newNodes_1[_i];\n            el.appendChild(newNode);\n        }\n        oldNodes.forEach(removeElement);\n    }\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName]) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName]) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar SegHierarchy = /** @class */ (function () {\n    function SegHierarchy() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    SegHierarchy.prototype.addSegs = function (inputs) {\n        var hiddenEntries = [];\n        for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n            var input = inputs_1[_i];\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    };\n    SegHierarchy.prototype.insertEntry = function (entry, hiddenEntries) {\n        var insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    };\n    SegHierarchy.prototype.isInsertionValid = function (insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    };\n    // returns number of new entries inserted\n    SegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.splitEntry = function (entry, barrier, hiddenEntries) {\n        var partCnt = 0;\n        var splitHiddenEntries = [];\n        var entrySpan = entry.span;\n        var barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, splitHiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push.apply(hiddenEntries, __spreadArray([{\n                    index: entry.index,\n                    thickness: entry.thickness,\n                    span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n                }], splitHiddenEntries));\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.insertEntryAt = function (entry, insertion) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    };\n    SegHierarchy.prototype.findInsertion = function (newEntry) {\n        var _a = this, levelCoords = _a.levelCoords, entriesByLevel = _a.entriesByLevel, strictOrder = _a.strictOrder, stackCnts = _a.stackCnts;\n        var levelCnt = levelCoords.length;\n        var candidateCoord = 0;\n        var touchingLevel = -1;\n        var touchingLateral = -1;\n        var touchingEntry = null;\n        var stackCnt = 0;\n        for (var trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            var trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + newEntry.thickness) {\n                break;\n            }\n            var trackingEntries = entriesByLevel[trackingLevel];\n            var trackingEntry = void 0;\n            var searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            var lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                var trackingEntryBottom = trackingCoord + trackingEntry.thickness;\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        var destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        var destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel: touchingLevel,\n            touchingLateral: touchingLateral,\n            touchingEntry: touchingEntry,\n            stackCnt: stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    };\n    // sorted by levelCoord (lowest to highest)\n    SegHierarchy.prototype.toRects = function () {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        var levelCnt = entriesByLevel.length;\n        var rects = [];\n        for (var level = 0; level < levelCnt; level += 1) {\n            var entries = entriesByLevel[level];\n            var levelCoord = levelCoords[level];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                rects.push(__assign(__assign({}, entry), { levelCoord: levelCoord }));\n            }\n        }\n        return rects;\n    };\n    return SegHierarchy;\n}());\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    var merges = [];\n    for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n        var entry = entries_2[_i];\n        var filteredMerges = [];\n        var hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (var _a = 0, merges_1 = merges; _a < merges_1.length; _a++) {\n            var merge = merges_1[_a];\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    var start = Math.max(span0.start, span1.start);\n    var end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start: start, end: end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    var startIndex = 0;\n    var endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        var middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        var middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArray(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\" }, props.title));\n            }\n            else {\n                var ariaAttrs = buttonIcon ? { 'aria-label': buttonName } : {};\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (buttonName === props.activeButton) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                children.push(createElement(\"button\", __assign({ disabled: isDisabled, className: buttonClasses.join(' '), onClick: buttonClick, type: \"button\" }, ariaAttrs), buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArray(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var centerContent = model.center;\n        if (model.left) {\n            forceLtr = true;\n            startContent = model.left;\n        }\n        else {\n            startContent = model.start;\n        }\n        if (model.right) {\n            forceLtr = true;\n            endContent = model.right;\n        }\n        else {\n            endContent = model.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { ref: this.handleEl, onClick: props.onClick, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.handleNavLinkClick = buildDelegationHandler('a[data-navlink]', _this._handleNavLinkClick.bind(_this));\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            for (var _i = 0, _a = _this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n                var listener = _a[_i];\n                listener.destroy();\n            }\n            delete _this.interactionsStore[component.uid];\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.headerToolbar && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.headerToolbar }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, onClick: this.handleNavLinkClick },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footerToolbar && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footerToolbar }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype._handleNavLinkClick = function (ev, anchorEl) {\n        var _a = this.props, dateEnv = _a.dateEnv, options = _a.options, calendarApi = _a.calendarApi;\n        var navLinkOptions = anchorEl.getAttribute('data-navlink');\n        navLinkOptions = navLinkOptions ? JSON.parse(navLinkOptions) : {};\n        var dateMarker = dateEnv.createMarker(navLinkOptions.date);\n        var viewType = navLinkOptions.type;\n        var customAction = viewType === 'day' ? options.navLinkDayClick :\n            viewType === 'week' ? options.navLinkWeekClick : null;\n        if (typeof customAction === 'function') {\n            customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n        }\n        else {\n            if (typeof customAction === 'string') {\n                viewType = customAction;\n            }\n            calendarApi.zoomTo(dateMarker, viewType);\n        }\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (options.navLinks && !dayMeta.isDisabled && props.colCnt > 1)\n            ? { 'data-navlink': buildNavLinkData(date), tabIndex: 0 }\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", null,\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArray([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArray([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArray([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArray([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArray([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArray([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArray([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArray([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArray([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    var instances = interaction.mutatedEvents.instances;\n    for (var instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement('tbody', {}, typeof chunkConfig.rowContent === 'function' ? chunkConfig.rowContent(arg) : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArray(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.setState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        return createElement('table', {\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArray(['thead', {}], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArray(['tbody', {}], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArray(['tfoot', {}], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArray(__spreadArray(__spreadArray(['tbody', {}], headSectionNodes), bodySectionNodes), footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        });\n        return (createElement(\"td\", { ref: chunkConfig.elRef },\n            createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n                createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                    : true }, content))));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$1, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMousedown = function (ev) {\n            // only hide the popover if the click happened outside the popover\n            var target = getEventTargetViaRoot(ev);\n            if (!_this.rootEl.contains(target)) {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var theme = this.context.theme;\n        var props = this.props;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", __assign({ className: classNames.join(' ') }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\" }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMousedown);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMousedown);\n    };\n    Popover.prototype.updateSize = function () {\n        var isRtl = this.context.isRtl;\n        var _a = this.props, alignmentEl = _a.alignmentEl, alignGridTop = _a.alignGridTop;\n        var rootEl = this.rootEl;\n        var alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            var popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            var popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            var popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            var origin_1 = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin_1.top,\n                left: popoverLeft - origin_1.left,\n            });\n        }\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var startDate = props.startDate, todayRange = props.todayRange, dateProfile = props.dateProfile;\n        var title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: startDate, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            createElement(DayCellContent, { date: startDate, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.children)); }));\n    };\n    MorePopover.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var _a = this, rootEl = _a.rootEl, props = _a.props;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: __assign({ allDay: true, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar MoreLinkRoot = /** @class */ (function (_super) {\n    __extends(MoreLinkRoot, _super);\n    function MoreLinkRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.linkElRef = createRef();\n        _this.state = {\n            isPopoverOpen: false,\n        };\n        _this.handleClick = function (ev) {\n            var _a = _this, props = _a.props, context = _a.context;\n            var moreLinkClick = context.options.moreLinkClick;\n            var date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date: date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                _this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        _this.handlePopoverClose = function () {\n            _this.setState({ isPopoverOpen: false });\n        };\n        return _this;\n    }\n    MoreLinkRoot.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(ViewContextType.Consumer, null, function (context) {\n            var viewApi = context.viewApi, options = context.options, calendarApi = context.calendarApi;\n            var moreLinkText = options.moreLinkText;\n            var moreCnt = props.moreCnt;\n            var range = computeRange(props);\n            var hookProps = {\n                num: moreCnt,\n                shortText: \"+\" + moreCnt,\n                text: typeof moreLinkText === 'function'\n                    ? moreLinkText.call(calendarApi, moreCnt)\n                    : \"+\" + moreCnt + \" \" + moreLinkText,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(RenderHook, { elRef: _this.linkElRef, hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: props.defaultContent || renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, ['fc-more-link'].concat(customClassNames), innerElRef, innerContent, _this.handleClick); })),\n                _this.state.isPopoverOpen && (createElement(MorePopover, { startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: _this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop: props.alignGridTop, onClose: _this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    };\n    MoreLinkRoot.prototype.componentDidMount = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.componentDidUpdate = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.updateParentEl = function () {\n        if (this.linkElRef.current) {\n            this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n        }\n    };\n    return MoreLinkRoot;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    var hiddenSegs = props.hiddenSegs;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.9.0'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MoreLinkRoot, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SegHierarchy, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, binarySearch, buildClassNameNormalizer, buildEntryKey, buildEventApis, buildEventRangeKey, buildHashFromArray, buildIsoString, buildNavLinkData, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEarliestSegStart, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElRoot, getElSeg, getEntrySpanEnd, getEventClassNames, getEventTargetViaRoot, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, globalLocales, globalPlugins, greatestDurationDenominator, groupIntersectingEntries, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, intersectSpans, isArraysEqual, isColPropsEqual, isDateSelectionValid, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, joinSpans, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.9.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, flushToDom, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                    _this.setClassNames(classNames);\n                    _this.setHeight(height);\n                    return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                        createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                }), _this.el);\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n            flushToDom();\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        _super.prototype.updateSize.call(this);\n        flushToDom();\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.9.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DateComponent, buildNavLinkData, DayCellContent, Fragment, BaseComponent, createFormatter, StandardEvent, buildSegTimeText, EventRoot, memoize, MoreLinkRoot, getSegMeta, setRef, DayCellRoot, WeekNumberRoot, buildEntryKey, intersectSpans, SegHierarchy, intersectRanges, addDays, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArray } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = this.context.options.navLinks\n            ? { 'data-navlink': buildNavLinkData(props.date), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar TableCellMoreLink = /** @class */ (function (_super) {\n    __extends(TableCellMoreLink, _super);\n    function TableCellMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.compileSegs = memoize(compileSegs);\n        return _this;\n    }\n    TableCellMoreLink.prototype.render = function () {\n        var props = this.props;\n        var _a = this.compileSegs(props.singlePlacements), allSegs = _a.allSegs, invisibleSegs = _a.invisibleSegs;\n        return (createElement(MoreLinkRoot, { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: function () {\n                var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map(function (seg) {\n                    var instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick) { return (createElement(\"a\", { ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), onClick: handleClick }, innerContent)); }));\n    };\n    return TableCellMoreLink;\n}(BaseComponent));\nfunction compileSegs(singlePlacements) {\n    var allSegs = [];\n    var invisibleSegs = [];\n    for (var _i = 0, singlePlacements_1 = singlePlacements; _i < singlePlacements_1.length; _i++) {\n        var placement = singlePlacements_1[_i];\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs: allSegs, invisibleSegs: invisibleSegs };\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context, rootElRef = _a.rootElRef;\n        var options = context.options;\n        var date = props.date, dateProfile = props.dateProfile;\n        var navLinkAttrs = options.navLinks\n            ? { 'data-navlink': buildNavLinkData(date, 'week'), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                    props.fgContent,\n                    createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    var hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    var segInputs = [];\n    var unknownHeightSegs = [];\n    for (var i = 0; i < segs.length; i += 1) {\n        var seg = segs[i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                thickness: eventHeight,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var segRects = hierarchy.toRects();\n    var _a = placeRects(segRects, segs, cells), singleColPlacements = _a.singleColPlacements, multiColPlacements = _a.multiColPlacements, leftoverMargins = _a.leftoverMargins;\n    var moreCnts = [];\n    var moreMarginTops = [];\n    // add segs with unknown heights\n    for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs; _i < unknownHeightSegs_1.length; _i++) {\n        var seg = unknownHeightSegs_1[_i];\n        multiColPlacements[seg.firstCol].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (var col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (var _b = 0, hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n        var hiddenEntry = hiddenEntries_1[_b];\n        var seg = segs[hiddenEntry.index];\n        var hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (var col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, moreCnts: moreCnts, moreMarginTops: moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    var singleColPlacements = [];\n    var multiColPlacements = [];\n    var leftoverMargins = [];\n    for (var col = 0; col < cells.length; col += 1) {\n        var rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        var singlePlacements = [];\n        var currentHeight = 0;\n        var currentMarginTop = 0;\n        for (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n            var rect = rects_1[_i];\n            var seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        var multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++) {\n            var rect = rects_2[_a];\n            var seg = segs[rect.index];\n            var isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            var isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, leftoverMargins: leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    var rectsByEachCol = [];\n    for (var col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (var _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n        var rect = rects_3[_i];\n        for (var col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    var eventRange = seg.eventRange;\n    var origRange = eventRange.range;\n    var slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return __assign(__assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nvar DayGridSegHierarchy = /** @class */ (function (_super) {\n    __extends(DayGridSegHierarchy, _super);\n    function DayGridSegHierarchy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // config\n        _this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        _this.forceHidden = {};\n        return _this;\n    }\n    DayGridSegHierarchy.prototype.addSegs = function (segInputs) {\n        var _this = this;\n        var hiddenSegs = _super.prototype.addSegs.call(this, segInputs);\n        var entriesByLevel = this.entriesByLevel;\n        var excludeHidden = function (entry) { return !_this.forceHidden[buildEntryKey(entry)]; };\n        // remove the forced-hidden segs\n        for (var level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    };\n    DayGridSegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, forceHidden = _a.forceHidden;\n        var touchingEntry = insertion.touchingEntry, touchingLevel = insertion.touchingLevel, touchingLateral = insertion.touchingLateral;\n        if (this.hiddenConsumes && touchingEntry) {\n            var touchingEntryId = buildEntryKey(touchingEntry);\n            // if not already hidden\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    var placeholderEntry = __assign(__assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    var placeholderEntryId = buildEntryKey(placeholderEntry);\n                    forceHidden[placeholderEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n                    this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        return _super.prototype.handleInvalidInsertion.call(this, insertion, entry, hiddenEntries);\n    };\n    return DayGridSegHierarchy;\n}(SegHierarchy));\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var options = context.options;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells), singleColPlacements = _b.singleColPlacements, multiColPlacements = _b.multiColPlacements, moreCnts = _b.moreCnts, moreMarginTops = _b.moreMarginTops;\n        var isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                var mirrorFgNodes = _this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++) {\n                var placement = segPlacements_1[_i];\n                var seg = placement.seg;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var key = instanceId + ':' + col;\n                var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                var isAbsolute = placement.isAbsolute;\n                var left = '';\n                var right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left: left,\n                        right: right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.setState({\n                eventInstanceHeights: this.queryEventInstanceHeights(),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.queryEventInstanceHeights = function () {\n        var segElMap = this.segHarnessRefs.currentMap;\n        var eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (var key in segElMap) {\n            var height = Math.round(segElMap[key].getBoundingClientRect().height);\n            var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map(function (seg) { return ({\n        seg: seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }); });\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    var topsByInstanceId = {};\n    for (var _i = 0, colPlacements_1 = colPlacements; _i < colPlacements_1.length; _i++) {\n        var placements = colPlacements_1[_i];\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.rowRefs = new RefMap();\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", null, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })); }))))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(positionLeft);\n        var row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            var cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: __assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n//# sourceMappingURL=main.js.map\n","<script>\n\timport VideoModal from '../components/modal/VideoModal.svelte';\n\timport Modal from '../utils/modal.js';\n\timport Video from '../components/Video.svelte';\n\timport {RESTClient} from '../utils/rest';\n\n\tlet videos = [\n    {\n        \"id\": 89,\n        \"status\": \"published\",\n        \"sort\": 87,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:53:27.000Z\",\n        \"name\": \"[BENGALI] CONQUEST: FREE FIRE OPEN | GRAND FINALS | DAY 2\",\n        \"url\": \"https://youtu.be/e7XKdYyUmpY\",\n        \"thumbnail\": 103,\n        \"live\": 0,\n        \"filename_disk\": \"fe8e4ff0-dd4a-4660-9396-8cffe2d1bf95.jpg\"\n    },\n    {\n        \"id\": 88,\n        \"status\": \"published\",\n        \"sort\": 86,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:52:56.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | GRAND FINALS | DAY 2\",\n        \"url\": \"https://youtu.be/a_YKaOqOP4o\",\n        \"thumbnail\": 102,\n        \"live\": 0,\n        \"filename_disk\": \"5c9a5556-a6ee-429b-b01e-768318d71ff4.jpg\"\n    },\n    {\n        \"id\": 87,\n        \"status\": \"published\",\n        \"sort\": 85,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:52:16.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | GRAND FINALS | DAY 2\",\n        \"url\": \"https://youtu.be/TX5kwmWKK28\",\n        \"thumbnail\": 101,\n        \"live\": 0,\n        \"filename_disk\": \"4601151a-1a40-45a3-bd52-9c5c79bf49dd.jpg\"\n    },\n    {\n        \"id\": 86,\n        \"status\": \"published\",\n        \"sort\": 84,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:51:26.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | GRAND FINALS | DAY 1\",\n        \"url\": \"https://youtu.be/7a-ScTb_VWQ\",\n        \"thumbnail\": 100,\n        \"live\": 0,\n        \"filename_disk\": \"d4e4ff96-a583-404f-9053-0d30e2ba3e2b.jpg\"\n    },\n    {\n        \"id\": 85,\n        \"status\": \"published\",\n        \"sort\": 83,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:47:50.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | GRAND FINALS | DAY 1\",\n        \"url\": \"https://youtu.be/LIFSHOhGCtE\",\n        \"thumbnail\": 99,\n        \"live\": 0,\n        \"filename_disk\": \"bb29d51d-2601-4126-b197-344c0fc7dc1b.jpg\"\n    },\n    {\n        \"id\": 84,\n        \"status\": \"published\",\n        \"sort\": 82,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:47:15.000Z\",\n        \"name\": \"[BENGALI] CONQUEST: FREE FIRE OPEN | GRAND FINALS | DAY 1\",\n        \"url\": \"https://youtu.be/lX1bBv3jL34\",\n        \"thumbnail\": 98,\n        \"live\": 0,\n        \"filename_disk\": \"29825f62-f3e5-4476-8c61-8a0b015eac90.jpg\"\n    },\n    {\n        \"id\": 83,\n        \"status\": \"published\",\n        \"sort\": 81,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:46:29.000Z\",\n        \"name\": \"CONQUEST: FREE FIRE OPEN | PRE-FINALS | DAY 2\",\n        \"url\": \"https://youtu.be/8f8tTG7pj9o\",\n        \"thumbnail\": 97,\n        \"live\": 0,\n        \"filename_disk\": \"f21e61b8-28a4-4323-8674-9f0ba9d902cb.jpg\"\n    },\n    {\n        \"id\": 82,\n        \"status\": \"published\",\n        \"sort\": 80,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:45:41.000Z\",\n        \"name\": \"CONQUEST: FREE FIRE OPEN | PRE-FINALS| DAY 1 | PART 2\",\n        \"url\": \"https://youtu.be/H-lltTkKkMk\",\n        \"thumbnail\": 96,\n        \"live\": 0,\n        \"filename_disk\": \"79bc73ca-0677-4f0e-bef8-7422e0a058ff.jpg\"\n    },\n    {\n        \"id\": 81,\n        \"status\": \"published\",\n        \"sort\": 79,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:44:46.000Z\",\n        \"name\": \"CONQUEST: FREE FIRE OPEN | PRE-FINALS | DAY 1 | PART 1\",\n        \"url\": \"https://youtu.be/5U8Tej0qMm8\",\n        \"thumbnail\": 95,\n        \"live\": 0,\n        \"filename_disk\": \"e7f648c3-039e-4949-800f-0d46969bb55e.jpg\"\n    },\n    {\n        \"id\": 80,\n        \"status\": \"published\",\n        \"sort\": 78,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:43:58.000Z\",\n        \"name\": \"CONQUEST: GAMING FTW | Episode 4 ft  Total Gaming  Esports | Viewer Games | Diamond Giveaways\",\n        \"url\": \"https://youtu.be/13EF-7VFGMk\",\n        \"thumbnail\": 94,\n        \"live\": 0,\n        \"filename_disk\": \"20792272-5628-45c4-9504-345042fd3949.jpg\"\n    },\n    {\n        \"id\": 79,\n        \"status\": \"published\",\n        \"sort\": 77,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:43:09.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE | WEEK 4 - DAY 3\",\n        \"url\": \"https://youtu.be/KMuW6RSFDVA\",\n        \"thumbnail\": 93,\n        \"live\": 0,\n        \"filename_disk\": \"f0fdbae7-d43d-4721-8168-f6a3a1b23648.jpg\"\n    },\n    {\n        \"id\": 78,\n        \"status\": \"published\",\n        \"sort\": 76,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:42:32.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE| WEEK 4 - DAY 3\",\n        \"url\": \"https://youtu.be/AXG7L0N5VME\",\n        \"thumbnail\": 92,\n        \"live\": 0,\n        \"filename_disk\": \"7584449b-f368-408e-90ed-e96d43daab6b.jpg\"\n    },\n    {\n        \"id\": 77,\n        \"status\": \"published\",\n        \"sort\": 75,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:41:44.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE | WEEK 4 - DAY 2\",\n        \"url\": \"https://youtu.be/x0u7cyF1LjY\",\n        \"thumbnail\": 91,\n        \"live\": 0,\n        \"filename_disk\": \"9ba78043-a5d9-4cb8-8edd-1ff8ee26c6fc.jpg\"\n    },\n    {\n        \"id\": 76,\n        \"status\": \"published\",\n        \"sort\": 74,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:41:05.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE| WEEK 4 - DAY 2\",\n        \"url\": \"https://youtu.be/wl-TGGEh6oE\",\n        \"thumbnail\": 90,\n        \"live\": 0,\n        \"filename_disk\": \"fbf3e905-048f-4496-b3ba-4dd053d2b1dc.jpg\"\n    },\n    {\n        \"id\": 75,\n        \"status\": \"published\",\n        \"sort\": 73,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:39:51.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE | WEEK 4 - DAY 1\",\n        \"url\": \"https://youtu.be/-ScTXIV0rOU\",\n        \"thumbnail\": 89,\n        \"live\": 0,\n        \"filename_disk\": \"8af11ecf-9329-418d-82be-a0afae563426.jpg\"\n    },\n    {\n        \"id\": 74,\n        \"status\": \"published\",\n        \"sort\": 72,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:39:12.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE| WEEK 4 - DAY 1\",\n        \"url\": \"https://youtu.be/VKRgfd94ha8\",\n        \"thumbnail\": 88,\n        \"live\": 0,\n        \"filename_disk\": \"997b3b34-107f-4cd7-b20c-b88082b738ff.jpg\"\n    },\n    {\n        \"id\": 73,\n        \"status\": \"published\",\n        \"sort\": 71,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:38:26.000Z\",\n        \"name\": \"CONQUEST: GAMING FTW | Episode 3 ft  @FAB INDRO GAMING   | Viewer Games | Diamond Giveaways\",\n        \"url\": \"https://youtu.be/W2nVsVRVfvM\",\n        \"thumbnail\": 87,\n        \"live\": 0,\n        \"filename_disk\": \"0bda70dd-282d-43fc-9fc4-64d0685b0a2b.jpg\"\n    },\n    {\n        \"id\": 72,\n        \"status\": \"published\",\n        \"sort\": 70,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:37:32.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE| WEEK 3 - DAY 3\",\n        \"url\": \"https://youtu.be/Jnte4P6x8YA\",\n        \"thumbnail\": 86,\n        \"live\": 0,\n        \"filename_disk\": \"72220767-2904-4d4d-a6c3-4018722fc7df.jpg\"\n    },\n    {\n        \"id\": 71,\n        \"status\": \"published\",\n        \"sort\": 69,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:36:54.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE | WEEK 3 - DAY 3\",\n        \"url\": \"https://youtu.be/UxXN7i9Ku3s\",\n        \"thumbnail\": 85,\n        \"live\": 0,\n        \"filename_disk\": \"57bb2479-3189-46a1-9758-cfa9cf52a99f.jpg\"\n    },\n    {\n        \"id\": 70,\n        \"status\": \"published\",\n        \"sort\": 68,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:35:58.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE| WEEK 3 - DAY 2\",\n        \"url\": \"https://youtu.be/JV1NyP6WAIo\",\n        \"thumbnail\": 84,\n        \"live\": 0,\n        \"filename_disk\": \"a4554dc7-9f36-4c31-89bb-6a8a5c16b62d.jpg\"\n    },\n    {\n        \"id\": 69,\n        \"status\": \"published\",\n        \"sort\": 67,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:35:15.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE | WEEK 3 - DAY 2\",\n        \"url\": \"https://youtu.be/KgsdJjES-Fg\",\n        \"thumbnail\": 83,\n        \"live\": 0,\n        \"filename_disk\": \"4e933aff-9a12-4399-8228-ceaa6e2b2209.jpg\"\n    },\n    {\n        \"id\": 68,\n        \"status\": \"published\",\n        \"sort\": 66,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:34:29.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE | WEEK 3 - DAY 1\",\n        \"url\": \"https://youtu.be/WJG4JXfwFik\",\n        \"thumbnail\": 82,\n        \"live\": 0,\n        \"filename_disk\": \"a4bd2160-8863-469c-a771-3c7d94011244.jpg\"\n    },\n    {\n        \"id\": 67,\n        \"status\": \"published\",\n        \"sort\": 65,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:33:45.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE| WEEK 3 - DAY 1\",\n        \"url\": \"https://youtu.be/QBwLKPb1eCo\",\n        \"thumbnail\": 81,\n        \"live\": 0,\n        \"filename_disk\": \"80640c77-ec87-4319-8018-96ae70c5a970.jpg\"\n    },\n    {\n        \"id\": 66,\n        \"status\": \"published\",\n        \"sort\": 64,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:32:47.000Z\",\n        \"name\": \"CONQUEST: GAMING FTW | Episode 2 ft @Jonty Gaming | Viewer Games | Diamond Giveaways\",\n        \"url\": \"https://youtu.be/-XSD8KTqOg0\",\n        \"thumbnail\": 80,\n        \"live\": 0,\n        \"filename_disk\": \"8695082b-8e37-490d-b1a1-9cf38cf70a65.jpg\"\n    },\n    {\n        \"id\": 64,\n        \"status\": \"published\",\n        \"sort\": 63,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:29:56.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | LEAGUE STAGE WEEK 3 - DAY 1\",\n        \"url\": \"https://youtu.be/Gu9omvMl30g\",\n        \"thumbnail\": 78,\n        \"live\": 0,\n        \"filename_disk\": \"08c94503-7e38-4a2d-9e9b-e67917e0c20e.jpg\"\n    },\n    {\n        \"id\": 63,\n        \"status\": \"published\",\n        \"sort\": 62,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:29:07.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | LEAGUE STAGE WEEK 3 - DAY 2\",\n        \"url\": \"https://youtu.be/oa7yJw5R4ws\",\n        \"thumbnail\": 77,\n        \"live\": 0,\n        \"filename_disk\": \"106e9daa-d9ae-4140-ab7e-8058f99625cf.jpg\"\n    },\n    {\n        \"id\": 62,\n        \"status\": \"published\",\n        \"sort\": 61,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:28:14.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | LEAGUE STAGE WEEK 3 - DAY 3\",\n        \"url\": \"https://youtu.be/P5rgnqGem_E\",\n        \"thumbnail\": 76,\n        \"live\": 0,\n        \"filename_disk\": \"1ae08bf0-cafa-430a-830a-e7ea348cdb00.jpg\"\n    },\n    {\n        \"id\": 61,\n        \"status\": \"published\",\n        \"sort\": 60,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:26:56.000Z\",\n        \"name\": \"CONQUEST: FREE FIRE OPEN | LEAGUE STAGE WEEK 3 | WEEKLY ROUND-UP\",\n        \"url\": \"https://youtu.be/C7bXWArKbNI\",\n        \"thumbnail\": 75,\n        \"live\": 0,\n        \"filename_disk\": \"1c6b4ac5-f36f-4369-857d-dc882d3e26ac.jpg\"\n    },\n    {\n        \"id\": 60,\n        \"status\": \"published\",\n        \"sort\": 59,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:25:42.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | LEAGUE STAGE WEEK 4 - DAY 1\",\n        \"url\": \"https://youtu.be/srGYz_Yjlnw\",\n        \"thumbnail\": 74,\n        \"live\": 0,\n        \"filename_disk\": \"e9a0d334-3d4c-4695-a71b-fc58bb8b1a8a.jpg\"\n    },\n    {\n        \"id\": 59,\n        \"status\": \"published\",\n        \"sort\": 58,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:24:45.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | LEAGUE STAGE WEEK 4 - DAY 2\",\n        \"url\": \"https://youtu.be/gCVrClb1ik4\",\n        \"thumbnail\": 73,\n        \"live\": 0,\n        \"filename_disk\": \"232ce1cf-a33c-4681-8edb-b358ff41a6d0.jpg\"\n    },\n    {\n        \"id\": 58,\n        \"status\": \"published\",\n        \"sort\": 57,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:24:05.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | LEAGUE STAGE WEEK 4 - DAY 3\",\n        \"url\": \"https://youtu.be/ZheEkYK4phw\",\n        \"thumbnail\": 72,\n        \"live\": 0,\n        \"filename_disk\": \"9760fffc-5e08-442d-b621-4365fe01d68b.jpg\"\n    },\n    {\n        \"id\": 57,\n        \"status\": \"published\",\n        \"sort\": 55,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:23:25.000Z\",\n        \"name\": \"CONQUEST: FREE FIRE OPEN | LEAGUE STAGE WEEK 4 | WEEKLY ROUND-UP\",\n        \"url\": \"https://youtu.be/GWsAyPTvRuk\",\n        \"thumbnail\": 71,\n        \"live\": 0,\n        \"filename_disk\": \"e66fa0c1-b604-4426-a932-31a9a0f0032b.jpg\"\n    },\n    {\n        \"id\": 56,\n        \"status\": \"published\",\n        \"sort\": 54,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:22:46.000Z\",\n        \"name\": \"CONQUEST: FREE FIRE OPEN | GRAND FINALS | OFFICIAL TRAILER​\",\n        \"url\": \"https://youtu.be/6nKxUsAFKIM\",\n        \"thumbnail\": 70,\n        \"live\": 0,\n        \"filename_disk\": \"920e3e8f-ea03-4469-b4e6-bc099789d3bb.jpg\"\n    },\n    {\n        \"id\": 55,\n        \"status\": \"published\",\n        \"sort\": 53,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:22:07.000Z\",\n        \"name\": \"CONQUEST: FREE FIRE OPEN | TEAM SPOTLIGHT & INTERVIEW | HEX ESPORTS​\",\n        \"url\": \"https://youtu.be/1C1Tvh85L8c\",\n        \"thumbnail\": 69,\n        \"live\": 0,\n        \"filename_disk\": \"48d67f64-860d-49a5-b06f-ddedc2710a3e.jpg\"\n    },\n    {\n        \"id\": 54,\n        \"status\": \"published\",\n        \"sort\": 52,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:21:25.000Z\",\n        \"name\": \"CONQUEST: FREE FIRE OPEN | TEAM SPOTLIGHT & INTERVIEW | GALAXY RACER\",\n        \"url\": \"https://youtu.be/V7zvuKmbTBE\",\n        \"thumbnail\": 68,\n        \"live\": 0,\n        \"filename_disk\": \"6245431a-4f42-414d-b4df-dad09a76ec39.jpg\"\n    },\n    {\n        \"id\": 53,\n        \"status\": \"published\",\n        \"sort\": 51,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:20:40.000Z\",\n        \"name\": \"CONQUEST: FREE FIRE OPEN | TEAM SPOTLIGHT & INTERVIEW | SURVIVOR 4AM\",\n        \"url\": \"https://youtu.be/1xywIP9uQvE\",\n        \"thumbnail\": 67,\n        \"live\": 0,\n        \"filename_disk\": \"2ed23977-13d3-418a-b809-9c840cc8ad04.jpg\"\n    },\n    {\n        \"id\": 52,\n        \"status\": \"published\",\n        \"sort\": 50,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:20:07.000Z\",\n        \"name\": \"CONQUEST: FREE FIRE OPEN | TEAM SPOTLIGHT & INTERVIEW | TEAM CHAOS\",\n        \"url\": \"https://youtu.be/1elCNI0tBkk\",\n        \"thumbnail\": 66,\n        \"live\": 0,\n        \"filename_disk\": \"0673cac0-8ff4-4ff2-87b0-b5f85f58c25d.jpg\"\n    },\n    {\n        \"id\": 50,\n        \"status\": \"published\",\n        \"sort\": 49,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:18:32.000Z\",\n        \"name\": \"CONQUEST: FREE FIRE OPEN | GRAND FINALS | FINAL TOP 12 TEAMS\",\n        \"url\": \"https://youtu.be/Q4ndWz2iACI\",\n        \"thumbnail\": 64,\n        \"live\": 0,\n        \"filename_disk\": \"38b75d54-90f3-4b7b-89b8-14ddfd32c506.jpg\"\n    },\n    {\n        \"id\": 51,\n        \"status\": \"published\",\n        \"sort\": 48,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:19:15.000Z\",\n        \"name\": \"CONQUEST: FREE FIRE OPEN | TEAM SPOTLIGHT & INTERVIEW | 4 UNKNOWN\",\n        \"url\": \"https://youtu.be/yGrlN4E487I\",\n        \"thumbnail\": 65,\n        \"live\": 0,\n        \"filename_disk\": \"9986548d-e41a-4498-b91d-cfed6a840dc1.jpg\"\n    },\n    {\n        \"id\": 49,\n        \"status\": \"published\",\n        \"sort\": 47,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:17:57.000Z\",\n        \"name\": \"Welcome to Snapdragon Insiders program for Snapdragon enthusiasts\",\n        \"url\": \"https://youtu.be/o8w9y4qRuxg\",\n        \"thumbnail\": 63,\n        \"live\": 0,\n        \"filename_disk\": \"d143e851-eaa2-46bf-8094-7b24dafd36d1.jpg\"\n    },\n    {\n        \"id\": 48,\n        \"status\": \"published\",\n        \"sort\": 46,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:17:22.000Z\",\n        \"name\": \"GRAND FINALS HIGHLIGHTS | CONQUEST: FREE FIRE OPEN | DAY 1\",\n        \"url\": \"https://youtu.be/6_p2IYnLZd0\",\n        \"thumbnail\": 62,\n        \"live\": 0,\n        \"filename_disk\": \"8fc725a1-d26c-451f-9571-006d34cdba31.jpg\"\n    },\n    {\n        \"id\": 47,\n        \"status\": \"published\",\n        \"sort\": 45,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:16:28.000Z\",\n        \"name\": \"GRAND FINALS HIGHLIGHTS | CONQUEST: FREE FIRE OPEN | DAY 2\",\n        \"url\": \"https://youtu.be/HbdHhZrgIbU\",\n        \"thumbnail\": 61,\n        \"live\": 0,\n        \"filename_disk\": \"3476a449-2693-41f3-aabf-c70bba5d25fb.jpg\"\n    },\n    {\n        \"id\": 7,\n        \"status\": \"published\",\n        \"sort\": 44,\n        \"owner\": 1,\n        \"created_on\": \"2021-01-13T18:12:19.000Z\",\n        \"name\": \"Video 6\",\n        \"url\": \"https://www.youtube.com/watch?v=X-TWnYfuQgY\",\n        \"thumbnail\": 4,\n        \"live\": 0,\n        \"filename_disk\": \"30b99033-a6d6-4b93-99e5-9959704c51f1.jpeg\"\n    },\n    {\n        \"id\": 6,\n        \"status\": \"published\",\n        \"sort\": 43,\n        \"owner\": 1,\n        \"created_on\": \"2021-01-13T18:11:42.000Z\",\n        \"name\": \"Video 5\",\n        \"url\": \"https://www.youtube.com/watch?v=v1Js7pSAuvM\",\n        \"thumbnail\": 8,\n        \"live\": 0,\n        \"filename_disk\": \"d7c5af8f-a602-4a5c-ad48-ac6b433d7f4e.jpeg\"\n    },\n    {\n        \"id\": 5,\n        \"status\": \"published\",\n        \"sort\": 42,\n        \"owner\": 1,\n        \"created_on\": \"2021-01-13T18:10:45.000Z\",\n        \"name\": \"Video 4\",\n        \"url\": \"https://www.youtube.com/watch?v=Vbone1mZpAA\",\n        \"thumbnail\": 7,\n        \"live\": 0,\n        \"filename_disk\": \"dc5ae723-1d5d-46de-93b2-1882a2053cba.jpeg\"\n    },\n    {\n        \"id\": 4,\n        \"status\": \"published\",\n        \"sort\": 41,\n        \"owner\": 1,\n        \"created_on\": \"2021-01-13T18:09:52.000Z\",\n        \"name\": \"Video 3\",\n        \"url\": \"https://www.youtube.com/watch?v=mG2p3PoThbc\",\n        \"thumbnail\": 6,\n        \"live\": 0,\n        \"filename_disk\": \"624614aa-5a73-48eb-8687-0f82f2a1dcea.jpeg\"\n    },\n    {\n        \"id\": 3,\n        \"status\": \"published\",\n        \"sort\": 40,\n        \"owner\": 1,\n        \"created_on\": \"2021-01-13T17:18:31.000Z\",\n        \"name\": \"Video 2\",\n        \"url\": \"https://www.youtube.com/watch?v=TSqkspMzTCU\",\n        \"thumbnail\": 5,\n        \"live\": 0,\n        \"filename_disk\": \"98ac830e-336a-459b-8bac-a84724208089.jpeg\"\n    },\n    {\n        \"id\": 1,\n        \"status\": \"published\",\n        \"sort\": 39,\n        \"owner\": 1,\n        \"created_on\": \"2021-01-13T14:01:14.000Z\",\n        \"name\": \"Main Vide\",\n        \"url\": \"https://www.youtube.com/watch?v=LjSX7wYgx4o\",\n        \"thumbnail\": 4,\n        \"live\": 0,\n        \"filename_disk\": \"30b99033-a6d6-4b93-99e5-9959704c51f1.jpeg\"\n    },\n    {\n        \"id\": 16,\n        \"status\": \"published\",\n        \"sort\": 38,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-21T17:39:48.000Z\",\n        \"name\": \"CONQUEST: GAMING FTW Episode 1 featuring @vasiyoCRJ 7\",\n        \"url\": \"https://youtu.be/y8gceMELYoU?t=1110\",\n        \"thumbnail\": 20,\n        \"live\": 0,\n        \"filename_disk\": \"132a6011-e600-42fa-8f03-1582596307af.jpg\"\n    },\n    {\n        \"id\": 9,\n        \"status\": \"published\",\n        \"sort\": 37,\n        \"owner\": 2,\n        \"created_on\": \"2021-01-18T11:41:02.000Z\",\n        \"name\": \"[ENGLISH] Playoffs Round 2 - Day 1 - Broadcast\",\n        \"url\": \"https://www.youtube.com/watch?v=BXb6IG7lu-o\",\n        \"thumbnail\": 10,\n        \"live\": 0,\n        \"filename_disk\": \"0c9a1357-d9f4-4010-be5e-53bb45c36d26.jpg\"\n    },\n    {\n        \"id\": 8,\n        \"status\": \"published\",\n        \"sort\": 36,\n        \"owner\": 2,\n        \"created_on\": \"2021-01-18T11:26:45.000Z\",\n        \"name\": \"[HINDI] Playoffs Round 2 - Day 1 - Broadcast\",\n        \"url\": \"https://www.youtube.com/watch?v=AyJQDlQ1BSw\",\n        \"thumbnail\": 9,\n        \"live\": 0,\n        \"filename_disk\": \"dcc91e73-9de7-42e1-b84c-a3d88adb8613.jpg\"\n    },\n    {\n        \"id\": 17,\n        \"status\": \"published\",\n        \"sort\": 35,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-21T17:41:40.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | PLAYOFFS ROUND 2 - DAY 1\",\n        \"url\": \"https://youtu.be/nV2ADsFieTs\",\n        \"thumbnail\": 21,\n        \"live\": 0,\n        \"filename_disk\": \"1a9d98e1-fe65-4bc8-ac52-7775b9117563.jpg\"\n    },\n    {\n        \"id\": 11,\n        \"status\": \"published\",\n        \"sort\": 34,\n        \"owner\": 2,\n        \"created_on\": \"2021-01-19T11:04:01.000Z\",\n        \"name\": \"[ENGLISH] Playoffs Round 2 - Day 2 - Broadcast\",\n        \"url\": \"https://www.youtube.com/watch?v=3Guu08mHguI\",\n        \"thumbnail\": 11,\n        \"live\": 0,\n        \"filename_disk\": \"114eb49f-768e-408c-a900-66e6b04f1530.png\"\n    },\n    {\n        \"id\": 10,\n        \"status\": \"published\",\n        \"sort\": 33,\n        \"owner\": 2,\n        \"created_on\": \"2021-01-19T11:02:18.000Z\",\n        \"name\": \"[HINDI] Playoffs Round 2 - Day 2 - Broadcast\",\n        \"url\": \"https://www.youtube.com/watch?v=6JYMNMH6FKs\",\n        \"thumbnail\": 11,\n        \"live\": 0,\n        \"filename_disk\": \"114eb49f-768e-408c-a900-66e6b04f1530.png\"\n    },\n    {\n        \"id\": 18,\n        \"status\": \"published\",\n        \"sort\": 32,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-21T17:42:48.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | PLAYOFFS ROUND 2 - DAY 2\",\n        \"url\": \"https://youtu.be/lf4IdNometI\",\n        \"thumbnail\": 22,\n        \"live\": 0,\n        \"filename_disk\": \"11ecc105-3613-408e-adc9-03ffa1561c76.jpg\"\n    },\n    {\n        \"id\": 13,\n        \"status\": \"published\",\n        \"sort\": 31,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-20T11:13:45.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | PLAYOFFS | ROUND 2 - DAY 3\",\n        \"url\": \"https://youtu.be/9iJ7TP4H7zg\",\n        \"thumbnail\": 16,\n        \"live\": 0,\n        \"filename_disk\": \"8704aa67-f734-4232-a7e3-cc793d0de978.jpg\"\n    },\n    {\n        \"id\": 12,\n        \"status\": \"published\",\n        \"sort\": 30,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-20T11:12:23.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | PLAYOFFS | ROUND 2 - DAY 3\",\n        \"url\": \"https://youtu.be/GBdaKMuDx7Y\",\n        \"thumbnail\": 15,\n        \"live\": 0,\n        \"filename_disk\": \"94d7b798-6631-4672-bf15-ace87f591229.jpg\"\n    },\n    {\n        \"id\": 19,\n        \"status\": \"published\",\n        \"sort\": 29,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-21T17:45:28.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | PLAYOFFS ROUND 2 - DAY 3\",\n        \"url\": \"https://youtu.be/Sw-iJ-hqtUU\",\n        \"thumbnail\": 23,\n        \"live\": 0,\n        \"filename_disk\": \"5e032048-96ba-4431-a4e7-aa0a3fcd8870.jpg\"\n    },\n    {\n        \"id\": 14,\n        \"status\": \"published\",\n        \"sort\": 28,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-21T11:17:08.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | PLAYOFFS | ROUND 3 - DAY 1\",\n        \"url\": \"https://www.youtube.com/watch?v=-IrHnSJBWjw\",\n        \"thumbnail\": 24,\n        \"live\": 0,\n        \"filename_disk\": \"8e5eba3d-38fb-4f88-85b3-a02ebfb46d0d.jpg\"\n    },\n    {\n        \"id\": 15,\n        \"status\": \"published\",\n        \"sort\": 27,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-21T11:18:04.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | PLAYOFFS | ROUND 3 - DAY 1\",\n        \"url\": \"https://www.youtube.com/watch?v=_tvZClWLJiI\",\n        \"thumbnail\": 25,\n        \"live\": 0,\n        \"filename_disk\": \"a3c04519-eae6-47cd-b0fd-a425d3012dfa.jpg\"\n    },\n    {\n        \"id\": 23,\n        \"status\": \"published\",\n        \"sort\": 26,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-22T11:58:45.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | PLAYOFFS ROUND 3 - DAY 1\",\n        \"url\": \"https://youtu.be/v2USkufvabU\",\n        \"thumbnail\": 30,\n        \"live\": 0,\n        \"filename_disk\": \"77970e7a-e418-4163-a2cf-481a77c67f2a.png\"\n    },\n    {\n        \"id\": 20,\n        \"status\": \"published\",\n        \"sort\": 25,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-22T11:50:17.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | PLAYOFFS | ROUND 3 - DAY 2\",\n        \"url\": \"https://youtu.be/mddhLi0kRbc\",\n        \"thumbnail\": 26,\n        \"live\": 0,\n        \"filename_disk\": \"7e56daad-282c-43e1-88d3-6c17cbad4e7d.jpg\"\n    },\n    {\n        \"id\": 21,\n        \"status\": \"published\",\n        \"sort\": 24,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-22T11:51:08.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | PLAYOFFS | ROUND 3 - DAY 2\",\n        \"url\": \"https://youtu.be/KOl9KOnNsJA\",\n        \"thumbnail\": 27,\n        \"live\": 0,\n        \"filename_disk\": \"e3c3b3fb-4260-4c94-8202-205a51b43b21.jpg\"\n    },\n    {\n        \"id\": 24,\n        \"status\": \"published\",\n        \"sort\": 23,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-23T10:49:29.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | PLAYOFFS ROUND 3 - DAY 2\",\n        \"url\": \"https://youtu.be/56srIyUIxFM\",\n        \"thumbnail\": 32,\n        \"live\": 0,\n        \"filename_disk\": \"7372bdaa-9e70-4be0-9ce7-95cf13a622db.png\"\n    },\n    {\n        \"id\": 25,\n        \"status\": \"published\",\n        \"sort\": 22,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-23T10:54:59.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | PLAYOFFS | ROUND 3 - DAY 3\",\n        \"url\": \"https://youtu.be/2yqM-UQvLIU\",\n        \"thumbnail\": 33,\n        \"live\": 0,\n        \"filename_disk\": \"b008bf3f-8599-495f-b72d-b17d60bac852.jpg\"\n    },\n    {\n        \"id\": 26,\n        \"status\": \"published\",\n        \"sort\": 21,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-23T10:56:27.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | PLAYOFFS | ROUND 3 - DAY 3\",\n        \"url\": \"https://youtu.be/GbkI7QhLcvQ\",\n        \"thumbnail\": 34,\n        \"live\": 0,\n        \"filename_disk\": \"984e9b13-a48b-494c-baa8-6734a1c38760.jpg\"\n    },\n    {\n        \"id\": 30,\n        \"status\": \"published\",\n        \"sort\": 20,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-31T11:45:35.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | PLAYOFFS ROUND 3 - DAY 3\",\n        \"url\": \"https://youtu.be/NRuOaS1aQM8\",\n        \"thumbnail\": 39,\n        \"live\": 0,\n        \"filename_disk\": \"6619254c-ac2b-4ea3-a015-368b0ff8883a.jpg\"\n    },\n    {\n        \"id\": 27,\n        \"status\": \"published\",\n        \"sort\": 19,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-31T11:41:10.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE| WEEK 1 - DAY 1\",\n        \"url\": \"https://youtu.be/XvMy7gI0flM\",\n        \"thumbnail\": 36,\n        \"live\": 0,\n        \"filename_disk\": \"d7cdafd8-a792-4a53-951e-b6083b1092bd.png\"\n    },\n    {\n        \"id\": 28,\n        \"status\": \"published\",\n        \"sort\": 18,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-31T11:42:13.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE | WEEK 1 - DAY 1\",\n        \"url\": \"https://youtu.be/_l5aBWpqbao\",\n        \"thumbnail\": 37,\n        \"live\": 0,\n        \"filename_disk\": \"c1bccc3c-d60f-4146-9d6e-e720ae34d6ba.png\"\n    },\n    {\n        \"id\": 29,\n        \"status\": \"published\",\n        \"sort\": 17,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-31T11:43:47.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | LEAGUE STAGE WEEK 1 - DAY 1\",\n        \"url\": \"https://youtu.be/PYg--PQQHus\",\n        \"thumbnail\": 38,\n        \"live\": 0,\n        \"filename_disk\": \"febd6bdc-d95f-41ce-8879-99b2bbb2d19a.png\"\n    },\n    {\n        \"id\": 31,\n        \"status\": \"published\",\n        \"sort\": 16,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-31T11:47:13.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE| WEEK 1 - DAY 2\",\n        \"url\": \"https://youtu.be/mMuZp4FPejU\",\n        \"thumbnail\": 40,\n        \"live\": 0,\n        \"filename_disk\": \"3605527a-e300-4d51-b3d9-9a791a2f649b.png\"\n    },\n    {\n        \"id\": 32,\n        \"status\": \"published\",\n        \"sort\": 15,\n        \"owner\": 11,\n        \"created_on\": \"2021-01-31T11:48:31.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE | WEEK 1 - DAY 2\",\n        \"url\": \"https://youtu.be/y-D7cY73lyw\",\n        \"thumbnail\": 41,\n        \"live\": 0,\n        \"filename_disk\": \"bda7619e-0595-4e60-bc1f-4c29fd6d0980.png\"\n    },\n    {\n        \"id\": 33,\n        \"status\": \"published\",\n        \"sort\": 14,\n        \"owner\": 11,\n        \"created_on\": \"2021-02-06T06:13:33.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | LEAGUE STAGE WEEK 1 - DAY 2\",\n        \"url\": \"https://youtu.be/J5VcMkixRuI\",\n        \"thumbnail\": 44,\n        \"live\": 0,\n        \"filename_disk\": \"6a3dd466-da1a-4e52-af21-1a3c638511e9.png\"\n    },\n    {\n        \"id\": 34,\n        \"status\": \"published\",\n        \"sort\": 13,\n        \"owner\": 11,\n        \"created_on\": \"2021-02-06T06:15:31.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE| WEEK 1 - DAY 3\",\n        \"url\": \"https://youtu.be/sSoe6RsRHH8\",\n        \"thumbnail\": 45,\n        \"live\": 0,\n        \"filename_disk\": \"c3579e56-393c-42ac-87d1-51406aa77db9.png\"\n    },\n    {\n        \"id\": 35,\n        \"status\": \"published\",\n        \"sort\": 12,\n        \"owner\": 11,\n        \"created_on\": \"2021-02-06T06:17:07.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE | WEEK 1 - DAY 3\",\n        \"url\": \"https://youtu.be/g8fu6ioZzdc\",\n        \"thumbnail\": 46,\n        \"live\": 0,\n        \"filename_disk\": \"7341f798-2ad1-4237-9cf6-bcd012b78e7c.png\"\n    },\n    {\n        \"id\": 36,\n        \"status\": \"published\",\n        \"sort\": 11,\n        \"owner\": 11,\n        \"created_on\": \"2021-02-06T06:20:16.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | LEAGUE STAGE WEEK 1 - DAY 3\",\n        \"url\": \"https://youtu.be/9O5urOq1Doc\",\n        \"thumbnail\": 47,\n        \"live\": 0,\n        \"filename_disk\": \"19391b8f-4656-41b1-b047-f28a65fc96bb.png\"\n    },\n    {\n        \"id\": 46,\n        \"status\": \"published\",\n        \"sort\": 10,\n        \"owner\": 11,\n        \"created_on\": \"2021-02-09T07:50:25.000Z\",\n        \"name\": \"CONQUEST: FREE FIRE OPEN | LEAGUE STAGE WEEK 1 | WEEKLY ROUND-UP\",\n        \"url\": \"https://youtu.be/RqRomk7pCSc\",\n        \"thumbnail\": 57,\n        \"live\": 0,\n        \"filename_disk\": \"dfaee0e8-5819-4f7d-96a6-65905b5dd02b.jpg\"\n    },\n    {\n        \"id\": 37,\n        \"status\": \"published\",\n        \"sort\": 9,\n        \"owner\": 11,\n        \"created_on\": \"2021-02-06T06:25:58.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE| WEEK 2 - DAY 1\",\n        \"url\": \"https://youtu.be/yYKNyLL6X8k\",\n        \"thumbnail\": 48,\n        \"live\": 0,\n        \"filename_disk\": \"7f5567be-154e-4caf-91b2-c773cf4e8e22.png\"\n    },\n    {\n        \"id\": 38,\n        \"status\": \"published\",\n        \"sort\": 8,\n        \"owner\": 11,\n        \"created_on\": \"2021-02-06T06:27:31.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE | WEEK 2 - DAY 1\",\n        \"url\": \"https://youtu.be/7Vugu3RagwU\",\n        \"thumbnail\": 49,\n        \"live\": 0,\n        \"filename_disk\": \"7b074f6f-6956-4e68-9a73-a8cc2de6697a.png\"\n    },\n    {\n        \"id\": 65,\n        \"status\": \"published\",\n        \"sort\": 8,\n        \"owner\": 11,\n        \"created_on\": \"2021-03-15T09:30:40.000Z\",\n        \"name\": \"CONQUEST: FREE FIRE OPEN | LEAGUE STAGE WEEK 2 | WEEKLY ROUND-UP\",\n        \"url\": \"https://youtu.be/f45HRNrk2kY\",\n        \"thumbnail\": 79,\n        \"live\": 0,\n        \"filename_disk\": \"c622ab9a-2afd-4420-b4c9-47201bfe74d0.jpg\"\n    },\n    {\n        \"id\": 39,\n        \"status\": \"published\",\n        \"sort\": 7,\n        \"owner\": 11,\n        \"created_on\": \"2021-02-09T07:10:56.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | LEAGUE STAGE WEEK 2 - DAY 1\",\n        \"url\": \"https://youtu.be/ss_PJ17Yjkw\",\n        \"thumbnail\": 50,\n        \"live\": 0,\n        \"filename_disk\": \"5f858cb3-8c42-4262-b20e-16777aa7a976.jpg\"\n    },\n    {\n        \"id\": 42,\n        \"status\": \"published\",\n        \"sort\": 6,\n        \"owner\": 11,\n        \"created_on\": \"2021-02-09T07:15:29.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE| WEEK 2 - DAY 2\",\n        \"url\": \"https://youtu.be/ucSIa0SVG44\",\n        \"thumbnail\": 53,\n        \"live\": 0,\n        \"filename_disk\": \"83e0c160-9c11-44a2-b22b-62c4404bae5b.jpg\"\n    },\n    {\n        \"id\": 41,\n        \"status\": \"published\",\n        \"sort\": 5,\n        \"owner\": 11,\n        \"created_on\": \"2021-02-09T07:14:50.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE | WEEK 2 - DAY 2\",\n        \"url\": \"https://youtu.be/sqnQEtRORzM\",\n        \"thumbnail\": 52,\n        \"live\": 0,\n        \"filename_disk\": \"2711d416-50d7-46d4-a0e6-1a429979f323.jpg\"\n    },\n    {\n        \"id\": 40,\n        \"status\": \"published\",\n        \"sort\": 4,\n        \"owner\": 11,\n        \"created_on\": \"2021-02-09T07:12:29.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | LEAGUE STAGE WEEK 2 - DAY 2\",\n        \"url\": \"https://youtu.be/8_O4e2c3K2o\",\n        \"thumbnail\": 51,\n        \"live\": 0,\n        \"filename_disk\": \"1ff9f730-6350-4bae-a5a9-c43667297281.jpg\"\n    },\n    {\n        \"id\": 43,\n        \"status\": \"published\",\n        \"sort\": 3,\n        \"owner\": 11,\n        \"created_on\": \"2021-02-09T07:16:15.000Z\",\n        \"name\": \"[ENGLISH] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE| WEEK 2 - DAY 3\",\n        \"url\": \"https://youtu.be/7SF4NH60L7I\",\n        \"thumbnail\": 54,\n        \"live\": 0,\n        \"filename_disk\": \"742699fe-815a-4bcb-9a2d-2a58f000739f.jpg\"\n    },\n    {\n        \"id\": 44,\n        \"status\": \"published\",\n        \"sort\": 2,\n        \"owner\": 11,\n        \"created_on\": \"2021-02-09T07:18:47.000Z\",\n        \"name\": \"[HINDI] CONQUEST: FREE FIRE OPEN | LEAGUE STAGE | WEEK 2 - DAY 3\",\n        \"url\": \"https://youtu.be/wAnoxL5uiGw\",\n        \"thumbnail\": 55,\n        \"live\": 0,\n        \"filename_disk\": \"a75b858c-4dfb-453a-adfc-d1d2c165e3d3.jpg\"\n    },\n    {\n        \"id\": 45,\n        \"status\": \"published\",\n        \"sort\": 1,\n        \"owner\": 11,\n        \"created_on\": \"2021-02-09T07:46:53.000Z\",\n        \"name\": \"TOP 10 MOMENTS | CONQUEST: FREE FIRE OPEN | LEAGUE STAGE WEEK 2 - DAY 3\",\n        \"url\": \"https://youtu.be/CmrcUJq8450\",\n        \"thumbnail\": 56,\n        \"live\": 0,\n        \"filename_disk\": \"b60d9c73-5bc3-4697-9d7b-b8e4fedfa6ba.jpg\"\n    }\n]\n\t// const client = new RESTClient();\n\t// client.get('videos').then(res => videos = res);\nlet toggleFlag = false;\n</script>\n<div class=\"top-section videos-section-page\">\n\t<h1 class=\"title\">Videos</h1>\n\t<div class=\"video-page-main\">\n\t\t{#if videos.length}\n\t\t\t<Video video={videos[0]}/>\n\t\t{/if}\n\t</div>\n</div>\n\n<div class=\"container\">\n\t<div class=\"videos-section other-videos-demand\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-lg-12 col-sm-12 col-xs-12\">\n\t\t\t\t<h4 class=\"videos-section-title\">Videos on demand</h4>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"row no-gutters\">\n            {#each !toggleFlag ? videos.slice(1, 7): videos.slice(1) as video}\n                <div class=\"col-lg-6 col-sm-6 col-xs-12 video-container\">\n                    <Video {video}/>\n                </div>\n            {/each}\n\t\t</div>\n        <p on:click=\"{() => toggleFlag = !toggleFlag}\" class=\"video-seemore\">{!toggleFlag ? 'Load More': 'Load Less'}</p>\n\t\t<!-- <div class=\"row\">\n\t\t\t<div class=\"col-lg-12 col-sm-12 col-xs-12\">\n\t\t\t\t<div class=\"text-center btn-section vidoes-btn-section\">\n\t\t\t\t\t<a href=\"#\" class=\"btn plain-btn\">Load more</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div> -->\n\t</div>\n</div>\n<!-- <svelte:head>\n\t<script\n\t\ttype=\"module\"\n\t\tsrc=\"https://unpkg.com/svelte-scrollable-card@1.0.2/index.js\">\n\t</script>\n</svelte:head> -->\n\n<style>\n\t.title {\n\t\tfont-size: 42px;\n\t\tmargin-bottom: 0;\n\t\ttext-align: center;\n\t\tletter-spacing: 0;\n\t\tcolor: #ffffff;\n\t\tpadding: 80px 0 40px 0;\n\t}\n\n/*\t.top-section {\n\t\theight: 593px;\n\t\twidth: 100% !important;\n\t\tbackground: url(\"https://send2ali.s3.ap-south-1.amazonaws.com/img-format-banner%402x.png\") no-repeat center;\n\t\tbackground-size: 100% 100%;\n\t}*/\n\n\t.videos-section {\n\t\tmargin: 48px auto;\n        max-width: 968px;\n\t}\n\n\t.p-20 {\n\t\tpadding: 20px 0;\n\t}\n\n\t.h-260 {\n\t\theight: 260px;\n\t}\n\n\t.loadmore-btn {\n\t\twidth: 142px;\n\t\tborder-radius: 25px;\n\t\tmargin-bottom: 20px;\n\t}\n\n\t.video-info {\n\t\tposition: absolute;\n\t\tz-index: 9999;\n\t\tbottom: 10px;\n\t\tleft: 0;\n\t\tpadding: 0 20px;\n\t}\n\n\t.video-info .date-txt {\n\t\tfont-size: 16px;\n\t\tcolor: rgba(255, 255, 255, 0.5);\n\t\tfont-weight: normal;\n\t\tfont-stretch: normal;\n\t\tfont-style: normal;\n\t\tline-height: normal;\n\t\tletter-spacing: normal;\n\t}\n\n\t.video-thumbnail img {\n\t\theight: 100%;\n\t}\n\n\t.video-page-main .video-thumb {\n\t\twidth: 620px;\n\t\theight: 350px;\n\t}\n\n\t.video-thumbnail {\n\t\tz-index: 1;\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tleft: 0;\n\t\tright: 0;\n\t\ttop: 0;\n\t}\n\n\t/* slider */\n\t.item-container {\n\t\tborder-radius: 10px;\n\t}\n\t.video-card {\n\t\twidth: 380px;\n\t\theight: 215px;\n\t}\n</style>","<section class=\"banner\">\n\t<div class=\"container\">\n\t\t<h1 class=\"main-title\">\n\t\t\tPrivacy Policy\n\t\t</h1>\n\t</div>\n</section>\n<div class=\"container\">\n\t<div class=\"policy-text\">\n\t\t<div class=\"policy\">\n\t\t\t <p>\n                In this Privacy Policy (\"Policy\"), we, Qualcomm Incorporated and our subsidiaries (collectively \"we\", \"us\", or \"our\"), provide information about how we collect, use, process, and transfer personal data. Qualcomm Incorporated and our subsidiaries are a global organization sharing the data we manage across businesses (legal entities), business processes, and information systems around the world. Therefore, for this Policy, we use the term \"personal data\" broadly to cover the many privacy and data protection laws applicable to us; generally \"personal data\" means information related to an identified natural person or that could reasonably be used (by itself or in combination with other data available) to identify a natural person.\n            </p>\n\t\t</div>\n\t\t<div class=\"policy-name\">\n\t\t    <div class=\"flex__Flex-sc-1eu16dv-0 bMsmdi wrappers__WrapperElement-sc-1ja1m3i-0 kXKNsg\">\n\t\t        <div class=\"box__Box-wl6cgm-0 DIEuN\">\n\t\t            <div class=\"box__Box-wl6cgm-0 hGvUHW html__StyledRawHtml-sc-1lp5b6w-0 lfIMjV\" theme=\"[object Object]\">\n\t\t                <h3>Scope</h3>\n\t\t                <p>\n\t\t                    This Policy applies to our websites, products, services, software, or apps on which we post a direct link to this Policy or refer to within this Policy (collectively the \"Services\"). This Policy covers data collected through the Services and not any data collection or processing practices of other services that maintain their own, separate privacy policies. Occasionally, we refer to this Policy in relation to surveys and special-purpose web pages, for example, our Careers web pages; under such circumstances, this Policy applies as modified in the particular notice or consent request (e.g., with respect to types of data collected or purposes of collection).\n\t\t                </p>\n\t\t                <h3>Types of Data and Collection Methods</h3>\n\t\t                <pwe a=\"\" about=\"\" are=\"\" asked=\"\" below.=\"\" choices=\"\" collect=\"\" collect.=\"\" data=\"\" described=\"\" have=\"\" means=\"\" of=\"\" personal=\"\" provide=\"\" the=\"\" through=\"\" to=\"\" us=\"\" variety=\"\" we=\"\" when=\"\" you=\"\">\n\t\t                    <p>\n\t\t                        <strong>Data you submit.</strong> We collect your name, email address(es), mailing address(es), telephone number(s), and data related to the business you represent when you request information from us, register,\n\t\t                        order a product or service, or otherwise intentionally send us such information. In connection with chargeable services, we will also collect payment information (e.g., credit card number and related verification\n\t\t                        data), phone number, and billing and shipping addresses.\n\t\t                    </p>\n\t\t                    <p>\n\t\t                        <strong>Data we automatically collect from our websites.</strong> When you visit one of our websites, we collect general data from your computer or mobile device such as your browser type, operating system, IP\n\t\t                        address and the domain name from which you accessed the site, and if you are accessing our site with your mobile device, type of mobile device. In addition, we collect data about how you use our websites, such as the\n\t\t                        date and time you visit the site, the areas or pages of the site that you visit, the amount of time you spend viewing the site, the number of times you return to the site and other click-stream data.\n\t\t                    </p>\n\t\t                    <p>\n\t\t                        <strong>Cookies.</strong>We use cookies, web beacons, or similar technologies to collect data about your use of our websites or web apps. A cookie is a small text file that is stored on the hard drive of your\n\t\t                        computer or device when you access the site. We use cookies to help operate our sites and services, including to: (1) remember you so you don’t have to enter the same information when you return to the site, (2)\n\t\t                        provide you with customized content or offers on the site; (3) develop aggregate statistics to help monitor site performance, conduct research, improve our content and services, and (4) help protect the security of\n\t\t                        our sites and services.\n\t\t                    </p>\n\t\t                    <p>\n\t\t                        We also allow other companies such as web analytics partners, advertisers, or ad networks to set or access their cookies or web beacons (also referred to as 1x1 pixel.gifs or action tags) on the site. For example, we\n\t\t                        use third party advertising companies to serve ads on our behalf across the Internet. These third-party advertising companies employ cookies and web beacons to measure and improve the effectiveness of ads for their\n\t\t                        clients, including us. To do so, these companies use data about your visits to our site and other websites over time. This data may include: date/time of banner ad shown, a unique identifier contained in their\n\t\t                        cookie, and the IP address of your device. This data can also be used to personalize ads so that you are more likely to see ads about goods and services of interest to you. If you would like more information about\n\t\t                        this practice and your choices about personalized advertising, visit <a href=\"http://www.networkadvertising.org/choices/\">this opt out article</a>.\n\t\t                    </p>\n\t\t                    <p>\n\t\t                        You are free to decline cookies, but by doing so, you may not be able to use some features on the site or take full advantage of our offerings. Check the \"Help\" menu of your browser to learn how to change your cookie\n\t\t                        preferences. For further information, please see our Cookie Policy.\n\t\t                    </p>\n\t\t                    <p>\n\t\t                        <strong>Software and apps:</strong>Qualcomm Incorporated's subsidiaries create a variety of software and applications for mobile devices that may help improve mobile device performance, conserve battery power,\n\t\t                        improve device security, or offer other benefits. Through these software applications, we may collect location data, unique identifiers (such as a chipset serial number or international subscriber ID), data about the\n\t\t                        applications installed and/or running on the device, configuration data such as the make, model, and wireless carrier, the operating system and version data, software build data, and data about the performance of the\n\t\t                        device such as performance of the chipset, battery use, and thermal data. <a href=\"https://www.qualcomm.com/site/privacy/services\">Learn More</a>\n\t\t                    </p>\n\t\t                    <p><strong>Third Party Sources: </strong>We may also obtain personal data from third party sources such as data brokers, social networks, other partners, or public sources.</p>\n\t\t                    <h3>Collection Purposes, Use of Data</h3>\n\t\t                    <p>\n\t\t                        We collect and process personal data about you with your consent and/or as necessary to provide the products you use, operate our business, meet our contractual and legal obligations, protect the security of our\n\t\t                        systems and our customers, or fulfil other legitimate interests. The purposes for which we collect and use data include:\n\t\t                    </p>\n\t\t                    <ul>\n\t\t                        <li>To respond to the request that you sent us such as your request for information, or your request to subscribe to a service or purchase a product;</li>\n\t\t                        <li>To provide, manage, maintain, and secure the Service(s) you request;</li>\n\t\t                        <li>To operate and improve our business, including to administer, protect, and improve our services and our systems, to develop new products and services, and for other internal business purposes;</li>\n\t\t                        <li>To better understand the preferences of the users of our Services, compile aggregated statistics about usage of our Services, and help personalize your experience of our website and Services;</li>\n\t\t                        <li>To provide you with information about our technologies, product or service releases, news, and other communications; and</li>\n\t\t                        <li>Any other use we describe in this Policy or at the point where we collect the data.</li>\n\t\t                    </ul>\n\t\t                    <p>To achieve these purposes, and to the extent permitted by applicable law, we may combine the various types of data that we collect from different on and offline sources.</p>\n\t\t                    <h3>Where We Store and Process Data</h3>\n\t\t                    <p>\n\t\t                        We store and process data in the United States and on servers around in the world, including, without limitation, Asia and the European Economic Area. Wherever we store or process personal data pursuant to this\n\t\t                        Policy, we take measures designed to ensure that the data is processed in accordance with this Policy and in compliance with applicable law.\n\t\t                    </p>\n\t\t                    <p>\n\t\t                        We transfer personal data from the European Economic Area to other countries, some of which have not been determined by the European Commission to have an adequate level of data protection. When we do so, we use a\n\t\t                        variety of legal mechanisms to effectuate the transfer (such as your consent or legal contracts).\n\t\t                    </p>\n\t\t                    <h3>Disclosures of Personal Data</h3>\n\t\t                    <p>\n\t\t                        We do not sell your personal data. We do, however, share your data with Qualcomm subsidiaries. For example, we may share your request to subscribe to newsletter regarding certain products or services with the\n\t\t                        applicable Qualcomm subsidiary. We may also share your personal data with service providers who process the data on our behalf for the purposes set forth in this Policy. We may also offer training or other services\n\t\t                        to the employees and workers of our business customers. In such cases, we may share data relating to the use of our training and other services with the identified business customers for their business use. We may\n\t\t                        also share your data as required by law or in the interest of protecting or exercising our or others' legal rights, e.g., without limitation, in connection with requests from law enforcement officials and in\n\t\t                        connection with court proceedings. We may share or transfer your data in connection with a prospective or actual sale, merger, transfer or other reorganization of all or parts of our business, including related\n\t\t                        negotiations. Finally, we may also share your personal data where you have granted us permission.\n\t\t                    </p>\n\t\t                    <h3>Your Choices</h3>\n\t\t                    <p>\n\t\t                        <strong>Opt-In/Out.</strong> In some circumstances, such as email marketing, we offer you the ability to opt-in or opt-out of some kinds of data collection, use, or sharing. In such circumstances, we will respect\n\t\t                        your choice.\n\t\t                    </p>\n\t\t                    <p>\n\t\t                        <strong>Data Subject Rights.</strong> The laws of some countries or states allow you to request access, correction, deletion, restriction, or other rights with respect to your personal data.\n\t\t                        <a href=\"https://app.onetrust.com/app/#/webform/7ab89abb-0d42-492a-a324-0570883e2c11\">Click here to exercise those rights.</a>\n\t\t                    </p>\n\t\t                    <p>\n\t\t                        <strong>Do Not Track. </strong>We do not currently respond to \"Do Not Track\" (\"DNT\") signals sent by web browsers. A uniform standard has not yet been adopted to determine how DNT signals should be interpreted and\n\t\t                        what actions should be taken by websites and third parties that receive them. However, you may use a variety of other means of controlling data collection and use, including cookie controls in your browser settings\n\t\t                        and the personalized advertising controls described in the Cookies section above.\n\t\t                    </p>\n\t\t                    <p>\n\t\t                        <strong>Non-Discrimination/Financial Incentives. </strong>The laws of some countries or states prohibit us from discriminating against you for exercising your rights described above and imposes requirements on any\n\t\t                        financial incentives offered to you related to your information. If we offer any such financial incentives, we will describe them in more detail here.\n\t\t                    </p>\n\t\t                    <h3>Retention</h3>\n\t\t                    <p>\n\t\t                        We retain personal data while your account is active, or as needed to provide you services. We will delete or de-identify personal data within a reasonable time after the data is no longer necessary for the business\n\t\t                        purpose for which it was collected. We will, however, retain and use personal data as necessary to comply with our legal obligations, resolve disputes, and enforce our agreements.\n\t\t                    </p>\n\t\t                    <h3>Security</h3>\n\t\t                    <p>\n\t\t                        Transmissions over the Internet are never 100% secure or error-free. However, we take reasonable steps to protect your data from loss, misuse, and unauthorized access, disclosure, alteration, and destruction. It is\n\t\t                        your responsibility to safeguard your passwords and User IDs and to notify us using one of the contact methods listed below if you ever suspect that your password or User ID for one of our Services has been\n\t\t                        compromised. You are solely responsible for any unauthorized use of our Services conducted via your password and User ID.\n\t\t                    </p>\n\t\t                    <h3>Children's Privacy</h3>\n\t\t                    <p>\n\t\t                        Our Services are intended for adults. We do not intentionally or knowingly collect personally-identifiable information from children as defined by applicable law and we request that children not submit any personal\n\t\t                        data to us.\n\t\t                    </p>\n\t\t                    <h3>Amendments</h3>\n\t\t                    <p>\n\t\t                        We reserve the right to change, modify, add, or remove portions of this Policy at any time, but will alert you that changes have been made by indicating on the Policy the date it was last updated. If we change the\n\t\t                        Policy in a material way, we will provide appropriate online notice to you at least thirty days in advance and/or obtain your express consent as required by law. When you visit our websites or use our Services, you\n\t\t                        are accepting the current version of this Policy. We recommend that users revisit this Policy on occasion to learn of any changes.\n\t\t                    </p>\n\t\t                    <h3>Contact Us</h3>\n\t\t                    <p>To contact us, send us an email at privacy[at]qualcomm[dot]com, or write to us at Qualcomm Incorporated, Attn. Privacy Counsel, 5775 Morehouse Drive, San Diego, CA 92121.</p>\n\t\t                </pwe>\n\t\t            </div>\n\t\t        </div>\n\t\t    </div>\n\t\t</div>\n\t\t<!-- <div class=\"policy-name\">\n\t\t    <p>\n\t\t    \tEffective Date: January 1, 2020\n\t\t    </p>\n\t\t</div><div class=\"policy-name\">\n\t\t    <p>\n\t\t    \t©2019 Qualcomm Technologies, Inc. and/or its affiliated companies.\n\t\t    </p>\n\t\t</div> -->\n\t</div>\n</div>\n<style>\n\t.policy-text {\n\t\tpadding-bottom: 80px;\n\t}\n\n</style>","<section class=\"banner\">\n\t<div class=\"container\">\n\t\t<h1 class=\"main-title\">\n\t\t\tCookie Policy\n\t\t</h1>\n\t</div>\n</section>\n<div class=\"container\">\n\t<div class=\"policy-text\">\n\t\t<div class=\"policy\">\n\t\t\t<p>In these Web Site Terms of Use (\"<strong>TOU</strong>\"), we, Qualcomm Incorporated and our subsidiaries (\"Qualcomm\"), set forth the terms under which you may use our sites including <a target=\"_blank\" href=\"https://www.qualcomm.com/\">www.qualcomm.com</a> and other web sites that we operate and on which we post a direct link to this statement (collectively, the \"<strong>Site</strong>\"). By using the Site, you are agreeing to this TOU. If you do not agree to this TOU, you may not and should not use the Site.</p>\n\t\t</div>\n\t\t<div class=\"policy-name\">\n\t\t\t<div class=\"\">\n\t\t\t\t<p>Qualcomm Incorporated and its subsidiaries (collectively “we”, “us” and “our”) use cookies and a variety of similar technologies on its websites. In addition to cookies, such technologies include Local Shared Objects (i.e., Flash Cookies) and web beacons (i.e., single pixel GIFs, clear GIFs, or web bugs). We refer to these technologies collectively as “cookies”. This Cookie Policy explains the use of cookies when you visit any of our websites that provide a link to this Cookie Policy. See “Your Choices” below to manage cookies.</p>\n\t\t\t\t<h3>What is a Cookie?</h3>\n\t\t\t\t<p>A cookie is a small data file that may be stored on the hard drive of your computer or device in your browser’s file directory when you access our website. When you visit one of our websites, cookies may be set by us (first party cookies) or by other companies (third party cookies) such as cookies from Google Analytics, Typekit, Disqus, and Addthis. When you return to one of our websites, or when you access other web pages within one of our websites, your web browser will send the information stored in the cookie to us or to the third party that set the cookie. For more information explaining cookies, visit <a href=\"http://www.allaboutcookies.org\">www.allaboutcookies.org</a>.</p>\n\t\t\t\t<h3>How are Cookies used?</h3>\n\t\t\t\t<p>Cookies are used on our websites for a variety of purposes:</p>\n\t\t\t\t<ol>\n\t\t\t\t\t<li><strong>Basic Functions.</strong> Some of our websites use cookies that are strictly necessary in order to provide a function of the website such as to keep you logged-in where registration is required or to provide a shopping cart. These cookies may be set by us, or by third parties, such as a “Like” button by Facebook or a “Tweet” button by Twitter.</li>\n\t\t\t\t\t<li><strong>Site Improvement.</strong> Some of our websites use cookies to better understand how visitors are using our websites to improve the information and functionality of our websites. These cookies help us learn, for example, if some webpages are not being frequently visited or if visitors are having difficulties navigating our websites. These cookies may be set by us, or by third-party companies such as Google or NetInsight.</li>\n\t\t\t\t\t<li><strong>Personalization.</strong> Some of our websites use cookies to personalize the content that is displayed on our site, or to remember you when you return to our site. For example, we may use a blog tool Disqus.</li>\n\t\t\t\t\t<li><strong>Advertising.</strong> Third party advertising companies may have our permission to serve ads on our behalf across the Internet or to display ads for other companies on our site. These third party advertising companies use cookies to measure and improve the effectiveness of their advertising. To do so, these companies may use generic information about your visits to our sites and other websites for online preference marketing purposes, in order to provide ads about goods and services of specific interest to you.</li>\n\t\t\t\t</ol>\n\t\t\t\t<h3>How Long are Cookies Stored?</h3>\n\t\t\t\t<p>We set cookies to expire after they have fulfilled their purpose. Our websites use cookies that expire when you close your browser (i.e., session cookies) or that expire after a set period of time (i.e., so-called “persistent cookies”). Cookies that are stored by third parties will have their expiration period determined by the third party, not us.</p>\n\t\t\t\t<h3>Your Choices</h3>\n\t\t\t\t<p>You decide whether cookies are stored on your computer or device and can choose to delete them. By accepting cookies that are stored on your computer when you visit our site, we infer that you have accepted the use of cookies as explained in this Cookie Policy.</p>\n\t\t\t\t<p>You can manage cookies one or more ways:</p>\n\t\t\t<ol>\n\t\t\t\t<li><strong>Browser Setting.</strong> Your browser likely supports a variety of settings to control the cookies that are set on your computer or device and to delete cookies. These settings are typically found under the “Tools”, “Settings”, or “Options” menus. You can also check the “help” menu of your browser to learn how to change the cookie preferences through your browser settings. Note that you will need to manage the settings for each browser you use and on each device you use. Further information from several popular browsers can be found at the following sites:<br>\n\t\t\t\t<ol>\n\t\t\t\t\t<li><a href=\"https://support.apple.com/guide/safari/manage-cookies-and-website-data-sfri11471/mac\">Apple Safari</a></li>\n\t\t\t\t\t<li><a href=\"https://support.google.com/chrome/bin/answer.py?hl=en&amp;answer=95647&amp;p=cpn_cookies\">Google Chrome</a></li>\n\t\t\t\t\t<li><a href=\"https://support.microsoft.com/en-us/help/17442/windows-internet-explorer-delete-manage-cookies\">Microsoft IE</a></li>\n\t\t\t\t\t<li><a href=\"https://privacy.microsoft.com/en-us/windows-10-microsoft-edge-and-privacy\">Microsoft Edge</a></li>\n\t\t\t\t\t<li><a href=\"http://support.mozilla.org/en-US/kb/cookies-information-websites-store-on-your-computer?redirectlocale=en-US&amp;redirectslug=Cookies\">Mozilla Firefox</a></li>\n\t\t\t\t</ol>\n\t\t\t\t</li>\n\t\t\t\t<li><strong>Online Tools.</strong> Some third parties allow you to manage cookies through online tools such as: <a href=\"http://www.networkadvertising.org/choices/\">Network Advertising Initiative</a>, <a href=\"http://www.aboutads.info/choices/\">Digital Advertising Alliance</a>, <a href=\"http://www.youronlinechoices.com/\">Your Online Choices</a>, and <a href=\"http://helpx.adobe.com/flash-player/kb/disable-local-shared-objects-flash.html\">Adobe Flash</a>.</li>\n\t\t\t\t<li><strong>Browser Extensions.</strong> Some third parties have created software can be added to your web browser to manage their or third party cookies such as: <a href=\"https://tools.google.com/dlpage/gaoptout/\">Google Analytics</a>, <a href=\"http://www.ghostery.com/\">Ghostery</a> by Evidon, Inc.</li>\n\t\t\t</ol>\n\t\t\t<p>Please note that while you are free to decline cookies, you may not be able to use certain features on this site or take full advantage of all of our offerings if you decline cookies. Our reference to any third party or their software or services is not an endorsement by us of such third party or their products and services and we disclaim any liability for the use or operation of any third-party software or services.</p>\n\t\t\t<h3>Changes</h3>\n\t\t\t<p>We reserve the right to change this Cookie Policy from time to time and in our sole discretion. We reserve the right to change, modify, add or remove portions of this Cookie Policy at any time, but will alert you that changes have been made by indicating on the Cookie Policy the date it was last updated. When you visit the site, you are accepting the current version of this Cookie Policy as posted on the site at that time. We recommend that users revisit this Cookie Policy on occasion to learn of any changes.</p>\n\t\t\t<h3>Further Information</h3>\n\t\t\t<p>Please feel free to contact us with any comments, questions, complaints or suggestions you might have regarding the information practices described in this statement. Click here to access our <a href=\"http://www.qualcomm.com/site/privacy/inquiry\">Privacy Policy Inquiry form</a>, or write to us at Qualcomm Incorporated, Attn. Legal Department, Privacy Counsel, 5775 Morehouse Drive, San Diego, CA 92121.</p>\n\t\t\t</div>\n\t\t</div>\n\t\t<!-- <div class=\"policy-name\">\n\t\t\t<p>Last Updated: April 18, 2018</p>\n\t\t</div> -->\n\t</div>\n</div>\n<style>\n\n\tol {\n\t\tcounter-reset:my-awesome-counter;\n\t\tpadding-left: 20px;\n\t}\n\n\tol li {\n\t\tposition: relative;\n\t\tcounter-increment:my-awesome-counter;\n\t}\n\n\tol li::before {\n\t\tcontent: counter(my-awesome-counter) \". \";\n\t\tcolor: rgb(0, 0, 0);\n\t\tfont-weight: 700;\n\t\tleft: -16px;\n\t\tdisplay: inline-block;\n\t\ttop: 0px;\n\t\tposition: absolute;\n\t}\n</style>","<section class=\"banner\">\n\t<div class=\"container\">\n\t\t<h1 class=\"main-title\">\n\t\t\tTerms of Use\n\t\t</h1>\n\t</div>\n</section>\n<div class=\"container\">\n\t<div class=\"policy-text\">\n\t\t<div class=\"policy\">\n\t\t\t<p>In these Web Site Terms of Use (\"<strong>TOU</strong>\"), we, Qualcomm Incorporated and our subsidiaries (\"Qualcomm\"), set forth the terms under which you may use our sites including <a target=\"_blank\" href=\"https://www.qualcomm.com/\">www.qualcomm.com</a> and other web sites that we operate and on which we post a direct link to this statement (collectively, the \"<strong>Site</strong>\"). By using the Site, you are agreeing to this TOU. If you do not agree to this TOU, you may not and should not use the Site.</p>\n\t\t</div>\n\t\t<div class=\"policy-name\">\n\t\t\t<ol class=\"\" type=\"1\">\n\t\t\t\t<li>\n\t\t\t\t<p><strong>Applicable Agreement(s).</strong> Your access to and use of the materials available on the Site (including but not limited to CreatePoint, Qualcomm ChipCode Software, and Cases websites) may be subject to the terms and conditions of a corresponding agreement(s) in place between the legal entity you represent and Qualcomm Technologies, Inc. or an affiliated company, including but not limited to Qualcomm Technologies International, Ltd. Your access to and use of the materials available on the Site shall not modify or abrogate your obligations under any other agreement with Qualcomm Technologies, Inc. or an affiliated company, including but not limited to Qualcomm Technologies International, Ltd. Nothing in the materials available on the Site is an offer to sell any of the components or devices referenced herein. Unauthorized access to or use of such materials is prohibited.</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p><strong>Copyright Notice and Use of the Site.</strong> The Site contains copyrighted material, trademarks, and other proprietary information, including comments, articles, information, brochures, data, text, software, photos, videos and graphics. The contents of the Site are subject to copyrights owned by Qualcomm and other individuals or entities and are protected by United States and international copyright laws. Except as otherwise provided in a written Agreement between you and Qualcomm, you may not modify, copy, reproduce, republish, upload, post, transmit, transfer, or distribute in any way any of the contents of this Site. You may not distribute copies of materials found on the Site in any form (including by e-mail or other electronic means), without prior written permission from Qualcomm. You may, however, download content from this Site solely for your personal, non-commercial use (except as may otherwise be provided in a written agreement between you and Qualcomm), provided you keep intact all copyright and other legal and proprietary notices. To make a complaint about a copyright violation on the Site, see Section 8 below.</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p><strong>Broadcom Notice.</strong> Pursuant to its settlement agreement with Broadcom Corporation, Qualcomm is required to notify you that the sale, license, or other transfer of certain Qualcomm products to Buyer does not convey to Buyer any intellectual property rights (including patent rights) of Broadcom Corporation or any of its affiliates in such Qualcomm products and therefore Buyer should not assume that any such sale, license, or other transfer conveys any such rights to Buyer. Buyer should contact Qualcomm with any questions it may have regarding whether Qualcomm's sale, license, or other transfer of specific Qualcomm products to Buyer conveys to Buyer any rights to Broadcom intellectual property. For those Qualcomm products for which this sale, license, or other transfer does not convey to Buyer any intellectual property rights of Broadcom Corporation or any of its affiliates, neither Broadcom Corporation nor any of its affiliates has consented to or authorized (a) the incorporation of such Qualcomm products in, or the use of such Qualcomm products in combination with, any other products or components, (b) Buyer's sale of any products incorporating such Qualcomm products, or (c) the distribution in any jurisdiction of such Qualcomm products where the distribution of such Qualcomm products is deemed to be a putting on the market with Broadcom Corporation's consent or authorization so as to effectuate an exhaustion of rights of any patents. The foregoing shall not modify or abrogate Buyer's obligations under any existing license agreement between Buyer and Broadcom Corporation (or any of its affiliates), including but not limited to Buyer's obligation to pay all royalties and fees specified thereunder, and shall not expand or alter Buyer's rights thereunder.</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p><strong>Links.</strong> This Site may contain links to third party web sites which are controlled and operated by third parties. Your use of each third party web site is subject to the terms of use and other guidelines, if any, contained within the relevant web site. You agree to review and accept such terms of use prior to using such third party web sites.</p>\n\t\t\t\t<p>Qualcomm makes no representations whatsoever about any third party web site which you may access through the Site. When you access a third party web site, you agree that it is independent from Qualcomm, that any content you retrieve from that web site is not distributed by Qualcomm, and that Qualcomm has no control over any content on that web site. In addition, a link to a third party web site does not mean that Qualcomm accepts any responsibility for the content, or the use, of such web site. It is up to you to take precautions to ensure that whatever you select for your use is free of such items as viruses, worms, trojans and other items of a destructive nature.</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p><strong>Additional Terms for Forums, Blogs, and Other Social Media.</strong><br>\n\t\t\t\t\t\t\tOur Site may provide one or more forums, blogs, or other interactive or social media features (\"Forums\") for visitors to our Site to exchange information with each other and with Qualcomm about Qualcomm’s products and services (the \"Purpose\"). If you use the Forums, in addition to any other terms we may require when you register to use the Forums or otherwise posted at or on the Forums, you agree to and acknowledge the following:</p>\n\t\t\t\t<ol>\n\t\t\t\t<li>\n\t\t\t\t<p><strong>Restrictions.</strong> You agree not to use the Forums for any reason other than the Purpose. The material on the Forums is protected by international copyright and trademark laws. Except as permitted through a “Share” function which we may provide on the Forums (or with our express written permission), you may not modify, copy, reproduce, republish, upload, post, transmit, or distribute in any way any material from the Forums including any code or software we may provide.</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p><strong>Postings Not Necessarily the Opinion of Qualcomm.</strong> Some of the individuals posting to Forums work for Qualcomm; however, opinions expressed on Forums and in any corresponding comments are the personal opinions of the original authors, and do not necessarily reflect the views of Qualcomm.</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p><strong>Postings.&nbsp;</strong>Although we may attempt to keep objectionable messages off the Site, it is impossible for us to review all messages. All messages express the views of the author, and Qualcomm will not be held responsible for any message or associated content. You take full responsibility for any and all messages and associated content you post to the Forums or exchange through the Forums.If you post any messages, upload files, input data, or engage in any other form of communication through the Forums (a “<strong>Posting</strong>”), you represent and warrant the following: (i) you own all right, title, and interest in and to the Posting, or you have been granted sufficient rights in and to the Posting allowing you to post such Posting, (ii) you will not post any messages or other materials that are obscene, vulgar, sexually-orientated, hateful, threatening, or otherwise violate any laws, (iii) you must not breach obligations of confidentiality that you owe to another party either in posting or using a Posting, (iv) any Postings you make to the Site do not infringe any third party copyright, trade marks, any other intellectual property rights or any applicable law and (v) you will indemnify us and our affiliates, partners, licensors, service providers, content providers, and their and our directors, officers, employees and agents against all claims, losses, liabilities, costs, damages and expenses incurred by us or them due to any breach by you of this TOU or your use of the Forums. For the purposes of this section, references to “your use” of the Forums shall be deemed to include any use by a third party where such third party accesses the Forums using your computer.</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p><strong>Third Party Contributions.</strong> The Forums may include contributions from various sources over which Qualcomm has no control (including any content submitted by third party users). Qualcomm does not pre-screen or exercise editorial control over any Postings, and takes no responsibility for any Postings. Qualcomm reserves the right to edit or remove Postings at any time and in its sole discretion, including those that are in breach of this TOU or in breach of any obligation of confidentiality you owe Qualcomm, infringe or are alleged to infringe the intellectual property rights of any third party, or are defamatory, or otherwise are not relevant to the Forums and Qualcomm will not be liable in relation to the removal of, or failure to remove, any Postings.</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p><strong>Messages to Registered Users.</strong> Our Forums may allow you to send messages directly to other Forum users who have made their contact information available for receiving such messages. You agree to only send messages to other Forum users for the purpose of exchanging information about the Purpose and any other use of the ability to send messages to other Forum users is strictly prohibited. Moreover, you shall not use the contact information made available through the Forum for any of the following: (i) to send unsolicited commercial email (i.e., spam) or any other type of unsolicited commercial message, or (ii) to send any message that is vulgar, sexually-orientated, hateful, threatening, or otherwise violates any laws.</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p><strong>License.</strong> By adding a Posting to the Forum, you grant Qualcomm a royalty-free, perpetual, non-exclusive, unrestricted, worldwide license to: (i) post, use, copy, sublicense, adapt, transmit, publicly perform or display any such Posting, (ii) use, reproduce, modify, adapt, publish, translate, create derivative works from, distribute, perform, play, host, communicate, make available and publish your Posting without restriction, (iii) make, use, sell, offer for sale, and import products implementing any invention or functionality reflected in your Posting, and (iv) sublicense to third parties the unrestricted right to exercise any of the foregoing rights granted with respect to the Posting. The foregoing grants shall include the right to exploit any ideas, concepts, intellectual property, or proprietary rights in such Posting, including but not limited to rights under copyright, trademark, servicemark or patent laws under any relevant jurisdiction without Qualcomm owing any monies to you whatsoever.</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p><strong>Qualcomm Employees.</strong> If you are a Qualcomm employee, you must also follow the Qualcomm Social Media Policy in your Postings.</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p><strong>Posting Guidelines.</strong> Our Forums may contain additional rules or posting guidelines. In such case, you agree to conform your Postings to any such additional rules or posting guidelines.</p>\n\t\t\t\t</li>\n\t\t\t\t</ol>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p><strong>Privacy.</strong> In order to operate and provide the Site, we collect certain information about you. Our practices with respect to the information we collect is described in our privacy policy which is available at <a href=\"https://www.qualcomm.com/site/privacy\">www.qualcomm.com/privacy</a> (“<strong>Privacy Policy</strong>”). By agreeing to this TOU you are agreeing to our Privacy Policy. Information, including but not limited to personal information, collected through the Site may be stored and processed in the United States or any other country in which Qualcomm or its affiliates, subsidiaries or agents maintain facilities. By using the service, you consent to any such transfer of information outside of your country.</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p><strong>Disclaimer.</strong> The materials on the Site and on the Forums are provided \"as is\" and, to the fullest extent permissible pursuant to applicable law, Qualcomm disclaims all warranties, express or implied, including, but not limited to, implied warranties of merchantability and fitness for a particular purpose, title and non-infringement and any other conditions, warranties and other terms which might otherwise be implied by statute, common law or the law of equity. Qualcomm does not warrant that the Site or functions contained in the materials will be uninterrupted or error-free, that defects will be corrected, or that the Site, or the server that makes it available, are free of viruses or other harmful components. Qualcomm does not warrant or make any representations regarding the use or the results of the use of the materials on the Site in terms of correctness, accuracy, timeliness, reliability, or otherwise. You (and not Qualcomm or its licensors) assume the entire cost of all necessary maintenance, repair, or correction. Commentary and other materials posted on the Site and Forums are not intended to amount to advice on which reliance should be placed and we therefore disclaim all liability and responsibility arising from any such reliance.</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p><strong>Limitation of liability.</strong> Under no circumstances, including, but not limited to, negligence, shall Qualcomm, its subsidiaries and parent companies and affiliates be liable for any direct, indirect, incidental, special or consequential damages that arise or result from or are related to the use of, or the inability to use, the Site or any of the Postings made available on or through the Site. Under no circumstances shall Qualcomm’s aggregate liability exceed $5.00. You specifically acknowledge and agree that Qualcomm, its subsidiaries and parent companies and affiliates are not liable for any defamatory, offensive or illegal conduct of any user of the Site or any posting to the Site. If you are dissatisfied with the Site or any materials made available by or through the Site, or with this TOU, your sole and exclusive remedy is to discontinue using the Site.</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p><strong>Notices of copyright infringement.</strong> Pursuant to Title 17, United States Code, Section 512(c)(2), notifications of claimed copyright infringement should be sent to Qualcomm's Designated Agent in writing at the following address:</p>\n\t\t\t\t<p>Qualcomm Incorporated<br>\n\t\t\t\t\t\t\tAttn. Corporate Legal, Copyright Agent<br>\n\t\t\t\t\t\t\t5775 Morehouse Drive<br>\n\t\t\t\t\t\t\tSan Diego, CA 92121-1714</p>\n\t\t\t\t<p>Telephone Number of Designated Agent: (858) 845-6363<br>\n\t\t\t\t\t\t\tFacsimile Number of Designated Agent: (858) 845-1249<br>\n\t\t\t\t\t\t\tEmail Address of Designated Agent: copyrightagent [at] qualcomm [dot] com</p>\n\t\t\t\t<p>To be effective, the notification must be a written communication that includes the following:</p>\n\t\t\t\t<ol>\n\t\t\t\t<li>\n\t\t\t\t<p>A physical or electronic signature of the owner whose exclusive right is allegedly infringed or a person authorized to act on his or her behalf;</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p>Identification of the copyrighted work claimed to have been infringed, or if multiple copyrighted works at a single online site are covered by a single notification, a representative list of such works at that site;</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p>Identification of the material that is claimed to be infringing or is the subject of infringing activity and that is to be removed or access to which is to be disabled, and information reasonably sufficient to permit Qualcomm to locate the material on the Site;</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p>Information reasonably sufficient to permit Qualcomm to contact the copyright owner or his/her authorized agent including an address, telephone number, and if available, an electronic mail address;</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p>A statement that the copyright owner or authorized agent has a good faith belief that use of the material in the manner complained of is not authorized by the copyright owner, its agent, or the law;</p>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t<p>A statement that the information in the notification is accurate, and if submitted by the owner’s authorized agent a statement under penalty of perjury, that the agent is authorized to act on behalf of the owner of an exclusive right that is allegedly infringed.</p>\n\t\t\t\t<p><em>We may give you notice that we have removed or disabled access to certain material by means of a general notice on the Site, electronic mail to a user’s e-mail address in our records, or written communication sent by first-class mail to a user’s physical address in our records. If you receive such a notice, you may provide a counter-notification in writing to the Designated Agent that includes the information below.</em></p>\n\t\t\t\t<p><em>To be effective, a counter notification must be a written communication provided to Qualcomm’s Designated Agent at the above-provided address that includes substantially the following:</em></p>\n\t\t\t\t</li>\n\t\t\t\t<li>A physical or electronic signature of the alleged infringer;</li>\n\t\t\t\t<li>Identification of the material that has been removed or to which access has been disabled and the location at which the material appeared before it was removed or access to it was disabled;</li>\n\t\t\t\t<li>A statement under penalty of perjury that the alleged infringer has a good faith belief that the material was removed or disabled as a result of a mistake or misidentification of the material to be removed or disabled;</li>\n\t\t\t\t<li>The alleged infringer’s name, address, and telephone number, and a statement that the alleged infringer consents to the jurisdiction of Federal District Court for San Diego County, California, or if the Subscriber's address is outside of the United States, for any judicial district in which Qualcomm may be found, and that the alleged infringer will accept service of process from the person who provided notification or an agent of such person.</li>\n\t\t\t\t</ol>\n\t\t\t\t</li>\n\t\t\t\t<li> <strong>Export Restrictions.</strong> You must comply with all domestic and international export laws and regulations that may apply to the software or other materials obtained from this Site.</li>\n\t\t\t\t<li><strong>Trademarks.</strong> Qualcomm trademark of Qualcomm Incorporated, registered in the United States and other countries. Other product names, brand names and company names mentioned on this Site may be trademarks or registered trademarks of their respective owners.</li>\n\t\t\t\t<li><strong>Modification &amp; Termination.</strong> This TOU is effective until modified or terminated by Qualcomm. Qualcomm may modify this TOU from time to time and the new TOU will be effective when posted. Qualcomm may also terminate this TOU at any time without notice to you. In the event of termination, you are no longer authorized to access the Site and the restrictions imposed on you with respect to material downloaded from the Site, the disclaimers and limitations of liabilities, and export restrictions set forth in this agreement, shall survive.</li>\n\t\t\t\t<li><strong>Language</strong> This TOU is solely effective in its English language version and any translations of this TOU are provided solely for information and convenience. In the event this TOU is translated into any language other than English, the English version shall in all respects control and apply in case of any differences or discrepancies.</li>\n\t\t\t\t<li><strong>Governing Law.</strong>&nbsp;This TOU shall be governed by and construed in accordance with the laws of the State of California without giving effect to any principles or conflicts of law.</li>\n\t\t\t\t<li><strong>Severability.</strong> If any provision of this TOU shall be unlawful, void or for any reason unenforceable, then that provision shall be deemed severable from this agreement and shall not affect the validity and enforceability of any remaining provisions.</li>\n\t\t\t</ol>\n\t\t</div>\n\t\t<!-- <div class=\"privacy-name\">\n\t\t\t<p>Effective: July 30, 2019</p>\n\t\t</div> -->\n\t</div>\n</div>\n<style>\n\tol {\n\t\tcounter-reset:my-awesome-counter;\n\t\tpadding-left: 20px;\n\t}\n\n\tol li {\n\t\tposition: relative;\n\t\tcounter-increment:my-awesome-counter;\n\t}\n\n\tol li::before {\n\t\tcontent: counter(my-awesome-counter) \". \";\n\t\tcolor: rgb(0, 0, 0);\n\t\tfont-weight: 700;\n\t\tleft: -16px;\n\t\tdisplay: inline-block;\n\t\ttop: 0px;\n\t\tposition: absolute;\n\t}\n</style>","function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// Older browsers don't support event options, feature detect it.\n\n// Adopted and modified solution from Bohdan Didukh (2017)\n// https://stackoverflow.com/questions/41594997/ios-10-safari-prevent-scrolling-behind-a-fixed-overlay-and-maintain-scroll-posi\n\nvar hasPassiveEvents = false;\nif (typeof window !== 'undefined') {\n  var passiveTestOptions = {\n    get passive() {\n      hasPassiveEvents = true;\n      return undefined;\n    }\n  };\n  window.addEventListener('testPassive', null, passiveTestOptions);\n  window.removeEventListener('testPassive', null, passiveTestOptions);\n}\n\nvar isIosDevice = typeof window !== 'undefined' && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === 'MacIntel' && window.navigator.maxTouchPoints > 1);\n\n\nvar locks = [];\nvar documentListenerAdded = false;\nvar initialClientY = -1;\nvar previousBodyOverflowSetting = void 0;\nvar previousBodyPaddingRight = void 0;\n\n// returns true if `el` should be allowed to receive touchmove events.\nvar allowTouchMove = function allowTouchMove(el) {\n  return locks.some(function (lock) {\n    if (lock.options.allowTouchMove && lock.options.allowTouchMove(el)) {\n      return true;\n    }\n\n    return false;\n  });\n};\n\nvar preventDefault = function preventDefault(rawEvent) {\n  var e = rawEvent || window.event;\n\n  // For the case whereby consumers adds a touchmove event listener to document.\n  // Recall that we do document.addEventListener('touchmove', preventDefault, { passive: false })\n  // in disableBodyScroll - so if we provide this opportunity to allowTouchMove, then\n  // the touchmove event on document will break.\n  if (allowTouchMove(e.target)) {\n    return true;\n  }\n\n  // Do not prevent if the event has more than one touch (usually meaning this is a multi touch gesture like pinch to zoom).\n  if (e.touches.length > 1) return true;\n\n  if (e.preventDefault) e.preventDefault();\n\n  return false;\n};\n\nvar setOverflowHidden = function setOverflowHidden(options) {\n  // If previousBodyPaddingRight is already set, don't set it again.\n  if (previousBodyPaddingRight === undefined) {\n    var _reserveScrollBarGap = !!options && options.reserveScrollBarGap === true;\n    var scrollBarGap = window.innerWidth - document.documentElement.clientWidth;\n\n    if (_reserveScrollBarGap && scrollBarGap > 0) {\n      previousBodyPaddingRight = document.body.style.paddingRight;\n      document.body.style.paddingRight = scrollBarGap + 'px';\n    }\n  }\n\n  // If previousBodyOverflowSetting is already set, don't set it again.\n  if (previousBodyOverflowSetting === undefined) {\n    previousBodyOverflowSetting = document.body.style.overflow;\n    document.body.style.overflow = 'hidden';\n  }\n};\n\nvar restoreOverflowSetting = function restoreOverflowSetting() {\n  if (previousBodyPaddingRight !== undefined) {\n    document.body.style.paddingRight = previousBodyPaddingRight;\n\n    // Restore previousBodyPaddingRight to undefined so setOverflowHidden knows it\n    // can be set again.\n    previousBodyPaddingRight = undefined;\n  }\n\n  if (previousBodyOverflowSetting !== undefined) {\n    document.body.style.overflow = previousBodyOverflowSetting;\n\n    // Restore previousBodyOverflowSetting to undefined\n    // so setOverflowHidden knows it can be set again.\n    previousBodyOverflowSetting = undefined;\n  }\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#Problems_and_solutions\nvar isTargetElementTotallyScrolled = function isTargetElementTotallyScrolled(targetElement) {\n  return targetElement ? targetElement.scrollHeight - targetElement.scrollTop <= targetElement.clientHeight : false;\n};\n\nvar handleScroll = function handleScroll(event, targetElement) {\n  var clientY = event.targetTouches[0].clientY - initialClientY;\n\n  if (allowTouchMove(event.target)) {\n    return false;\n  }\n\n  if (targetElement && targetElement.scrollTop === 0 && clientY > 0) {\n    // element is at the top of its scroll.\n    return preventDefault(event);\n  }\n\n  if (isTargetElementTotallyScrolled(targetElement) && clientY < 0) {\n    // element is at the bottom of its scroll.\n    return preventDefault(event);\n  }\n\n  event.stopPropagation();\n  return true;\n};\n\nexport var disableBodyScroll = function disableBodyScroll(targetElement, options) {\n  // targetElement must be provided\n  if (!targetElement) {\n    // eslint-disable-next-line no-console\n    console.error('disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.');\n    return;\n  }\n\n  // disableBodyScroll must not have been called on this targetElement before\n  if (locks.some(function (lock) {\n    return lock.targetElement === targetElement;\n  })) {\n    return;\n  }\n\n  var lock = {\n    targetElement: targetElement,\n    options: options || {}\n  };\n\n  locks = [].concat(_toConsumableArray(locks), [lock]);\n\n  if (isIosDevice) {\n    targetElement.ontouchstart = function (event) {\n      if (event.targetTouches.length === 1) {\n        // detect single touch.\n        initialClientY = event.targetTouches[0].clientY;\n      }\n    };\n    targetElement.ontouchmove = function (event) {\n      if (event.targetTouches.length === 1) {\n        // detect single touch.\n        handleScroll(event, targetElement);\n      }\n    };\n\n    if (!documentListenerAdded) {\n      document.addEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = true;\n    }\n  } else {\n    setOverflowHidden(options);\n  }\n};\n\nexport var clearAllBodyScrollLocks = function clearAllBodyScrollLocks() {\n  if (isIosDevice) {\n    // Clear all locks ontouchstart/ontouchmove handlers, and the references.\n    locks.forEach(function (lock) {\n      lock.targetElement.ontouchstart = null;\n      lock.targetElement.ontouchmove = null;\n    });\n\n    if (documentListenerAdded) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n\n    // Reset initial clientY.\n    initialClientY = -1;\n  } else {\n    restoreOverflowSetting();\n  }\n\n  locks = [];\n};\n\nexport var enableBodyScroll = function enableBodyScroll(targetElement) {\n  if (!targetElement) {\n    // eslint-disable-next-line no-console\n    console.error('enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.');\n    return;\n  }\n\n  locks = locks.filter(function (lock) {\n    return lock.targetElement !== targetElement;\n  });\n\n  if (isIosDevice) {\n    targetElement.ontouchstart = null;\n    targetElement.ontouchmove = null;\n\n    if (documentListenerAdded && locks.length === 0) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n  } else if (!locks.length) {\n    restoreOverflowSetting();\n  }\n};\n\n","<script>\n\timport Modal from '../utils/modal.js';\n\timport {disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\n\tlet modalBG;\n\t$: if($Modal.component){\n\t\tdisableBodyScroll(modalBG);\n\t}else{\n\t\tenableBodyScroll(modalBG);\n\t}\n</script>\n{#if $Modal.component}\n    <div class=\"modal-background\" bind:this={modalBG} on:click={() => Modal.close()}></div>\n    <div class=\"svelte-modal\" role=\"dialog\" aria-modal=\"true\">\n        <button class=\"close-btn\" autofocus on:click={() => Modal.close()}>\n            <span class=\"material-icons\">\n                highlight_off\n            </span>\n        </button>\n        <svelte:component this={$Modal.component}/>\n        <!-- <svelte:body class:profile={isProfilePage} /> -->\n    </div>\n{/if}\n<svelte:head>\n\t{#if $Modal.component}\n\t\t<style>\n\t\t\tbody {\n\t\t\t\toverflow: hidden;\n\t\t\t}\n\t\t</style>\n\t{/if}\n</svelte:head>\n\n<style>\n\t.modal-background {\n\t\tposition: fixed;\n\t\tz-index: 1;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\t-webkit-backdrop-filter: blur(5px);\n\t\tbackdrop-filter: blur(5px);\n\t\tbackground-color: rgba(11, 39, 66, 0.8);\n\t\t-webkit-overflow-scrolling: touch;\n\n\t}\n\n\tbutton {\n\t\tdisplay: block;\n\t}\n\n\t.close-btn {\n\t\tdisplay: block;\n\t\tcursor: pointer;\n\t\tposition: absolute;\n\t\tz-index: 9999;\n\t\ttop: -24px;\n\t\tright: -29px;\n\t\twidth: 32px;\n\t\theight: 32px;\n\t\tbackground: none;\n\t\tborder: none !important;\n\t\toutline: none !important;\n\t}\n\n\t.close-btn span {\n\t\tfont-size: 36px;\n\t\tcolor: #fff;\n\t}\n</style>","<script>\n\timport 'notyf/notyf.min.css';\n\timport { Router, Route, Redirect, Fallback, getHistory, Layout } from 'swheel';\n\timport {onMount} from 'svelte';\n\timport DefaultLayout from './layouts/default.svelte';\n\timport MainLayout from './layouts/main.svelte';\n\timport Inner from './layouts/inner.svelte';\n\timport BlankLayout from './layouts/blank.svelte';\n\timport HomePage2Layout from './layouts/homepage2.svelte';\n\timport LoginPage from './pages/Login.svelte';\n\timport Home from './pages/Home.svelte';\n\timport HomePage2 from './pages/HomePage2.svelte';\n\timport LeaderBoard from './pages/Leaderboard.svelte';\n\timport Schedule from './pages/Schedule.svelte';\n\timport Videos from './pages/Videos.svelte';\n\timport Faqs from './pages/Faq.svelte';\n\timport FormatDetails from './pages/Format_details.svelte';\n\timport UserDashboard from './pages/users/Dashboard.svelte';\n\timport UserDashboardZerpPlayer from './pages/users/Dashboard-day-zero-player.svelte';\n\timport PrivacyPolicy from './pages/PrivacyPolicy.svelte';\n\timport Cookies from './pages/Cookies.svelte';\n\timport TermsOfUse from './pages/TermsOfUse.svelte';\n\timport DayZeroLeader from './pages/users/Dashboard-day-zero-leader.svelte';\n\timport Location from './pages/Location.svelte';\n\timport DeviceDetails from './pages/Device_Details.svelte';\n\timport Support from './pages/Support.svelte';\n\timport InGameQualifiers from './pages/users/In-game-qualifiers.svelte';\n\timport UserDashboardPlayoff from './pages/users/User-dashboard-playoff.svelte';\n\timport ModalRenderer from './components/ModalRenderer.svelte';\n\timport {User} from './models/user';\n\timport SaveInvite from './components/SaveInvite.svelte';\n\timport DevTool from './components/DevTool.svelte';\n\timport CompleteRegistration from './pages/CompleteRegistration.svelte'\n\timport Stats from './pages/Stats.svelte';\n\n\tconst user = User.getUser();\n\t\n\tif(window.location.search == '?RN_DEBUG=true'){\n\t\twindow.localStorage.setItem('debug', 'true');\n\t}else if(window.location.search == '?RN_DEBUG=false'){\n\t\twindow.localStorage.removeItem('debug');\n\t}\n\n\tconst isLive = true; //window.localStorage.getItem('debug');\n</script>\n<svelte:head>\n\t{#if isLive}\n\t\t<script>\n\t\t\twindow.fwSettings={\n\t\t\t'widget_id':82000001234\n\t\t\t};\n\t\t\t!function(){if(\"function\"!=typeof window.FreshworksWidget){var n=function(){n.q.push(arguments)};n.q=[],window.FreshworksWidget=n}}() \n\t\t</script>\n\t\t<script type='text/javascript' src='https://ind-widget.freshworks.com/widgets/82000001234.js' async defer></script>\n\t{/if}\n</svelte:head>\n<Router>\n\t<!-- {#if isLive} -->\n\t\t<!-- <Route path=\"/invite/:code\" component={SaveInvite}/> -->\n\t\t<!-- {#if !$user.first_name}\n\t\t\t<Route path=\"/login\" exact>\n\t\t\t\t<BlankLayout>\n\t\t\t\t\t<LoginPage />\n\t\t\t\t</BlankLayout>\n\t\t\t</Route>\n\t\t\t<Route path=\"/dashboard\">\n\t\t\t\t<Redirect to=\"/../login\"/>\n\t\t\t</Route>\n\t\t\t<Route path=\"/register\">\n\t\t\t\t<Redirect to=\"/../login\"/>\n\t\t\t</Route>\n\t\t{:else}\n\t\t\t{#if $user.role == 'admin'}\n\t\t\t\t<Route path=\"/stats\">\n\t\t\t\t\t<Stats />\n\t\t\t\t</Route>\n\t\t\t{/if}\n\t\t\t<Route path=\"/login\">\n\t\t\t\t<Redirect to=\"/../dashboard\"/>\n\t\t\t</Route>\n\t\t\t<Route path=\"/register\">\n\t\t\t\t<Redirect to=\"/../dashboard\"/>\n\t\t\t</Route>\n\t\t\t{#if !$user.city}\n\t\t\t\t<Route path=\"/dashboard\">\n\t\t\t\t\t<BlankLayout>\n\t\t\t\t\t\t<Location />\n\t\t\t\t\t</BlankLayout>\n\t\t\t\t</Route>\n\t\t\t{:else if !$user.device_brand}\n\t\t\t\t<Route path=\"/dashboard\">\n\t\t\t\t\t<BlankLayout>\n\t\t\t\t\t\t<DeviceDetails />\n\t\t\t\t\t</BlankLayout>\n\t\t\t\t</Route>\n\t\t\t{:else if !($user.accept_tnc && $user.reg_complete)}\n\t\t\t\t<Route path=\"/dashboard\">\n\t\t\t\t\t<BlankLayout>\n\t\t\t\t\t\t<CompleteRegistration/>\n\t\t\t\t\t</BlankLayout>\n\t\t\t\t</Route>\n\t\t\t{:else}\n\t\t\t<Route path=\"/dayzeroleader\">\n\t\t\t\t<DefaultLayout>\n\t\t\t\t\t<DayZeroLeader />\n\t\t\t\t</DefaultLayout>\n\t\t\t</Route>\n\t\t\t<Route path=\"/dashboard\">\n\t\t\t\t<DefaultLayout>\n\t\t\t\t\t<UserDashboard />\n\t\t\t\t</DefaultLayout>\n\t\t\t</Route>\n\t\t\t<Route path=\"/dashboard1\">\n\t\t\t\t<DefaultLayout>\n\t\t\t\t\t<UserDashboardZerpPlayer />\n\t\t\t\t</DefaultLayout>\n\t\t\t</Route>\n\t\t\t<Route path=\"/ingamequalifiers\">\n\t\t\t\t<DefaultLayout>\n\t\t\t\t\t<InGameQualifiers />\n\t\t\t\t</DefaultLayout>\n\t\t\t</Route>\n\t\t\t<Route path=\"/userdashboardplayoff\">\n\t\t\t\t<DefaultLayout>\n\t\t\t\t\t<UserDashboardPlayoff />\n\t\t\t\t</DefaultLayout>\n\t\t\t</Route>\n\t\t\t{/if}\n\t\t{/if} -->\n\t\t<Route path=\"/privacypolicy\">\n\t\t\t<DefaultLayout>\n\t\t\t\t<PrivacyPolicy />\n\t\t\t</DefaultLayout>\n\t\t</Route>\n\t\t<Route path=\"/termsofuse\">\n\t\t\t<DefaultLayout>\n\t\t\t\t<TermsOfUse />\n\t\t\t</DefaultLayout>\n\t\t</Route>\n\t\t<Route path=\"/cookies\">\n\t\t\t<DefaultLayout>\n\t\t\t\t<Cookies />\n\t\t\t</DefaultLayout>\n\t\t</Route>\n\t\t<!-- <Route path=\"/support\">\n\t\t\t<DefaultLayout>\n\t\t\t\t<Support />\n\t\t\t</DefaultLayout>\n\t\t</Route> -->\n\t\t<Route path=\"/\" exact>\n\t\t\t<MainLayout>\n\t\t\t\t<Home />\n\t\t\t</MainLayout>\n\t\t</Route>\n\t\t<Route path=\"/?:params\" exact>\n\t\t\t<MainLayout>\n\t\t\t\t<Home />\n\t\t\t</MainLayout>\n\t\t</Route>\n\t\t<Route path=\"/contest\">\n\t\t\t<MainLayout>\n\t\t\t\t<Home />\n\t\t\t</MainLayout>\n\t\t</Route>\n\t\t<Route path=\"/contest?:params\">\n\t\t\t<MainLayout>\n\t\t\t\t<Home />\n\t\t\t</MainLayout>\n\t\t</Route>\n\t\t<Route path=\"/vote\">\n\t\t\t<MainLayout>\n\t\t\t\t<Home />\n\t\t\t</MainLayout>\n\t\t</Route>\n\t\t\n\t\t<Route path=\"/format\">\n\t\t\t<MainLayout>\n\t\t\t\t<Home />\n\t\t\t</MainLayout>\n\t\t</Route>\n\t\t<Route path=\"/leaderboard\">\n\t\t\t<MainLayout>\n\t\t\t\t<Home />\n\t\t\t</MainLayout>\n\t\t</Route>\n\t\t<Route path=\"/schedule\">\n\t\t\t<MainLayout>\n\t\t\t\t<Home />\n\t\t\t</MainLayout>\n\t\t</Route>\n\t\t<Route path=\"/videos\">\n\t\t\t<Inner>\n\t\t\t\t<Videos />\n\t\t\t</Inner>\n\t\t</Route>\n\t\t<!-- <Route path=\"/faqs\">\n\t\t\t<Inner>\n\t\t\t\t<Faqs />\n\t\t\t</Inner>\n\t\t</Route> -->\n\t\t\n\t\t<!-- <Route path=\"/devon\">\n\t\t\t<DevTool/>\n\t\t</Route>\n\t\t<Route path=\"/devoff\">\n\t\t\t<DevTool/>\n\t\t</Route> -->\n\t<!-- {:else}\n\t\t<Route path=\"/\" exact>\n\t\t\t<HomePage2Layout>\n\t\t\t\t<HomePage2 />\n\t\t\t</HomePage2Layout>\n\t\t</Route>\n\t{/if} -->\n\t<Fallback>NotFound</Fallback>\n</Router>\n<ModalRenderer/>","import App from './App.svelte';\n\nconst app = new App({\n\ttarget: document.body,\n\tprops: {\n\t\tname: 'world'\n\t}\n});\n\nexport default app;"],"names":["noop","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","current_component","src_url_equal","element_src","url","document","createElement","href","subscribe","store","callbacks","unsub","unsubscribe","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","slice","get_slot_changes","dirty","lets","undefined","merged","len","Math","max","length","i","update_slot_base","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","p","get_all_dirty_from_scope","action_destroyer","action_result","destroy","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","toggle_class","toggle","classList","set_current_component","get_current_component","Error","onDestroy","setContext","key","context","set","getContext","get","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","add_render_callback","flushing","seen_callbacks","Set","update","pop","has","add","clear","fragment","before_update","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","d","handle_promise","promise","info","token","type","index","resolved","child_ctx","current","needs_flush","blocks","m","mount","error","catch","hasCatch","pending","get_spread_update","levels","updates","to_null_out","accounted_for","n","get_spread_object","spread_props","create_component","mount_component","customElement","on_mount","new_on_destroy","map","filter","destroy_component","detaching","init","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_disconnect","Map","skip_bound","root","ready","ret","rest","fill","make_dirty","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","$destroy","this","$on","indexOf","splice","$set","$$props","obj","$$set","keys","styleInject","css","ref","insertAt","head","getElementsByTagName","style","firstChild","styleSheet","cssText","links","history","onClick","e","stopPropagation","tagName","parentElement","includes","action","find","rule","startsWith","preventDefault","subscriber_queue","readable","start","writable","stop","subscribers","new_value","run_queue","subscriber","invalidate","size","derived","stores","initial_value","single","isArray","stores_array","auto","inited","values","cleanup","sync","result","unsubscribers","CONTEXT_KEY","globalHistory","window","createBrowserHistory","currentPath","setPath","unblock","isBlocked","acceptLeave","cancelLeave","onLeave","offLeave","wasTriedToLeave","initialPath","_isBlocked","_isLeaving","_leaveListeners","path","listener","createBaseHistory","getCurrentPath","isStateChangedFromUI","pendingAction","currentState","state","back","forward","wrapAfterAction","args","presentedPendingAction","onPageUnload","returnValue","location","pathname","search","hash","setCurrentPath","replaceState","wrappedOnStateChange","to","pushState","replace","HISTORY_KEY","getHistory","baseHistory","createBaseBrowserHistory","pathToRegexp","str","regexpToFunction","parse","tokensToFunction","tokensToRegExp","PATH_REGEXP","RegExp","join","res","tokens","defaultDelimiter","delimiter","whitelist","pathEscaped","exec","escaped","offset","prev","capture","group","modifier","repeat","optional","pattern","prefix","escapeGroup","escapeString","substr","re","params","decode","decodeURIComponent","split","matches","flags","encode","encodeURIComponent","validate","segment","TypeError","j","test","String","sensitive","strict","end","endsWith","concat","route","endToken","isEndDelimited","groups","source","match","regexpToRegexp","parts","arrayToRegexp","stringToRegexp","patternCache","cacheCount","matchPath","exact","cacheKey","cache","compiledPattern","compilePath","isExact","reduce","memo","createBasePath","basePath","CONTEXT_ROUTER_KEY","CONTEXT_DEPTH_KEY","CONTEXT_RENDER_UNLOCKED","createRoute","depth","isProtected","protections","acc","next","isRenderUnlocked","subject","$isProtected","$currentPath","routeData","remove","createFallback","isFallback","async","nextFallback","getRoutes","some","_","$history","content","id","cachedHistory","routes","createRouter","mId","default","throttle","all","ms","setTimeout","loadedComponent","getPromiseFromCache","lazy","when","currentDepth","getDepth","routePath","NotyfArrayEvent","__assign","t","s","arguments","prototype","hasOwnProperty","call","apply","NotyfNotification","listeners","on","eventType","cb","triggerEvent","_this","NotyfEvent","NotyfArray","notifications","elem","updateFn","Add","num","Remove","onUpdate","DEFAULT_OPTIONS","types","className","backgroundColor","icon","duration","ripple","position","x","y","dismissible","NotyfView","events","X_POSITION_FLEX_MAP","left","center","right","Y_POSITION_FLEX_MAP","top","bottom","docFrag","createDocumentFragment","notyfContainer","_createHTMLElement","body","container","animationEndEventName","_getAnimationEndEventName","_createA11yContainer","_a","notification","addNotification","removeNotification","handleEvent","renderedNotification","_popRenderedNotification","_renderNotification","_announce","message","card","_buildNotificationCard","idx","getXPosition","getYPosition","adjustContainerAlignment","align","justify","setProperty","iconOpts","notificationElem","wrapper","innerHTML","mainColor","background","iconContainer","valueOf","className_1","_b","color","iconElement","dismissWrapper","dismissButton","Dismiss","Click","textContent","a11yContainer","border","clip","height","margin","overflow","padding","width","outline","el","transitions","MozTransition","OTransition","WebkitTransition","transition","notyf","Notyf","opts","dismiss","_removeNotification","view","registerTypes","payload","normalizeOptions","open","success","defaultOpts","config","assignProps","_pushNotification","dismissAll","prop","incomingTypes","defaultType","userTypeIdx","userType","saveAs","navigator","userAgent","doc","get_URL","URL","webkitURL","save_link","createElementNS","can_use_save_link","is_safari","HTMLElement","safari","is_chrome_ios","throw_outside","ex","setImmediate","revoke","file","revokeObjectURL","auto_bom","blob","Blob","fromCharCode","FileSaver","no_auto_bom","object_url","filesaver","force","dispatch_all","event_types","dispatch","readyState","INIT","createObjectURL","download","MouseEvent","dispatchEvent","DONE","FileReader","reader","onloadend","readAsDataURL","fs_error","FS_proto","msSaveOrOpenBlob","abort","WRITING","onwritestart","onprogress","onwrite","onabort","onerror","onwriteend","self","module","exports","hookCallback","hooks","setHookCallback","input","toString","isObject","hasOwnProp","isObjectEmpty","getOwnPropertyNames","isUndefined","isNumber","isDate","Date","arr","extend","createUTC","format","locale","createLocalOrUTC","utc","defaultParsingFlags","unusedTokens","unusedInput","charsLeftOver","nullInput","invalidEra","invalidMonth","invalidFormat","userInvalidated","iso","parsedDateParts","era","meridiem","rfc2822","weekdayMismatch","getParsingFlags","_pf","isValid","_isValid","parsedParts","isNowValid","isNaN","_d","getTime","invalidWeekday","_strict","bigHour","isFrozen","createInvalid","NaN","fun","momentProperties","updateInProgress","copyConfig","val","_isAMomentObject","_i","_f","_l","_tzm","_isUTC","_offset","_locale","Moment","updateOffset","isMoment","warn","msg","suppressDeprecationWarnings","console","deprecate","firstTime","deprecationHandler","arg","stack","deprecations","deprecateSimple","isFunction","Function","_config","_dayOfMonthOrdinalParseLenient","_dayOfMonthOrdinalParse","_ordinalParse","mergeConfigs","parentConfig","childConfig","Locale","defaultCalendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","calendar","mom","now","output","_calendar","zeroFill","number","targetLength","forceSign","absNumber","abs","zerosToFill","pow","formattingTokens","localFormattingTokens","formatFunctions","formatTokenFunctions","addFormatToken","padded","ordinal","func","localeData","removeFormattingTokens","makeFormatFunction","array","formatMoment","expandFormat","invalidDate","replaceLongDateFormatTokens","longDateFormat","lastIndex","defaultLongDateFormat","LTS","LT","L","LL","LLL","LLLL","_longDateFormat","formatUpper","toUpperCase","tok","defaultInvalidDate","_invalidDate","defaultOrdinal","defaultDayOfMonthOrdinalParse","_ordinal","defaultRelativeTime","future","past","ss","mm","h","hh","dd","w","ww","M","MM","yy","relativeTime","withoutSuffix","string","isFuture","_relativeTime","pastFuture","diff","aliases","addUnitAlias","unit","shorthand","lowerCase","toLowerCase","normalizeUnits","units","normalizeObjectUnits","inputObject","normalizedProp","normalizedInput","priorities","addUnitPriority","priority","getPrioritizedUnits","unitsObj","u","sort","isLeapYear","year","absFloor","ceil","floor","toInt","argumentForCoercion","coercedNumber","isFinite","makeGetSet","keepTime","set$1","month","date","daysInMonth","stringGet","stringSet","prioritized","regexes","match1","match2","match3","match4","match6","match1to2","match3to4","match5to6","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchOffset","matchShortOffset","matchTimestamp","matchWord","addRegexToken","regex","strictRegex","isStrict","getParseRegexForToken","unescapeFormat","regexEscape","matched","p1","p2","p3","p4","addParseToken","addWeekParseToken","_w","addTimeToArrayFromToken","YEAR","MONTH","DATE","HOUR","MINUTE","SECOND","MILLISECOND","WEEK","WEEKDAY","mod","modMonth","monthsShort","months","monthsShortRegex","monthsRegex","monthsParse","defaultLocaleMonths","defaultLocaleMonthsShort","MONTHS_IN_FORMAT","defaultMonthsShortRegex","defaultMonthsRegex","localeMonths","_months","isFormat","localeMonthsShort","_monthsShort","handleStrictParse","monthName","ii","llc","toLocaleLowerCase","_monthsParse","_longMonthsParse","_shortMonthsParse","localeMonthsParse","_monthsParseExact","setMonth","dayOfMonth","min","getSetMonth","getDaysInMonth","computeMonthsParse","_monthsShortStrictRegex","_monthsShortRegex","_monthsStrictRegex","_monthsRegex","cmpLenRev","shortPieces","longPieces","mixedPieces","daysInYear","parseTwoDigitYear","parseInt","getSetYear","getIsLeapYear","createDate","getFullYear","setFullYear","createUTCDate","UTC","getUTCFullYear","setUTCFullYear","firstWeekOffset","dow","doy","fwd","getUTCDay","dayOfYearFromWeeks","week","weekday","resYear","resDayOfYear","dayOfYear","weekOfYear","resWeek","weekOffset","weeksInYear","weekOffsetNext","localeWeek","_week","defaultLocaleWeek","localeFirstDayOfWeek","localeFirstDayOfYear","getSetWeek","getSetISOWeek","parseWeekday","weekdaysParse","parseIsoWeekday","shiftWeekdays","ws","weekdaysMin","weekdaysShort","weekdays","weekdaysMinRegex","weekdaysShortRegex","weekdaysRegex","defaultLocaleWeekdays","defaultLocaleWeekdaysShort","defaultLocaleWeekdaysMin","defaultWeekdaysRegex","defaultWeekdaysShortRegex","defaultWeekdaysMinRegex","localeWeekdays","_weekdays","day","localeWeekdaysShort","_weekdaysShort","localeWeekdaysMin","_weekdaysMin","handleStrictParse$1","weekdayName","_weekdaysParse","_shortWeekdaysParse","_minWeekdaysParse","localeWeekdaysParse","_weekdaysParseExact","_fullWeekdaysParse","getSetDayOfWeek","getDay","getSetLocaleDayOfWeek","getSetISODayOfWeek","computeWeekdaysParse","_weekdaysStrictRegex","_weekdaysRegex","_weekdaysShortStrictRegex","_weekdaysShortRegex","_weekdaysMinStrictRegex","_weekdaysMinRegex","minp","shortp","longp","minPieces","hFormat","hours","kFormat","lowercase","minutes","matchMeridiem","_meridiemParse","localeIsPM","charAt","seconds","kInput","_isPm","isPM","_meridiem","pos","pos1","pos2","defaultLocaleMeridiemParse","getSetHour","localeMeridiem","isLower","globalLocale","baseConfig","dayOfMonthOrdinalParse","meridiemParse","locales","localeFamilies","commonPrefix","arr1","arr2","minl","normalizeLocale","chooseLocale","names","loadLocale","oldLocale","_abbr","require","getSetGlobalLocale","getLocale","defineLocale","abbr","parentLocale","updateLocale","tmpLocale","listLocales","checkOverflow","_overflowDayOfYear","_overflowWeeks","_overflowWeekday","extendedIsoRegex","basicIsoRegex","tzRegex","isoDates","isoTimes","aspNetJsonRegex","obsOffsets","UT","GMT","EDT","EST","CDT","CST","MDT","MST","PDT","PST","configFromISO","allowTime","dateFormat","timeFormat","tzFormat","configFromStringAndFormat","extractFromRFC2822Strings","yearStr","monthStr","dayStr","hourStr","minuteStr","secondStr","untruncateYear","preprocessRFC2822","checkWeekday","weekdayStr","parsedInput","calculateOffset","obsOffset","militaryOffset","numOffset","hm","configFromRFC2822","parsedArray","setUTCMinutes","getUTCMinutes","configFromString","createFromInputFallback","defaults","currentDateArray","nowValue","_useUTC","getUTCMonth","getUTCDate","getMonth","getDate","configFromArray","currentDate","expectedWeekday","yearToUse","dayOfYearFromWeekInfo","_dayOfYear","_nextDay","weekYear","temp","weekdayOverflow","curWeek","GG","W","E","createLocal","gg","ISO_8601","RFC_2822","skipped","stringLength","totalParsedInputLength","meridiemFixWrap","erasConvertYear","hour","isPm","meridiemHour","configFromStringAndArray","tempConfig","bestMoment","scoreToBeat","currentScore","validFormatFound","bestFormatIsValid","score","configFromObject","dayOrDate","minute","second","millisecond","createFromConfig","prepareConfig","preparse","configFromInput","isUTC","prototypeMin","other","prototypeMax","pickBy","moments","ordering","isDurationValid","unitHasDecimal","parseFloat","isValid$1","createInvalid$1","createDuration","Duration","years","quarters","quarter","weeks","isoWeek","days","milliseconds","_milliseconds","_days","_data","_bubble","isDuration","absRound","round","compareArrays","array1","array2","dontConvert","lengthDiff","diffs","separator","utcOffset","sign","offsetFromString","chunkOffset","matcher","cloneWithOffset","model","clone","setTime","getDateOffset","getTimezoneOffset","getSetOffset","keepLocalTime","keepMinutes","localAdjust","_changeInProgress","addSubtract","getSetZone","setOffsetToUTC","setOffsetToLocal","subtract","setOffsetToParsedOffset","tZone","hasAlignedHourOffset","isDaylightSavingTime","isDaylightSavingTimeShifted","_isDSTShifted","toArray","isLocal","isUtcOffset","isUtc","aspNetRegex","isoRegex","diffRes","parseIso","momentsDifference","inp","positiveMomentsDifference","base","isAfter","isBefore","createAdder","direction","period","tmp","isAdding","invalid","isString","isMomentInput","isNumberOrStringArray","isMomentInputObject","property","objectTest","propertyTest","properties","arrayTest","dataTypeTest","item","isCalendarSpec","getCalendarFormat","myMoment","calendar$1","time","formats","sod","startOf","calendarFormat","localInput","endOf","isBetween","inclusivity","localFrom","localTo","isSame","inputMs","isSameOrAfter","isSameOrBefore","asFloat","that","zoneDelta","monthDiff","wholeMonthDiff","toISOString","keepOffset","toDate","inspect","datetime","suffix","zone","inputString","defaultFormatUtc","defaultFormat","postformat","humanize","fromNow","toNow","newLocaleData","lang","MS_PER_SECOND","MS_PER_MINUTE","MS_PER_HOUR","MS_PER_400_YEARS","mod$1","dividend","divisor","localStartOfDate","utcStartOfDate","startOfDate","isoWeekday","unix","toObject","toJSON","isValid$2","parsingFlags","invalidAt","creationData","localeEras","eras","_eras","since","until","localeErasParse","eraName","narrow","localeErasConvertYear","dir","getEraName","getEraNarrow","getEraAbbr","getEraYear","erasNameRegex","computeErasParse","_erasNameRegex","_erasRegex","erasAbbrRegex","_erasAbbrRegex","erasNarrowRegex","_erasNarrowRegex","matchEraAbbr","matchEraName","matchEraNarrow","matchEraYearOrdinal","_eraYearOrdinalRegex","abbrPieces","namePieces","narrowPieces","addWeekYearFormatToken","getter","getSetWeekYear","getSetWeekYearHelper","getSetISOWeekYear","getISOWeeksInYear","getISOWeeksInISOWeekYear","isoWeekYear","getWeeksInYear","weekInfo","getWeeksInWeekYear","weeksTarget","setWeekAll","dayOfYearData","getSetQuarter","erasParse","eraYearOrdinalParse","getSetDayOfMonth","getSetDayOfYear","getSetMinute","getSetMillisecond","getSetSecond","parseMs","getZoneAbbr","getZoneName","proto","createUnix","createInZone","parseZone","preParsePostFormat","Symbol","for","eraNarrow","eraAbbr","eraYear","isoWeeks","weeksInWeekYear","isoWeeksInYear","isoWeeksInISOWeekYear","isDST","zoneAbbr","zoneName","dates","isDSTShifted","proto$1","get$1","field","setter","listMonthsImpl","out","listWeekdaysImpl","localeSorted","shift","listMonths","listMonthsShort","listWeekdays","listWeekdaysShort","listWeekdaysMin","firstDayOfYear","firstDayOfWeek","langData","mathAbs","addSubtract$1","add$1","subtract$1","absCeil","bubble","monthsFromDays","monthsToDays","daysToMonths","as","valueOf$1","makeAs","alias","asMilliseconds","asSeconds","asMinutes","asHours","asDays","asWeeks","asMonths","asQuarters","asYears","clone$1","get$2","makeGetter","thresholds","substituteTimeAgo","relativeTime$1","posNegDuration","getSetRelativeTimeRounding","roundingFunction","getSetRelativeTimeThreshold","threshold","limit","argWithSuffix","argThresholds","withSuffix","th","abs$1","toISOString$1","totalSign","ymSign","daysSign","hmsSign","total","toFixed","proto$2","toIsoString","version","relativeTimeRounding","relativeTimeThreshold","HTML5_FMT","DATETIME_LOCAL","DATETIME_LOCAL_SECONDS","DATETIME_LOCAL_MS","TIME","TIME_SECONDS","TIME_MS","factory","close","createModalStore","TeamStore","code","Team","fetch","method","headers","auth","json","Toast","JSON","stringify","localStorage","getItem","authToken","team","teamItem","post","emails","getTeam","show","request","loaded","query","page","userInit","first_name","last_name","dob","mobile","free_fire_id","loggedOut","role","menuMobile","menuDropdown","getInstance","atob","createUserStore","thumb","classes","video","isLive","filename_disk","live","urlParams","URLSearchParams","setItem","extendStatics","setPrototypeOf","__proto__","__extends","__","constructor","__spreadArray","pack","ar","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","prevRaf","afterPaintEffects","oldBeforeDiff","oldBeforeRender","oldAfterDiff","diffed","oldCommit","oldBeforeUnmount","unmount","flushAfterPaintEffects","invokeCleanup","invokeEffect","vnode","requestAnimationFrame","raf","done","clearTimeout","timeout","HAS_RAF","cancelAnimationFrame","commitQueue","hook","shallowDiffers","globalObj","globalThis","FullCalendarVDom","Component","preact","render","createRef","Fragment","createContext","defaultValue","ContextType","origProvider","Provider","isNew","getChildContext","subs_1","shouldComponentUpdate","_props","forceUpdate","sub","old","componentWillUnmount","createPortal","flushToDom","oldDebounceRendering","debounceRendering","callbackQ","execCallbackSync","FakeComponent","unmountComponentAtNode","_super","componentDidMount","setState","EventSourceApi","internalEventSource","sourceId","refetch","sourceIds","isRefetch","defineProperty","publicId","meta","Calendar","optionOverrides","isRendering","isRendered","currentClassNames","customContentRenderId","handleAction","renderRunner","tryDrain","handleData","currentData","calendarOptions","rerenderDelay","handleRenderRequest","currentData_1","CalendarRoot","theme","emitter","classNames","isHeightAuto","forPrint","setClassNames","setHeight","CustomContentRenderContext","CalendarContent","DelayedRunner","CalendarDataManager","calendarApi","onAction","onData","viewApi","wasRendering","updateSize","batchRendering","pause","resume","pauseRendering","resumeRendering","resetOptions","currentDataManager","isArraysEqual","classNames_1","applyStyleProp","CalendarApi","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","sections","stickyHeaderDates","getStickyHeaderDates","isSticky","chunk","elRef","tableClassName","rowContent","liquid","ViewRoot","viewSpec","rootElRef","SimpleScrollGrid","collapsibleWidth","cols","renderHScrollLayout","colCnt","dayMinWidth","ScrollGrid","pluginHooks","scrollGridImpl","stickyFooterScrollbar","getStickyFooterScrollbar","chunks","renderScrollShim","colGroups","span","minWidth","DateComponent","wholeText","iterations","toggleFlag","status","owner","created_on","thumbnail","hasPassiveEvents","passiveTestOptions","isIosDevice","platform","maxTouchPoints","locks","documentListenerAdded","initialClientY","previousBodyOverflowSetting","previousBodyPaddingRight","allowTouchMove","lock","rawEvent","touches","disableBodyScroll","targetElement","_toConsumableArray","ontouchstart","targetTouches","clientY","ontouchmove","scrollTop","scrollHeight","clientHeight","isTargetElementTotallyScrolled","handleScroll","passive","_reserveScrollBarGap","reserveScrollBarGap","scrollBarGap","innerWidth","documentElement","clientWidth","paddingRight","setOverflowHidden","enableBodyScroll","modalBG","$Modal","Modal","removeItem"],"mappings":"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"}